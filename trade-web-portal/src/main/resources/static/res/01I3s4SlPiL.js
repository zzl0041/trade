(function(b){var c=window.UIPageJS||window.P,d=c._namespace||c.attributeErrors,a=d?d("DetailPageLayoutAssets",""):c;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,c,d){b.when("A","ready").execute(function(a){var b,d=a.$;a.on("a:expander:zones_prog/ressive_disclosure_expander:toggle:collapse",function(a){(a=d("#dp-pr-top"))&&a.length||c.scrollTo({top:b})});a.on("a:expander:zones_prog/ressive_disclosure_expander:toggle:expand",function(a){b=d(c).scrollTop()})})});
/* ******** */
(function(l){var m=window.UIPageJS||window.P,n=m._namespace||m.attributeErrors,c=n?n("DetailPageMobileIconFarmAssets@common","DetailPageMobileIconFarm"):m;c.guardFatal?c.guardFatal(l)(c,window):c.execute(function(){l(c,window)})})(function(l,m,n){l.when("A","ready").register("get-icon-farm-page-state",function(c){return{parseJSON:function(e,b){b="iconfarm-state-"+b;var d='script[data-a-state\x3d"{"key":"'+b+'"}"]',a;try{a=c.$("#"+e).find(d).html()}catch(g){console.log(g.message)}a?e=c.$.parseJSON(a):
(c.state.parse(),e=c.state(b));return e}}});l.declare("icon-farm-mod-constants",{selector:{BUYBOX_ACCORDION:"#buybox .a-accordion",BUYBOX_ACCORDION_ACTIVE:"#buybox .a-accordion-active",iconfarm:"#iconfarmv2_feature_div .offersConsistencyEnabled"}});l.declare("iconfarm-metrics-constants",{ICON_FARM_FEATURE_DIV:"iconFarm_feature_div",ICON_FARM_PAGE_STATE_HOLDER_DIV:"iconfarm-pagestate-holder",METRIC_TYPE:{GLANCE_VIEW:"GLANCE_VIEW",ICON_CLICK:"ICON_CLICK",SECONDARY_PAGE_OPEN:"SECONDARY_PAGE_OPEN",SECONDARY_PAGE_CLOSE:"SECONDARY_PAGE_CLOSE",
FULL_RETURN_POLICY:"FULL_RETURN_POLICY",PAGE_DATA_MISSING:"PAGE_DATA_MISSING",ABSENT:"ABSENT"},REF_MARKER_PREFIX:{ICON_FARM_WIDGET:"iconfarm_wid",_DELIVERED:"iconfarm_ad",RETURNS_POLICY:"iconfarm_rp",PAY_ON_DELIVERY:"iconfarm_pod",WARRANTY:"iconfarm_wr",EASY_CARE:"iconfarm_ec",_PROTECT:"iconfarm_ap",NO_CONTACT_DELIVERY:"iconfarm_ncd",GENERIC_RETURN_POLICY:"iconfarm_grp",MULTIPLE_SPECIFIC_RETURN_POLICY:"iconfarm_msrp",SINGLE_SPECIFIC_RETURN_POLICY:"iconfarm_ssrp",PAYMENTS_AND_SECURITY:"iconfarm_ps",
PAY_ON_DELIVERY_ACTIVE:"iconfarm_pod_active",PAY_ON_DELIVERY_INACTIVE:"iconfarm_pod_inactive",WARRANTY_EU:"iconfarm_wr_eu",_MANAGED_DELIVERY:"iconfarm_amd",_DELIVERED_MENA:"iconfarm_ad_mena",SAFE_PAYMENTS:"iconfarm_sp",STATIC_RETURNS_POLICY:"iconfarm_srp",GENERIC_RETURNS_POLICY:"iconfarm_grp",SUPPORT_POLICY:"iconfarm_supp",WARRANTY360:"iconfarm_wr360",WORRY_FREE_GUARANTEE_JP:"iconfarm_wfg_jp",WARRANTY_JP:"iconfarm_wr_jp",FREE_DELIVERY:"iconfarm_fd"},REF_MARKER_SUFFIX:{GLANCE_VIEW:"_gv",
ICON_CLICK:"_clk",SECONDARY_PAGE_OPEN:"_sp_op",SECONDARY_PAGE_CLOSE:"_sp_cl",FULL_RETURN_POLICY:"_frp",ABSENT:"_noavail"},NEXUS_CONFIG:{NEXUS_PRODUCER_ID:"a2i-dpx",NEXUS_SCHEMA_ID:"a2i.dpx.WidgetImp/ressions.3"},LOGGER_CONFIG:{NEXUS_LOGGER:"nexus"}});l.when("A","iconfarm-return-policy-metric-logger","iconfarm-pay-on-delivery-metric-logger","iconfarm-default-metric-logger").register("iconfarm-icon-metric-factory",function(c,e,b,d){return{getIconMetric:function(a){switch(a){case "RETURNS_POLICY":return e;
case "PAY_ON_DELIVERY":return b;default:return d}}}});l.when("A","iconfarm-metrics-constants","get-icon-farm-page-state","iconfarm-icon-metric-factory","ready").register("iconfarm-metricLogger",function(c,e,b,d){return{log:function(a,g,h,f){if(a&&g&&null!==h&&e.REF_MARKER_PREFIX[a]&&e.REF_MARKER_SUFFIX[g]){var k=b.parseJSON(e.ICON_FARM_PAGE_STATE_HOLDER_DIV+"-"+h,h);k?d.getIconMetric(a).log(a,g,h,c.$.extend(!0,{asin:k.asin,merchantId:k.merchantId,remoteAdd/ress:k.remoteAdd/ress,isInternal:k.isInternal,
isRobot:k.isRobot,numOfShownIcons:k.numOfShownIcons,buyingOptionIndex:h},f)):console.warn("iconfarm state may not be available")}}}});l.when("A","ready").register("iconfarm-postmetric",function(){return{postCountMetric:function(c){if("undefined"!==typeof c){var e=m.ue;if(e){var b=e.count(c)||0;e.count(c,b+1)}}},postTimeMetric:function(c,e){if("undefined"!==typeof c&&"undefined"!==typeof e){var b=m.ue;b&&b.count(c,e)}}}});l.when("A","ready").register("iconfarm-metric-cache",function(c){var e=[],b=
function(a){if(!d(a))return!1;var b=!1;c.each(e,function(c,d){c.asin===a.asin&&c.merchantId===a.merchantId&&c.ref===a.ref&&c.loggerType===a.loggerType&&c.buyingOptionIndex===a.buyingOptionIndex&&(b=!0)});return b},d=function(a){return a&&a.asin&&a.merchantId&&a.ref&&a.loggerType&&null!==a.buyingOptionIndex};return{isP/resent:b,add:function(a){return d(a)?b(a)?!1:(e.push(a),!0):!1},/reset:function(){e=[]}}});"use strict";l.when("A","iconfarm-metric-cache","iconfarm-metrics-constants","ready").register("iconfarm-Nexus-Service",
function(c,e,b){return{log:function(d){if(e.add(d)){var a={};a.producerId=b.NEXUS_CONFIG.NEXUS_PRODUCER_ID;a.schemaId=b.NEXUS_CONFIG.NEXUS_SCHEMA_ID;a.refMarker=d.ref;a.pageAsin=d.asin;a.pageType=c.capabilities?c.capabilities.mobile?c.capabilities.isApp?"DetailWebView":"DetailAW":"Detail":"";a.subPageType="IconFarm";a.server=m?m.ue_sn:"";a.merchantId=d.merchantId;a.remoteAdd/ress=d.remoteAdd/ress;a.isInternal=d.isInternal?1:0;a.isRobot=d.isRobot?1:0;var g={};g.numOfShownIcons=d.numOfShownIcons;
g.buyingOptionIndex=d.buyingOptionIndex;d=JSON.stringify(g);a.additionalRequestData=d;if(d=m.ue)try{d.event&&d.event(a,b.NEXUS_CONFIG.NEXUS_PRODUCER_ID,b.NEXUS_CONFIG.NEXUS_SCHEMA_ID)}catch(h){d.count("NexusLoggerFailure",1)}}}}});l.when("A","iconfarm-Nexus-Service","iconfarm-metrics-constants","iconfarm-postmetric","ready").register("iconfarm-default-metric-logger",function(c,e,b,d){return{log:function(a,g,h,f){h=JSON.parse(JSON.stringify(f));e.log(c.$.extend(!0,h,{ref:b.REF_MARKER_PREFIX[a]+b.REF_MARKER_SUFFIX[g],
loggerType:b.LOGGER_CONFIG.NEXUS_LOGGER}));d.postCountMetric(b.REF_MARKER_PREFIX[a]+b.REF_MARKER_SUFFIX[g])}}});l.when("A","iconfarm-Nexus-Service","iconfarm-metrics-constants","iconfarm-postmetric","get-icon-farm-page-state","ready").register("iconfarm-return-policy-metric-logger",function(c,e,b,d,a){return{log:function(g,h,f,k){a:{if((f=a.parseJSON(b.ICON_FARM_PAGE_STATE_HOLDER_DIV+"-"+f,f))&&f.RETURNS_POLICY&&f.RETURNS_POLICY.secondaryViewData&&f.RETURNS_POLICY.secondaryViewData.glLevelReturnPolicies)switch(f.RETURNS_POLICY.secondaryViewData.glLevelReturnPolicies.length){case 0:f=
"GENERIC_RETURN_POLICY";break a;case 1:f="SINGLE_SPECIFIC_RETURN_POLICY";break a;default:f="MULTIPLE_SPECIFIC_RETURN_POLICY";break a}f=void 0}g=f||g;k=JSON.parse(JSON.stringify(k));e.log(c.$.extend(!0,k,{ref:b.REF_MARKER_PREFIX[g]+b.REF_MARKER_SUFFIX[h],loggerType:b.LOGGER_CONFIG.NEXUS_LOGGER}));d.postCountMetric(b.REF_MARKER_PREFIX[g]+b.REF_MARKER_SUFFIX[h])}}});l.when("A","iconfarm-Nexus-Service","iconfarm-metrics-constants","iconfarm-postmetric","get-icon-farm-page-state","ready").register("iconfarm-pay-on-delivery-metric-logger",
function(c,e,b,d,a){return{log:function(g,h,f,k){f=(f=a.parseJSON(b.ICON_FARM_PAGE_STATE_HOLDER_DIV+"-"+f,f))&&f.PAY_ON_DELIVERY&&f.PAY_ON_DELIVERY.isEligible?f.PAY_ON_DELIVERY.isEligible?"PAY_ON_DELIVERY_ACTIVE":"PAY_ON_DELIVERY_INACTIVE":void 0;g=f||g;k=JSON.parse(JSON.stringify(k));e.log(c.$.extend(!0,k,{ref:b.REF_MARKER_PREFIX[g]+b.REF_MARKER_SUFFIX[h],loggerType:b.LOGGER_CONFIG.NEXUS_LOGGER}));d.postCountMetric(b.REF_MARKER_PREFIX[g]+b.REF_MARKER_SUFFIX[h])}}})});
/* ******** */
(function(e){var k=window.UIPageJS||window.P,g=k._namespace||k.attributeErrors,a=g?g("DetailPageMobileIconFarmAssets@desktop","DetailPageMobileIconFarm"):k;a.guardFatal?a.guardFatal(e)(a,window):a.execute(function(){e(a,window)})})(function(e,k,g){e.when("A","a-popover","icon-farm-constants","iconfarm-metricLogger","iconfarm-metrics-constants","icon-farm-web-mod-util","ready").register("icon-farm-desktop-popover",function(a,l,b,c,d,f){var h=function(b){var h=b.data("name");a.off("a:popover:befo/reshow:"+
h);a.on("a:popover:befo/reshow:"+h,function(a){a=f.getCurrentBuyingOptionIndex();c.log(h,d.METRIC_TYPE.ICON_CLICK,a);c.log(h,d.METRIC_TYPE.SECONDARY_PAGE_OPEN,a)});a.off("a:popover:beforeHide:"+h);a.on("a:popover:beforeHide:"+h,function(a){a=f.getCurrentBuyingOptionIndex();c.log(h,d.METRIC_TYPE.SECONDARY_PAGE_CLOSE,a)})};return{init:function(){for(var c=a.$(b.ICON_FARM_CONTAINER_CLASS),f=0;f<c.length;f++){var d=a.$(c[f]),e=d.data(b.TYPE_PARAM);if(e&&e===b.TYPE_PARAM_VALUE_CUSTOM_POP_OVER){var e=d,
g=a.$("#"+e.data(b.POPOVER_CONTENT_PARAM)),g={activate:b.POPOVER_ACTIVATION,position:b.POPOVER_POSITION,width:b.POPOVER_WIDTH,inlineContent:g.html(),name:e.data("name")};l.create(e,g);h(d)}}}}});e.when("A","get-icon-farm-page-state","icon-farm-constants","iconfarm-metricLogger","iconfarm-metrics-constants","icon-farm-web-mod-util","ready").register("icon-farm-desktop-returns-policy",function(a,e,b,c,d,f){a.declarative("returns-policy-url","click",function(a){a=f.getCurrentBuyingOptionIndex();c.log("RETURNS_POLICY",
d.METRIC_TYPE.FULL_RETURN_POLICY,a);a=e.parseJSON(b.ICON_FARM_PAGE_STATE_HOLDER_DIV+"-"+a,a);k.open(a.RETURNS_POLICY.genericReturnPolicyURL,"_blank")});a.off("a:popover:befo/reshow:return-policy-secondary-view");a.on("a:popover:befo/reshow:return-policy-secondary-view",function(a){a=f.getCurrentBuyingOptionIndex();c.log("RETURNS_POLICY",d.METRIC_TYPE.ICON_CLICK,a);c.log("RETURNS_POLICY",d.METRIC_TYPE.SECONDARY_PAGE_OPEN,a)});a.off("a:popover:beforeHide:return-policy-secondary-view");a.on("a:popover:beforeHide:return-policy-secondary-view",
function(a){a=f.getCurrentBuyingOptionIndex();c.log("RETURNS_POLICY",d.METRIC_TYPE.SECONDARY_PAGE_CLOSE,a)});return{init:function(){}}});e.when("A","IconFarmPageStateParserService","icon-farm-desktop-popover","icon-farm-desktop-returns-policy","iconfarm-metricLogger","icon-farm-constants","iconfarm-metrics-constants","iconfarm-metric-cache","icon-farm-web-mod-util","icon-farm-change-buying-option","atf","ready").execute(function(a,l,b,c,d,f,h,g,k,q){function m(){g./reset();a.loadImageManually(a.$(".icon-box"));
b.init();c.init();q.init();for(var f=0;f<n;f++)r(f)}var n=k.getBuyingOptionCounts(),r=function(f){var b="#icon-farm-widget-"+f,c=a.$(b);c&&c.length?d.log("ICON_FARM_WIDGET",h.METRIC_TYPE.GLANCE_VIEW,f):d.log("ICON_FARM_WIDGET",h.METRIC_TYPE.ABSENT,f);(b=a.$(b+" .icon-container"))&&b.length&&b.each(function(){d.log(a.$(this).data("name"),h.METRIC_TYPE.GLANCE_VIEW,f)})};m();a.on("a:pageUpdate",function(){var b;a:{try{if(a.$("#"+f.ICON_FARM_V2_FEATURE_DIV).find("script").length){b=f.ICON_FARM_V2_FEATURE_DIV;
break a}if(a.$("#"+f.ICON_FARM_V2_PRIMARY_FEATURE_DIV).find("script").length){b=f.ICON_FARM_V2_PRIMARY_FEATURE_DIV;break a}d.log("ICON_FARM_WIDGET",h.PAGE_DATA_MISSING,0)}catch(c){e.log(c,"ERROR","DetailPageMobileIconFarm")}b=void 0}if(b){for(var g=0;g<n;g++)if(l.isNewState(b,f.ICON_FARM_STATE+"-"+g)){var p=l.processState(b,f.ICON_FARM_STATE+"-"+g);if(a.objectIsEmpty(p))return}m()}})});e.declare("icon-farm-constants",{ICON_FARM_FEATURE_DIV:"iconFarm_feature_div",ICON_FARM_V2_FEATURE_DIV:"iconfarmv2_feature_div",
ICON_FARM_V2_PRIMARY_FEATURE_DIV:"iconFarmV2InsidePrimary_feature_div",ICON_FARM_PAGE_STATE_HOLDER_DIV:"iconfarm-pagestate-holder",ICON_FARM_CONTAINER_CLASS:".icon-container",ICON_FARM_SECONDARY_VIEW_HOLDER_ID:"#icon-farm-secondary-view-holder",ICON_FARM_STATE:"iconfarm-state",POPOVER_ACTIVATION:"onclick",POPOVER_POSITION:"triggerBottom",POPOVER_WIDTH:"533",POPOVER_CONTENT_PARAM:"iconContent",TYPE_PARAM:"type",TYPE_PARAM_VALUE:"bottom-sheet",TYPE_PARAM_VALUE_CUSTOM_POP_OVER:"custom-pop-over"});(function(){e.when("A",
"atf","ready").register("IconFarmPageStateParserService",function(a){function e(b,c){c='script[data-a-state\x3d"'+JSON.stringify({key:c})+'"]';return a.$("#"+b).find(c)}return{processState:function(b,c){var d;try{var f=e(b,c),h=f[0];d=f.html();var g=a.parseJSON(d);a.state(c,g);a.$.data(h,"state_processed",!0);return g}catch(k){console.log(k)}return a.state(c)},isNewState:function(b,c){try{return!a.$.data(e(b,c)[0],"state_processed")}catch(d){console.warn("Unable to determine state status",d)}return!1}}})})();
"use strict";e.when("A","icon-farm-mod-constants").register("icon-farm-web-mod-util",function(a,e){return{getBuyingOptionCounts:function(){if(!a.$(e.selector.iconfarm).length)return 1;var b=a.$(e.selector.BUYBOX_ACCORDION);if(0===b.length)return 1;b=b[0];if(a.$(e.selector.iconfarm).length){for(var b=b.children,c=0,d=0;d<b.length;d++)var f=a.$(b[d]).attr("data-buying-option-index"),c=Math.max(c,f);b=c}else b=0;return b+1},getCurrentBuyingOptionIndex:function(){var b=0;if(!a.$(e.selector.iconfarm).length)return 0;
var c=a.$(e.selector.BUYBOX_ACCORDION_ACTIVE);c.length&&(b=c.index());return b}}});e.when("A","icon-farm-mod-constants","icon-farm-web-mod-util","ready").register("icon-farm-change-buying-option",function(a,e,b){var c=b.getCurrentBuyingOptionIndex(),d=function(b){var d=a.$(e.selector.iconfarm);if(d.length){var k=d[0].children;k.length&&(d=k[c],b!==g&&b.selectedRow!==g&&b.selectedRow.$row!==g&&a.$(b.selectedRow.$row)!==g&&(b=a.$(b.selectedRow.$row).index(),b!==c&&(k=k[b],d.style.display="none",k.style.display=
"block",c=b)))}};return{init:function(){a.on("a:pageUpdate",d);a.on("PageRef/resh:ATF",d);a.on("a:accordion:buybox-accordion:select",d)}}})});
/* ******** */
(function(c){var b=window.UIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("DetailPageBylineInfoAssets@core","DetailPageBylineInfo"):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
(function(r){var f=window.UIPageJS||window.P,p=f._namespace||f.attributeErrors,v=p?p("SocialShareWidgetAUI","UI"):f;v.guardFatal?v.guardFatal(r)(v,window):v.execute(function(){r(v,window)})})(function(r,f,p){var v="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"===typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g};r.register("SocialShareWidget",function(){return function(g){function a(d){if(e[d])return e[d].exports;
var c=e[d]={i:d,l:!1,exports:{}};return g[d].call(c.exports,c,c.exports,a),c.l=!0,c.exports}var e={};return a.m=g,a.c=e,a.d=function(d,c,b){a.o(d,c)||Object.defineProperty(d,c,{enumerable:!0,get:b})},a.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"});Object.defineProperty(a,"__esModule",{value:!0})},a.t=function(d,c){if((1&c&&(d=a(d)),8&c)||4&c&&"object"==("undefined"===typeof d?"undefined":v(d))&&d&&d.__esModule)return d;var b=
Object.create(null);if(a.r(b),Object.defineProperty(b,"default",{enumerable:!0,value:d}),2&c&&"string"!=typeof d)for(var m in d)a.d(b,m,function(a){return d[a]}.bind(null,m));return b},a.n=function(d){var c=d&&d.__esModule?function(){return d.default}:function(){return d};return a.d(c,"a",c),c},a.o=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)},a.p="",a(a.s=6)}([function(g,a,e){Object.defineProperty(a,"__esModule",{value:!0});a.isSafari=a.isCSALoaded=a.isNativeAppShareAvailable=a.isNativeWebShareAvailable=
a.isMobileWeb=a.isMobileApp=a.isDesktop=a.isIOS=a.isAndroid=a.isIE=a.isAUILoaded=a.isUeAvailable=a.isClipboardAvailable=a.isTwisterAsin=a.context=a.Device=void 0;var d,c=e(4);!function(a){a.Android="apan";a.IOS="apin";a.MWeb="mwn";a.Other="ud"}(d=a.Device||(a.Device={}));a.context=function(){var b=d.Other;return(0,a.isMobileApp)()&&(0,a.isAndroid)()?b=d.Android:(0,a.isMobileApp)()&&(0,a.isIOS)()?b=d.IOS:(0,a.isMobileWeb)()&&(b=d.MWeb),{device:b,page:(0,a.isUeAvailable)()?f.ue_pty:"unknown",subPage:(0,
a.isUeAvailable)()?f.ue_spty||f.ue_pti:"unknown"}};a.isTwisterAsin=function(){return!!f.isTwisterPage||!!f.twisterController||b};a.isClipboardAvailable=function(){return!!navigator.clipboard&&(0,c.isFunction)(navigator.clipboard.writeText)};a.isUeAvailable=function(){return!!f.ue};a.isAUILoaded=function(){var a;return(0,c.isString)(null===(a=null===f||void 0===f?void 0:f.P)||void 0===a?void 0:a.AUI_BUILD_DATE)};a.isIE=function(){return(0,c.testUserAgent)(/MSIE|Trident/i)};a.isAndroid=function(){return(0,
c.testUserAgent)(/android.([1-9]|[L-Z])/i)&&!(0,c.testUserAgent)(/trident|Edge/i)};a.isIOS=function(){return(0,c.testUserAgent)(/OS [1-9][0-9]*(_[0-9]*)+ like Mac OS X/i)&&!(0,c.testUserAgent)(/trident|Edge/i)};a.isDesktop=function(){return!((0,a.isAndroid)()||(0,a.isIOS)()||(0,a.isMobileApp)()||(0,a.isMobileWeb)())};a.isMobileApp=function(){return/(Windowshop||\.com)\//.test((0,c.getCookie)("amzn-app-id"))};a.isMobileWeb=function(){return 450>=f.screen.availWidth&&((0,c.testUserAgent)(/mobile|mini/i)||
(0,a.isAndroid)()||(0,a.isIOS)())};a.isNativeWebShareAvailable=function(){return f.navigator&&(0,c.isFunction)(f.navigator.share)};a.isNativeAppShareAvailable=function(a){return a&&(0,c.isFunction)(a.share)};a.isCSALoaded=function(){return(0,c.isFunction)(f.csa)};a.isSafari=function(){var a;return/apple/i.test(null===(a=f.navigator)||void 0===a?void 0:a.vendor)};var b=!1;(0,a.isAUILoaded)()&&f.P.when("mobile-inline-twister-critical").execute(function(){b=!0});a.default={context:a.context,isTwisterAsin:a.isTwisterAsin,
isClipboardAvailable:a.isClipboardAvailable,isUeAvailable:a.isUeAvailable,isAUILoaded:a.isAUILoaded,isIE:a.isIE,isAndroid:a.isAndroid,isDesktop:a.isDesktop,isIOS:a.isIOS,isMobileApp:a.isMobileApp,isMobileWeb:a.isMobileWeb,isNativeWebShareAvailable:a.isNativeWebShareAvailable,isNativeAppShareAvailable:a.isNativeAppShareAvailable,isCSALoaded:a.isCSALoaded,isSafari:a.isSafari}},function(g,a,e){Object.defineProperty(a,"__esModule",{value:!0});a.defaultCustomizeShareCSAData=a.defaultShareDataAttributes=
a.REGEX_TO_REF_ID_AND_CHANNEL_APP=a.TRUE=a.FALSE=a.EMBED_CHANNEL_REF=a.CP_CHANNEL_REF=a.RAW_CHANNEL_PREFIX=a.EMPTY_STRING=a.DEFAULT_CSA_REF_ID=a.CSA_DEFAULT_VALUE=a.customize=a.CSA_HIT_TYPE=void 0;g=a.CSA_HIT_TYPE||(a.CSA_HIT_TYPE={});g.CLICK_SUCCESS="click_success";g.CLICK_ERROR="click_error";g.CLICK_CANCEL="click_cancel";g.SHARE="share";g.CUSTOMIZE_SHARE="click_customize_success";a.customize="customize";a.CSA_DEFAULT_VALUE={string:"unknown",number:0,boolean:2};a.DEFAULT_CSA_REF_ID="u_";a.EMPTY_STRING=
"";a.RAW_CHANNEL_PREFIX="raw:";a.CP_CHANNEL_REF="cp";a.EMBED_CHANNEL_REF="eb";a.FALSE="false";a.TRUE="true";a.REGEX_TO_REF_ID_AND_CHANNEL_APP={instagram:{refId:"in",channel:"Instagram"},snap:{refId:"sn",channel:"Snapchat"},discord:{refId:"di",channel:"Discord"},viber:{refId:"vi",channel:"Viber"},telegram:{refId:"te",channel:"Telegram"},pinte/rest:{refId:"pi",channel:"Pinte/rest"},qzone:{refId:"qz",channel:"QQ Zone"},renren:{refId:"re",channel:"Renren"},twitter:{refId:"tw",channel:"Twitter"},airdrop:{refId:"ar",
channel:"AirDrop"},tencentweibo:{refId:"tc",channel:"Tencent Weibo"},wechatmoment:{refId:"wm",channel:"WeChat Moment"},line:{refId:"li",channel:"Line"},whatsapp:{refId:"wa",channel:"Whatsapp"},weibo:{refId:"si",channel:"Sina Weibo"}};a.defaultShareDataAttributes={isInternal:a.CSA_DEFAULT_VALUE.boolean,isRobot:a.CSA_DEFAULT_VALUE.boolean,userAgent:a.CSA_DEFAULT_VALUE.number,platform:a.CSA_DEFAULT_VALUE.string,ing/ress:a.CSA_DEFAULT_VALUE.string,asin:a.CSA_DEFAULT_VALUE.string,requestId:a.CSA_DEFAULT_VALUE.string,
customerId:a.CSA_DEFAULT_VALUE.string,marketplaceId:a.CSA_DEFAULT_VALUE.string};a.defaultCustomizeShareCSAData={backgroundImagePhysicalId:a.EMPTY_STRING,deviceCoverImagePhysicalId:a.EMPTY_STRING,hasQuote:a.EMPTY_STRING,isCustomizedExperienceEnabled:a.EMPTY_STRING,isCustomized:a.EMPTY_STRING}},function(g,a,e){Object.defineProperty(a,"__esModule",{value:!0});var d=e(3);g=function(){function a(b,m){this.REF_PARAM_NAME="ref_";a.isValid(b)||(b=a.getDefault());this.url=new URL(b);this._refMarker=new d.default(m)}
return a.prototype.getUpdatedUrl=function(a){var b=new URL(this.raw);return b.searchParams.set(this.REF_PARAM_NAME,a),b.toString()},Object.defineProperty(a.prototype,"raw",{get:function(){return this.url.toString()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"refMarker",{get:function(){return this._refMarker},enumerable:!1,configurable:!0}),a.isValid=function(a){try{new URL(a)}catch(m){return!1}return!0},a.getDefault=function(){var a,d,h=null===(a=null===f||void 0===f?void 0:
f.location)||void 0===a?void 0:a.href;if(!h)return(null===(d=null===f||void 0===f?void 0:f.ue)||void 0===d?0:d.sn)?"https://"+f.ue.sn:"https://.com";a=new URL(h);d=a.searchParams.has("psc")?"?psc\x3d1":"";return f.ue_pti?f.location.origin+"/dp/"+f.ue_pti+d:(a.search=d,a.href)},a.prototype.getReturnForChannel=function(a){a=this._refMarker.getReturnForChannel(a);return this.getUpdatedUrl(a)},a.prototype.getClickForChannel=function(a){a=this._refMarker.getClickForChannel(a);return this.getUpdatedUrl(a)},
Object.defineProperty(a.prototype,"return",{get:function(){return this.getUpdatedUrl(this._refMarker.return)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"click",{get:function(){return this.getUpdatedUrl(this._refMarker.click)},enumerable:!1,configurable:!0}),a}();a.default=g},function(g,a,e){Object.defineProperty(a,"__esModule",{value:!0});var d,c=e(0);!function(a){a.RETURN="r";a.CLICK="cl"}(d||(d={}));g=function(){function a(a){if(void 0===a&&(a="ur"),this.PREFIX="cm_sw",this.id=
"",this.refId="",this.cxt={device:c.Device.Other,page:"",subPage:""},2>a.length)throw new TypeError("refId must be 2 or more characters long");this.refId=a;this.cxt=(0,c.context)();this.generateUniqueId()}return Object.defineProperty(a.prototype,"return",{get:function(){return this.get(d.RETURN)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"click",{get:function(){return this.get(d.CLICK)},enumerable:!1,configurable:!0}),a.prototype.getReturnForChannel=function(a){return this.PREFIX+
"_"+d.RETURN+"_"+a+"_"+this.cxt.device+"_"+this.refId+"_"+this.id},a.prototype.getClickForChannel=function(a){return this.PREFIX+"_"+d.CLICK+"_"+a+"_"+this.cxt.device+"_"+this.refId+"_"+this.id},a.prototype.generateUniqueId=function(){var a,b=null===(a=null===f||void 0===f?void 0:f.ue)||void 0===a?void 0:a.rid;return b||(b=(""+Math.random().toString(36).slice(2)+Math.random().toString(36).slice(2)).substring(0,13)),this.id=b},a.prototype.get=function(a){return this.PREFIX+"_"+a+"_"+this.cxt.device+
"_"+this.refId+"_"+this.id},a}();a.default=g},function(g,a,e){Object.defineProperty(a,"__esModule",{value:!0});a.getDPXObject=a.getCookie=a.testUserAgent=a.truncate=a.isString=a.isEmpty=a.isNumber=a.isFunction=void 0;a.isFunction=function(a){return"function"==typeof a};a.isNumber=function(a){return!isNaN(a)&&"number"==typeof a};a.isEmpty=function(a){return!a||!a.length};a.isString=function(a){return"string"==typeof a};a.truncate=function(a,c){void 0===a&&(a="");var b=Array(3).fill(".");return a.length>
c?a.substring(0,c-3)+b.join(""):a};a.testUserAgent=function(a){if(!f&&!f.navigator)return!1;try{return a.test(f.navigator.userAgent)}catch(c){return!1}};a.getCookie=function(a){a+="\x3d";for(var d=document.cookie.split(";"),b=0;b<d.length;b++){for(var m=d[b];" "==m.charAt(0);)m=m.substring(1);if(0==m.indexOf(a))return m.substring(a.length,m.length)}return""};a.getDPXObject=function(){var a,c;return null===(c=null===(a=f.DetailPage)||void 0===a?void 0:a.StateController)||void 0===c?void 0:c.state};
a.default={isFunction:a.isFunction,isNumber:a.isNumber,isEmpty:a.isEmpty,isString:a.isString,truncate:a.truncate,testUserAgent:a.testUserAgent,getCookie:a.getCookie,getDPXObject:a.getDPXObject}},function(g,a,e){Object.defineProperty(a,"__esModule",{value:!0});var d=e(0),c=e(9);g=function(){function a(){}return a.logCounter=function(a,b){(0,d.isUeAvailable)()&&(a=this.BASE_METRIC_NAME+"."+a+(b?"."+b:""),f.ue.count(a,(f.ue.count(a)||0)+1))},a.logFatal=function(a){(0,d.isAUILoaded)()&&f.P.log(a,"FATAL",
this.BASE_METRIC_NAME)},a.logCSAEvent=function(a,b){(0,d.isCSALoaded)()&&(new c.default).withCSAClickEventData(b).withShareHitType(a).logEvent()},a.startTimer=function(a){f.uet&&(0,d.isUeAvailable)()&&(f.uet("bb",this.BASE_METRIC_NAME,{wb:1}),f.uet("bb",this.BASE_METRIC_NAME+"."+a,{wb:1}))},a.stopTimer=function(a){f.uet&&(0,d.isUeAvailable)()&&(f.uet("be",this.BASE_METRIC_NAME,{wb:1}),f.uet("be",this.BASE_METRIC_NAME+"."+a,{wb:1}));f.uex&&(0,d.isUeAvailable)()&&(f.uex("ld",this.BASE_METRIC_NAME,{wb:1}),
f.uex("ld",this.BASE_METRIC_NAME+"."+a,{wb:1}))},a.BASE_METRIC_NAME="SocialShareFramework",a.getMetricName=function(a,b){var h;void 0===b&&(b="");return(a=a('[data-action\x3d"ssf-share-icon"]').data())?(a=(null===(h=a.ssfShareIcon)||void 0===h?void 0:h.shareDataAttributes)||{},h=a.ing/ress,a=a.platform,((void 0===h?"unknown":h)+"."+(void 0===a?"unknown":a)+(b?"."+b:"")).toLowerCase()):""},a}();a.default=g},function(g,a,e){Object.defineProperty(a,"__esModule",{value:!0});a.SocialShareCore=void 0;g=
e(7);var d=e(2),c=e(8),b=e(5),m=e(10),h=e(3),f=e(0);e=e(1);a.SocialShareCore={Channels:g.default,Url:d.default,Translations:c.default,Metrics:b.default,Sha/resheet:m.default,RefMarker:h.default,Detection:f.default,Constants:e};a.default=a.SocialShareCore},function(g,a,e){Object.defineProperty(a,"__esModule",{value:!0});a.default=function(a,c){var b={email:{label:"Email",name:"email",ref:"em",shareBaseUrl:"mailto:",image:"https://m./res.com/images/G/01/share-icons/email-circular.svg",imageSquared:"https://m./res.com/images/G/01/share-icons/email-squared.svg",
canOpenInPopup:!1,getSharingUrl:function(b){var h="?subject\x3d"+encodeURIComponent(a.emailSubject||a.title),c="\x26body\x3d"+encodeURIComponent(a.title);b=encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref));return""+this.shareBaseUrl+h+c+" "+b}},pi:{label:"Pinte/rest",name:"pinte/rest",ref:"pi",shareBaseUrl:"https://www.pinte/rest.com/pin/create/button/",image:"https://m./res.com/images/G/01/share-icons/pinte/rest-circular.svg",imageSquared:"https://m./res.com/images/G/01/share-icons/pinte/rest-squared.svg",
canOpenInPopup:!0,getSharingUrl:function(b){b="?url\x3d"+encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref));var h="\x26description\x3d"+encodeURIComponent(a.title),c="\x26media\x3d"+encodeURIComponent(a.image);return""+this.shareBaseUrl+b+h+c+"\x26method\x3dbutton"}},li:{label:"Line",name:"line",ref:"li",shareBaseUrl:"https://social-plugins.line.me/lineit/share",image:"https://m./res.com/images/G/01/share-icons/line-circular.svg",imageSquared:"https://m./res.com/images/G/01/share-icons/line-squared.svg",
canOpenInPopup:!0,getSharingUrl:function(b){var h="?text\x3d"+encodeURIComponent(a.text)+" "+encodeURIComponent(a.title);b="\x26url\x3d"+encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref));return""+this.shareBaseUrl+h+b}},fb:{label:"Facebook",name:"facebook",ref:"fa",shareBaseUrl:"https://www.facebook.com/dialog/share",image:"https://m./res.com/images/G/01/share-icons/facebook-circular.svg",imageSquared:"https://m./res.com/images/G/01/share-icons/facebook-squared.svg",
canOpenInPopup:!0,getSharingUrl:function(b){b=["?_encoding\x3dUTF8\x26app_id\x3d465632727431967\x26display\x3dpopup","href\x3d"+encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref)),"redirect_uri\x3d"+encodeURIComponent(a.shareUrl.getReturnForChannel(this.ref).replace("_r_","_s_")),"hashtag\x3d"+encodeURIComponent("#"+(a.hashtags[0]||""))].join("\x26");return""+this.shareBaseUrl+b}},tw:{label:"Twitter",name:"twitter",ref:"tw",shareBaseUrl:"https://twitter.com/intent/tweet",image:"https://m./res.com/images/G/01/share-icons/twitter-circular.svg",
imageSquared:"https://m./res.com/images/G/01/share-icons/twitter-squared.svg",canOpenInPopup:!0,getSharingUrl:function(b){var h="?text\x3d"+encodeURIComponent(a.title);b="\x26url\x3d"+encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref));var c="\x26hashtags\x3d"+a.hashtags.join(","),d="\x26via\x3d"+encodeURIComponent("");return""+this.shareBaseUrl+h+b+c+d}},wa:{label:"WhatsApp",name:"whatsapp",ref:"wa",shareBaseUrl:"https://api.whatsapp.com/send?text\x3d",image:"https://m./res.com/images/G/01/share-icons/whatsapp-circular.svg",
imageSquared:"https://m./res.com/images/G/01/share-icons/whatsapp-squared.svg",canOpenInPopup:!0,getSharingUrl:function(b){b="\n              "+encodeURIComponent(a.title)+"\n              "+encodeURIComponent(a.text)+"\n              "+encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref));return""+this.shareBaseUrl+b}},sms:{label:"SMS",name:"sms",ref:"sms",shareBaseUrl:"sms:",image:"https://m./res.com/images/G/01/share-icons/sms-circular.svg",imageSquared:"https://m./res.com/images/G/01/share-icons/sms-squared.svg",
canOpenInPopup:!1,getSharingUrl:function(b){b="\n              "+encodeURIComponent(a.title)+"\n              "+encodeURIComponent(b||a.shareUrl.getReturnForChannel(this.ref));return""+this.shareBaseUrl+b}},embed:{label:"Embed",name:"embed",ref:"eb",shareBaseUrl:"",image:"https://m./res.com/images/G/01/share-icons/embed-circular.svg",imageSquared:"https://m./res.com/images/G/01/share-icons/embed-squared.svg",canOpenInPopup:!1,getSharingUrl:function(){return""}},copy:{label:"Copy",
name:"copy",ref:"cp",shareBaseUrl:"",image:"https://m./res.com/images/G/01/share-icons/link-circular.svg",imageSquared:"https://m./res.com/images/G/01/share-icons/link-squared.svg",canOpenInPopup:!1,getSharingUrl:function(){return""}}};if(null==c?0:c.length){var d={};return c.forEach(function(a){b[a]&&(d[a]=b[a])}),d}return b}},function(g,a,e){Object.defineProperty(a,"__esModule",{value:!0});a.default={}},function(g,a,e){Object.defineProperty(a,"__esModule",{value:!0});var d=e(0),
c=e(1);g=function(){function a(){var b=this;this.generateTimestampCollection=function(){var a=(new Date).getTimezoneOffset();a=b.getDateTimeByOffset(a);var c=b.getDateTimeByOffset(0);return{hitDay:a.split("T")[0],hitDatetime:a,hitDatetimeUtc:c}};this.getMarketplaceId=function(a){return"string"==typeof a?a:f.ue&&f.ue.mid?f.ue.mid:c.CSA_DEFAULT_VALUE.string};var h=this.generateTimestampCollection();this.csaMetricsData={schemaId:a.CSA_SCHEMA_ID,userAgentId:c.CSA_DEFAULT_VALUE.number,hitDay:h.hitDay,
hitDatetime:h.hitDatetime,hitDatetimeUtc:h.hitDatetimeUtc,pageType:f.ue_pty?f.ue_pty:c.CSA_DEFAULT_VALUE.string,subPageType:f.ue_spty?f.ue_spty:c.CSA_DEFAULT_VALUE.string,sessionId:f.ue&&f.ue.sid?f.ue.sid:c.CSA_DEFAULT_VALUE.string}}return a.prototype.withCSAClickEventData=function(a){var b=a.shareDataAttributes;if(this.csaMetricsData.customerId=b.customerId?b.customerId:c.CSA_DEFAULT_VALUE.string,this.csaMetricsData.httpRequestId=b.requestId?b.requestId:c.CSA_DEFAULT_VALUE.string,this.csaMetricsData.asin=
b.asin?b.asin:c.CSA_DEFAULT_VALUE.string,this.csaMetricsData.ing/ress=b.ing/ress?b.ing/ress:c.CSA_DEFAULT_VALUE.string,this.csaMetricsData.platform=b.platform?b.platform:c.CSA_DEFAULT_VALUE.string,this.csaMetricsData.isInternal=this.getCSANumberMapping(b.isInternal),this.csaMetricsData.isRobot=this.getCSANumberMapping(b.isRobot),this.csaMetricsData.channel=a.channel?a.channel:c.CSA_DEFAULT_VALUE.string,this.csaMetricsData.refMarker=a.refMarker?a.refMarker:c.CSA_DEFAULT_VALUE.string,this.csaMetricsData.referrerUrl=
a.refererURL?a.refererURL:c.CSA_DEFAULT_VALUE.string,this.csaMetricsData.marketplaceId=this.getMarketplaceId(b.marketplaceId),this.csaMetricsData.isExperiment=/T\d+/.test(a.treatment)?"Y":"N",a.weblab)b=this.csaMetricsData.shareEntities,(b=void 0===b?{}:b)[a.weblab]=a.treatment,this.csaMetricsData.shareEntities=b;a.customizeShareCSAData&&(b=this.csaMetricsData.shareEntities,b=void 0===b?{}:b,a.customizeShareCSAData.isCustomizedExperienceEnabled===c.TRUE&&(b.backgroundImagePhysicalId=a.customizeShareCSAData.backgroundImagePhysicalId,
b.deviceCoverImagePhysicalId=a.customizeShareCSAData.deviceCoverImagePhysicalId,b.hasQuote=a.customizeShareCSAData.hasQuote,b.isCustomized=a.customizeShareCSAData.isCustomized,this.csaMetricsData.shareEntities=b));return this},a.prototype.withShareHitType=function(a){return this.csaMetricsData.shareHitType=a||c.CSA_DEFAULT_VALUE.string,this},a.prototype.getCSANumberMapping=function(a){return isNaN(Number(a))?2:Number(a)},a.prototype.getDateTimeByOffset=function(b){var c=new Date;0!==b&&(b*=a.MINUTES_TO_MILISECONDS,
c=c.getTime()-b,c=new Date(c));return c.toISOString().split("Z")[0].split(".")[0]},a.prototype.logEvent=function(){(0,d.isCSALoaded)()&&f.csa(a.CSAPluginId,{producerId:a.CSA_PRODUCER_ID})(a.CSA_LOG_EVENT,this.csaMetricsData)},a.MINUTES_TO_MILISECONDS=6E4,a.CSAPluginId="Events",a.CUSTOMIZE_SHARE_ENTITY_NAME="CustomizeShare",a.CSA_PRODUCER_ID="social-share",a.CSA_LOG_EVENT="log",a.CSA_SCHEMA_ID="SocialShareCSACustomEvent.CSAShareMetrics.8",a}();a.default=g},function(g,a,e){var d=this&&this.__assign||
function(){return(d=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0});var c,b=e(5),m=e(0),h=e(2),p=e(4),n=e(1);(0,m.isAUILoaded)()&&f.P.when("mash").execute(function(a){return c=a});g=function(){function a(a){this.sheetOptions={title:n.EMPTY_STRING,text:n.EMPTY_STRING,shareUrl:new h.default("http://.com/","ur"),
lang:"en",shareDataAttributes:n.defaultShareDataAttributes,refererURL:"",image:"",customizeShareCSAData:n.defaultCustomizeShareCSAData};this.sheetOptions=d(d({},this.sheetOptions),a);this.shareUrl=a.shareUrl}return a.prototype.launchNativeWeb=function(){var a,c={channel:n.EMPTY_STRING,refMarker:this.shareUrl.refMarker.click,refererURL:this.sheetOptions.refererURL,shareDataAttributes:this.sheetOptions.shareDataAttributes,customizeShareCSAData:this.sheetOptions.customizeShareCSAData},d=this.shareUrl.return;
this.sheetOptions.tinyUrl&&(d=this.sheetOptions.tinyUrl,b.default.logCounter("MWeb.Tiny.Success"));try{null===(a=null===f||void 0===f?void 0:f.navigator)||void 0===a||a.share({url:d,title:this.sheetOptions.title,text:this.sheetOptions.text}).then(function(){b.default.logCSAEvent(n.CSA_HIT_TYPE.CLICK_SUCCESS,c);b.default.logCSAEvent(n.CSA_HIT_TYPE.SHARE,c)}).catch(function(){b.default.logCSAEvent(n.CSA_HIT_TYPE.CLICK_SUCCESS,c);b.default.logCSAEvent(n.CSA_HIT_TYPE.CLICK_CANCEL,c)})}catch(B){b.default.logCSAEvent(n.CSA_HIT_TYPE.CLICK_ERROR,
c)}},a.prototype.launchNativeApp=function(){var a=this,e=this.shareUrl.refMarker.click,g=this.sheetOptions.shareDataAttributes,f=this.sheetOptions.refererURL,h=this.sheetOptions.customizeShareCSAData,m=n.EMPTY_STRING,w=this.shareUrl.return;this.sheetOptions.tinyUrl&&(w=this.sheetOptions.tinyUrl,b.default.logCounter("MShop.Tiny.Success"));var t={channel:m,refMarker:e,refererURL:f,shareDataAttributes:g,customizeShareCSAData:h};e={messagePlain:this.getShareMessage,messagePlain160:this.getShare160Message,
messagePlain140:this.getShare140Message,messageHTML:this.getShareMessage,url:w,imageURL:this.sheetOptions.image,subject:this.sheetOptions.text};null==c||c.share(d(d({},e),{successCallback:function(){b.default.logCSAEvent(n.CSA_HIT_TYPE.CLICK_SUCCESS,t)},failCallback:function(){b.default.logCSAEvent(n.CSA_HIT_TYPE.CLICK_ERROR,t)},sha/reserviceSelectedCallback:function(c){c&&"'null'"!==c?((0,p.isFunction)(a.sheetOptions.channelSelectCB)&&a.sheetOptions.channelSelectCB(c),t.channel=a.getChannelByKeyword(c).channel,
c=a.getChannelByKeyword(c).refId,t.refMarker=a.shareUrl.refMarker.getClickForChannel(c),b.default.logCSAEvent(n.CSA_HIT_TYPE.SHARE,t)):b.default.logCSAEvent(n.CSA_HIT_TYPE.CLICK_CANCEL,t)}}))},a.prototype.launch=function(a){(0,m.isNativeAppShareAvailable)(c)?this.launchNativeApp():(0,m.isNativeWebShareAvailable)()?this.launchNativeWeb():(0,p.isFunction)(a)?a():b.default.logCounter("Click.ShareUnavailable")},Object.defineProperty(a.prototype,"getShare160Message",{get:function(){var a=this.sheetOptions.tinyUrl||
this.shareUrl.return,b=a.length+2;return(0,p.truncate)(this.sheetOptions.title,160-b)+" "+a},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"getShare140Message",{get:function(){var a=this.sheetOptions.tinyUrl||this.shareUrl.return,b=a.length+2;return(0,p.truncate)(this.sheetOptions.title,140-b)+" "+a},enumerable:!1,configurable:!0}),a.prototype.getRefByRegex=function(a){return n.REGEX_TO_REF_ID_AND_CHANNEL_APP[a].refId},a.prototype.getChannelByRegex=function(a){return n.REGEX_TO_REF_ID_AND_CHANNEL_APP[a].channel},
a.prototype.getChannelByKeyword=function(a){var b=n.RAW_CHANNEL_PREFIX+a,c=n.DEFAULT_CSA_REF_ID,d=a.match(/instagram|snap|discord|viber|telegram|pinte/rest|qzone|renren|twitter|airdrop|tencentweibo|wechatmoment|line|whatsapp|weibo/ig);if(d&&d.length)return{channel:this.getChannelByRegex(d[0].toLowerCase()),refId:this.getRefByRegex(d[0].toLowerCase())};switch(!0){case /android.messaging|sms|android.apps.messaging|mms/gi.test(a):b="SMS";c="sm";break;case /outlook|mail/gi.test(a):b="Email";c="em";break;
case /clipboardactivity|copy/gi.test(a):b="Copy";c="cp";break;case /facebook.composer/gi.test(a):b="Facebook";c="fb";break;case /facebook.messenger|FacebookMessenger/gi.test(a):b="FacebookMessenger";c="fm";break;case /tencent|wechat/gi.test(a):b="WeChat";c="we";break;case /unknown|null/gi.test(a):b="unknown",c="u"}return{channel:b,refId:c}},Object.defineProperty(a.prototype,"getShareMessage",{get:function(){return this.sheetOptions.title+" "+(this.sheetOptions.tinyUrl||this.shareUrl.return)},enumerable:!1,
configurable:!0}),a}();a.default=g}])});"use strict";r.register("SocialShareWidgetConfig",function(){var g=Object.freeze({MODAL:"modal",POPOVER:"popover",EASYMODE:"easymode"}),a=Object.freeze({IOS:"ios",ANDROID:"android",VARIABLE:"variable"});return{WIDGET_TYPE:g,WIDGET_ICON:a,excludedChannels:["sms","wa"],lineMarketplaces:["A1VC38T7YXB528"],defaultShareData:{url:"",title:".com",text:"Check this out!",image:"",hashtags:[""],type:g.POPOVER,lang:"en",refId:"ts",channels:[],refererURL:"",
treatment:"",weblab:"",customize:!1,caf:!1,cafSwitch:!1,t:{}},defaultWidgetData:{icon:a.VARIABLE,background:!0,width:24},shareDataAttributes:{isInternal:2,isRobot:2,userAgent:f.navigator.userAgent,platform:"DESKTOP",ing/ress:f.ue_pty,asin:f.ue_pti,requestId:f.ue_id,customerId:f.opts&&f.opts.customerId,marketplaceId:f.ue_mid},iconMap:{ios:"https://m./res.com/images/G/01/share-icons/share-std.svg",android:"https://m./res.com/images/G/01/share-icons/share-android.svg"}}});"use strict";
r.when("A","SocialShareWidget","SocialShareWidgetTemplating","SocialShareWidgetConfig").register("SocialShareWidgetAUI",function(g,a,e,d){var c=a.SocialShareCore,b=c.Metrics,m=0,h=function(){},y=!1,n=b.getMetricName(g.$);b.startTimer(n);b.logCounter("DPX.Desktop.ImageBlockRender");try{(function(){var a=g.$,u=c.Detection,T=c.Translations,U=c.Channels,B=c.Sha/resheet,x=c.Url,z=c.Constants,C=function(a){a=a.data("share")||a.find("[data-share]").data("share");return g.extend({},d.defaultWidgetData,a)},
t=a(".ssf-share-trigger"),k=d.defaultShareData,G=C(t),L=k.url,O=function(){var a=d.iconMap;return u.isDesktop()?a.ios:G.icon===d.WIDGET_ICON.VARIABLE?u.isIOS()?a.ios:a.android:a[G.icon]},M=function(a){a.find('[class*\x3d"ssf-multi-"]').length||a.find(".ssf-share-trigger").addClass("ssf-multi-"+Math.random().toString(36).slice(2));t=a.find('[class*\x3d"ssf-multi-"]')},I=void 0,l=void 0,q=void 0,A=void 0,D=void 0,E=void 0,K=void 0;r.when("a-sheet").execute(function(a){return I=a});r.when("a-popover").execute(function(a){return l=
a});r.when("a-modal").execute(function(a){return q=a});r.when("SocialShareWidgetTiny").execute(function(a){return K=a});var R=function(a,b){var c=2<arguments.length&&arguments[2]!==p?arguments[2]:"ssf-share-bottom-sheet",l=k.customize||k.caf;if(!A||l)A=I.create({name:c,inlineContent:a,closeType:"icon",height:b});I.showSheet(A)},H=function(a){var b=a.type===d.WIDGET_TYPE.POPOVER&&l,c=a.type===d.WIDGET_TYPE.MODAL&&q,g=a.type===d.WIDGET_TYPE.EASYMODE&&l;a=e.build(a);I?R(a.getBottom()):b?(b=a.getPopover(),
t.hasClass("a-declarative")||(D=l.create(t,{name:"ssf-share-popover",position:"triggerBottom",inlineContent:b,activate:"onclick",closeButton:!1,width:160,padding:"none",popoverLabel:"Share Popup",closeButtonLabel:"Close Share Popup"}).show())):c?(b=a.getModal(),t.hasClass("a-declarative")||(E=q.create(t,{inlineContent:b,width:600}).show())):g&&(b=a.getEasyModeContent(),c=l.get("easy-mode-menu-"+k.shareDataAttributes.asin).getContent(),g=c.find("#emShare"),1>c.find("#SocialShare").length&&(g[0].innerHTML+=
b))},W=function(a){if(a.customize||a.caf)b.logCounter("webview.sha/resheet.caf.background"),r.when("mash").execute(function(a){a.addEventListener("appPause",J)})},X=function(a){r.when("SocialShareWidgetCustomize").execute(function(b){var c=e.build(a);R(c.getCustomize(),650,"ssf-customize-bottom-sheet");b.init(a,H,J);W(a)})},J=function V(){r.when("mash").execute(function(a){a.removeEventListener("appPause",V)});D&&l.get(t).hide();A&&I.hideSheet(A);E&&q.get(t).hide()},v=function(){var a=k.shareDataAttributes.asin,
b=f.DetailPage;if(!b)return!1;b=b.StateController&&b.StateController.getState().current_asin;k.shareDataAttributes.asin="string"==typeof b?b:a;return a!==b},P=function(a){a.addClass("ssf-noclick");a.find(".a-spinner").removeClass("a-hidden");a.find("i").hide()},Q=function(a){a.removeClass("ssf-noclick");a.find(".a-spinner").addClass("a-hidden");a.find("i").show()},F=function(c){var l=c.shareData,d=c.copyElement,e=l.shareDataAttributes,f=l.t,h=l.treatment;h=h===p?"":h;var k=l.weblab;k=k===p?"":k;c=
{channel:"copy",refMarker:l.shareUrl.refMarker.getClickForChannel(c.channelRef),shareDataAttributes:e,treatment:h,weblab:k};b.logCSAEvent(z.CSA_HIT_TYPE.SHARE,c);b.logCounter("DPX.Desktop.CopySuccess");b.logCounter(n,"CopySuccess");u.isDesktop()?function(){var a=d.find(".copy-label");a.text(f.taf_copy_url_changeover);g.delay(function(){J();a.text(f.taf_copy_name)},1E3)}():(a(".ssf-feedback").show(),J())},S=function(a){b.logCSAEvent(z.CSA_HIT_TYPE.CLICK_ERROR,a);b.logCounter("DPX.Desktop.CopyFailure");
b.logCounter(n,"CopyFailure")},N=function(a){var b=a.shareData;a=a.channelRef;var c=b.shareUrl,l=b.socialLinks;l=l===p?{}:l;a=a?c.getReturnForChannel(a):c.return;return{csrfToken:b.csrfToken,gcmToken:b.gcmToken,url:a,originalUrl:l.shareframework||b.url||a,refMarkerId:m++}};a(document).delegate(".ssf-channel:not(.copy,.embed)","click",function(c){c.preventDefault();c.stopPropagation();b.logCounter("DPX.Desktop.ChannelClick");b.logCounter(n,"ChannelClick");var l=a(this),d=l.data("key"),e=k;c=e.refererURL;
var h=e.shareDataAttributes,q=e.treatment;q=q===p?"":q;var A=e.weblab;A=A===p?"":A;var m=e.builtChannels[d],H=m.ref;d=e.shareUrl.refMarker.getClickForChannel(H);e=m.name;var t=m.getSharingUrl();b.logCSAEvent(z.CSA_HIT_TYPE.SHARE,{channel:e,refMarker:d,refererURL:c,shareDataAttributes:h,treatment:q,weblab:A});c=N({shareData:k,channelRef:H});P(l);K.fetch({data:c,callback:function(a){Q(l);a&&(t=m.getSharingUrl(a),b.logCounter("Desktop.Tiny.Success"));if("em"===H)f.open(t,"_self");else if(u.isDesktop()){a=
screen.width;var c=screen.height,d="pi"===H?900:600,e=Math.min(d,.7*a);d=Math.min(d,.7*c);f.open(t,"_blank","toolbar\x3d0,status\x3d0,width\x3d"+e+",height\x3d"+d+",top\x3d"+(c/2-d/2)+",left\x3d"+(a/2-e/2))}else f.open(t,"_blank");J();g.trigger("ssf:event:share",k)}})});g.declarative("ssf-share-icon","click",function(c){b.logCounter("DPX.Desktop.SheetClick");b.logCounter(n,"SheetClick");if(y)return J();M(c.$currentTarget);k=g.extend(k,c.data);k.shareDataAttributes=g.extend(d.shareDataAttributes,c.data.shareDataAttributes);
g.extend(T[k.lang],k.t);var l=U(k,k.channels);k.builtChannels=l;k.url=k.url.startsWith("/")?""+f.location.origin+k.url:k.url;k.shareUrl=new x(k.url,k.refId);v()&&(k.shareUrl=new x(k.url,k.refId),k.shareUrl.url.searchParams.set("psc",1));u.isDesktop()?(k.image=k.image||a("#imgTagWrapperId img").attr("src"),H(k),b.logCounter("DPX.Desktop.SheetOpen"),b.logCounter(n,"SheetOpen"),b.logCSAEvent(z.CSA_HIT_TYPE.CLICK_SUCCESS,{channel:z.EMPTY_STRING,refMarker:k.shareUrl.refMarker.click,refererURL:k.refererURL,
shareDataAttributes:k.shareDataAttributes,treatment:k.treatment||"",weblab:k.weblab||""})):k.customize||k.caf?X(k):(P(c.$currentTarget),l=N({shareData:k}),K.fetch({data:l,callback:function(a){k.tinyUrl=a;(new B(k)).launch(function(){H(k);b.logCounter("DPX.Desktop.SheetOpen");b.logCounter(n,"SheetOpen")});Q(c.$currentTarget)}}));u.isSafari()&&u.isDesktop()&&(l=N({shareData:k,channelRef:z.CP_CHANNEL_REF}),K.fetch({data:l,callback:function(a){b.logCounter("DPX.Desktop.TinyUrlOnSheetOpen");b.logCounter(n,
"TinyUrlOnSheetOpen");L=a}}));g.trigger("ssf:event:sheetOpen",k)});a(document).delegate(".ssf-copy,.ssf-channel.copy","click",function(c){b.logCounter("DPX.Desktop.ChannelClick");b.logCounter(n,"ChannelClick");c.preventDefault();var l=a(this),d=z.CP_CHANNEL_REF,e=k.shareUrl.getReturnForChannel(d);u.isSafari()&&u.isDesktop()?navigator.clipboard.writeText(L||e).then(function(){F({shareData:k,copyElement:l,channelRef:d})},function(){S(csaOptions)}):(c=N({shareData:k,channelRef:z.CP_CHANNEL_REF}),P(l),
K.fetch({data:c,callback:function(a){Q(l);navigator.clipboard.writeText(a||e).then(function(){F({shareData:k,copyElement:l,channelRef:d})},function(){S(csaOptions)})}}));g.trigger("ssf:event:share",k)});a(document).delegate(".ssf-embed,.ssf-channel.embed","click",function(c){c.preventDefault();c=k;var l=c.shareDataAttributes,d=c.treatment;d=d===p?"":d;var e=c.weblab;e=e===p?"":e;c={channel:"embed",refMarker:c.shareUrl.refMarker.getClickForChannel(z.EMBED_CHANNEL_REF),shareDataAttributes:l,treatment:d,
weblab:e};b.logCSAEvent(z.CSA_HIT_TYPE.SHARE,c);b.logCounter("DPX.Desktop.ChannelClick");b.logCounter(n,"ChannelClick");q.create(a(".ssf-channel.embed"),k.kpModalParams).show()});r.when("SocialShareWidgetTooltip").execute(function(a){a.showCAFTooltip(t)});h=function(){t=a(".ssf-share-trigger");G=C(t);var b=G.width;if(!a(".ssf-background").length&&G.background){var c=1.4*b;c=a('\x3cdiv class\x3d"ssf-background'+(G.floatedIcon?"-float":"")+'"\x3e\x3c/div\x3e').css({width:c,height:c});t.wrap(c)}G.icon&&
t.css({height:b,width:b,backgroundImage:"url("+O()+")"})};u.isIE()&&a(".ssf-share-trigger,.ssf-background").remove();g.on("a:popover:afterUpdatePosition:ssf-share-popover",function(a){a=a.popover.$popover;var b=a.position().left-48;a.find(".a-arrow-border").css({right:24,left:""});a.css({left:b})});g.on("a:popover:show:ssf-share-popover",function(){return y=!0});g.on("a:popover:hide:ssf-share-popover",function(){return y=!1});g.on("a:sheet:befo/reshow:ssf-customize-bottom-sheet",function(b){b.sheet.$container.css("height",
"");r.when("a-switch").execute(function(b){k.caf&&b.getSwitch(a(".ssf-caf-toggle")).isOn(!!k.cafSwitch)})});h()})()}catch(w){b.logCounter("DPX.Desktop.Error"),b.logCounter(n,"Error"),b.logFatal("Error loading Share Framework AUI: "+w.toString())}finally{b.logCounter("DPX.Desktop.Render"),b.logCounter(n,"Render"),g.trigger("ssf:event:load"),b.stopTimer(n)}return{init:h}});"use strict";var F=function(){return function(g,a){if(Array.isArray(g))return g;if(Symbol.iterator in Object(g)){var e=[],d=!0,
c=!1,b=p;try{for(var f=g[Symbol.iterator](),h;!(d=(h=f.next()).done)&&(e.push(h.value),!a||e.length!==a);d=!0);}catch(y){c=!0,b=y}finally{try{if(!d&&f["return"])f["return"]()}finally{if(c)throw b;}}return e}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();r.when("A","SocialShareWidgetConfig","SocialShareWidget","SocialShareWidgetCustomizeTemplate").register("SocialShareWidgetTemplating",function(f,a,e,d){e=e.SocialShareCore;var c=f.$,b=e.Detection.isClipboardAvailable,
g=e.Detection.isDesktop,h=a.excludedChannels;b()||h.push("copy");var r=function(a){return'\x3cspan class\x3d"a-spinner a-spinner-'+a+' a-align-center a-hidden"\x3e\x3c/span\x3e'};return{build:function(e){var f=e.shareUrl,m=e.socialLinks,n=m===p?{}:m;m=e.shareDataAttributes;var y=e.builtChannels,B=e.kpModalParams,x=e.t;n.email=e.mailToUri;var z='\x3cspan class\x3d"a-button ssf-copy"\x3e\n        \x3cspan class\x3d"a-button-inner"\x3e\n          \x3cinput class\x3d"a-button-input" type\x3d"submit"\x3e\n          \x3cspan class\x3d"a-button-text" aria-hidden\x3d"true"\x3e\n            \x3cdiv class\x3d"copy-label"\x3e'+
x.taf_copy_tooltip+"\x3c/div\x3e\n          \x3c/span\x3e\n        \x3c/span\x3e\n      \x3c/span\x3e";!g()&&b()&&1>c(".ssf-feedback").length&&c(document.body).append('\x3cdiv class\x3d"a-changeover ssf-feedback" style\x3d"display:none"\x3e\n          \x3cdiv class\x3d"a-changeover-inner"\x3e\n            \x3ci class\x3d"a-icon a-icon-checkmark-inverse"\x3e\x3c/i\x3e\n            \x3cstrong class\x3d"a-size-medium"\x3e'+x.taf_copy_url_changeover+"\x3c/strong\x3e\n          \x3c/div\x3e\n        \x3c/div\x3e");
var C=function(a){return{title:x["taf_"+a.name+"_tooltip"]||a.label,label:x["taf_"+a.name+"_name"]||a.label}};a.lineMarketplaces.includes(m.marketplaceId)||n.li?h.push("pi"):h.push("li");B||h.push("embed");return{getModal:function(){var a="",c=!0,d=!1,e=p;try{for(var g=Object.entries(y)[Symbol.iterator](),m;!(c=(m=g.next()).done);c=!0){var u=F(m.value,2),l=u[0],q=u[1];if(!h.includes(l)&&"copy"!==l){var A=C(q),D=n[q.name]||q.getSharingUrl();a+='\x3cdiv class\x3d"ssf-channel-h"\x3e\n              \x3ca class\x3d"ssf-channel a-color-base" href\x3d"'+
D+'" title\x3d"'+A.title+'" data-key\x3d"'+l+'"\x3e\n                '+r("medium")+'\n                \x3ci role\x3d"img" aria-label\x3d"'+A.label+'" style\x3d"background-image: url('+q.image+')"\x3e\x3c/i\x3e\n              \x3c/a\x3e\n              \x3cspan\x3e'+A.label+"\x3c/span\x3e\n            \x3c/div\x3e"}}}catch(E){d=!0,e=E}finally{try{!c&&g.return&&g.return()}finally{if(d)throw e;}}c=b()?'\x3cdiv class\x3d"ssf-copy-section a-box a-padding-base a-spacing-top-large"\x3e\n              \x3cdiv class\x3d"link-section"\x3e'+
f.return+'\x3c/div\x3e\n              \x3cdiv class\x3d"copy-button"\x3e'+z+"\x3c/div\x3e\n          \x3c/div\x3e":"";return'\x3ch3 class\x3d"a-spacing-large"\x3e'+x.taf_share_bottom_sheet_title+"\x3c/h3\x3e"+('\x3cdiv class\x3d"ssf-h-icons"\x3e'+a+"\x3c/div\x3e")+c},getPopover:function(){var a="",b=!0,c=!1,d=p;try{for(var e=Object.entries(y)[Symbol.iterator](),f;!(b=(f=e.next()).done);b=!0){var g=F(f.value,2),l=g[0],q=g[1];if(!h.includes(l)){var m=C(q),D=n[q.name]||q.getSharingUrl();a+='\x3cdiv class\x3d"ssf-channel-v"\x3e\n              \x3ca class\x3d"ssf-channel '+
l+' a-color-base" href\x3d"'+D+'" title\x3d"'+m.title+'" data-key\x3d"'+l+'"\x3e\n                '+r("small")+'\n                \x3ci role\x3d"img" aria-label\x3d"'+m.label+'" style\x3d"background-image: url('+q.image+')"\x3e\x3c/i\x3e\n                \x3cspan class\x3d"'+l+'-label"\x3e'+m.label+"\x3c/span\x3e\n              \x3c/a\x3e\n            \x3c/div\x3e"}}}catch(E){c=!0,d=E}finally{try{!b&&e.return&&e.return()}finally{if(c)throw d;}}return""+a},getEasyModeContent:function(){var a='\x3cdiv id\x3d"SocialShare" class\x3d"a-section a-spacing-none"\x3e\x3cdiv class\x3d"a-button-stack a-spacing-none a-js"\x3e\x3cspan class\x3d"s-no-js-hide"\x3e';
var b=!0,c=!1,d=p;try{for(var e=Object.entries(y)[Symbol.iterator](),f;!(b=(f=e.next()).done);b=!0){var g=F(f.value,2),l=g[0],q=g[1];if(!h.includes(l)){var m=C(q),D=n[q.name]||q.getSharingUrl();a+='\x3ca class\x3d"ssf-channel '+l+' a-color-base ssf-easy-mode-channel" href\x3d"'+D+'" title\x3d"'+m.title+'" data-key\x3d"'+l+'"\x3e\n                 \x3cspan class\x3d"a-button a-spacing-none a-button-base s-easy-mode-social-share-button s-easy-mode-social-share-label"\x3e\n                   \x3cspan class\x3d"a-button-inner"\x3e\n                     \x3cinput class\x3d"ssf-channel-v a-button-input" type\x3d"submit"\x3e\n                       \x3cspan aria-hidden\x3d"true" class\x3d"a-button-text"\x3e\n                         \x3cdiv class\x3d"a-section s-easy-mode-action-button-inner aok-nowrap"\x3e\n                           \x3ci class\x3d"ssf-channel-popover-icon" role\x3d"img" aria-label\x3d"'+
m.label+'" style\x3d"background-image: url('+q.image+');"\x3e\x3c/i\x3e\n                           \x3cspan class\x3d"'+l+'-label a-size-base"\x3e'+m.label+"\x3c/span\x3e\n                         \x3c/div\x3e\n                       \x3c/span\x3e\n                     \x3c/input\x3e\n                   \x3c/span\x3e\n                 \x3c/span\x3e\n              \x3c/a\x3e"}}}catch(E){c=!0,d=E}finally{try{!b&&e.return&&e.return()}finally{if(c)throw d;}}return a+"\x3c/span\x3e\x3c/div\x3e\x3c/span\x3e"},
getBottom:function(){var a="",b=!0,c=!1,d=p;try{for(var e=Object.entries(y)[Symbol.iterator](),f;!(b=(f=e.next()).done);b=!0){var g=F(f.value,2),l=g[0],q=g[1];if(!h.includes(l)){var m=C(q),D=n[q.name]||q.getSharingUrl();a+='\x3cdiv class\x3d"ssf-channel-b a-padding-base"\x3e\n              \x3ca class\x3d"ssf-channel '+l+' a-color-base" href\x3d"'+D+'" title\x3d"'+m.title+'" data-key\x3d"'+l+'"\x3e\n                '+r("medium")+'\n                \x3ci role\x3d"img" aria-label\x3d"'+m.label+'" style\x3d"background-image: url('+
q.image+')"\x3e\x3c/i\x3e\n                \x3cspan class\x3d"a-size-base-plus"\x3e'+m.label+"\x3c/span\x3e\n              \x3c/a\x3e\n            \x3c/div\x3e"}}}catch(E){c=!0,d=E}finally{try{!b&&e.return&&e.return()}finally{if(c)throw d;}}return'\x3cdiv class\x3d"a-padding-base ssf-header"\x3e\n          \x3ch4\x3e'+x.taf_share_bottom_sheet_title+'\x3c/h4\x3e\n        \x3c/div\x3e\x3cdiv class\x3d"ssf-scroll"\x3e'+a+"\x3c/div\x3e"},getCustomize:function(){var a='\x3ch3 class\x3d"a-spacing-base a-spacing-top-base"\x3e'+
x.taf_share_bottom_sheet_title+"\x3c/h3\x3e",b='\x3cdiv class\x3d"ssf-heading-container"\x3e\x3cimg class\x3d"ssf-back-btn" src\x3d"https://m./res.com/images/G/01/share-icons/arrow-left.svg"\x3e'+a+"\x3c/div\x3e",c='\x3cdiv class\x3d"a-padding-base a-box ssf-cus-img ssf-no-border" style\x3d"background-image: url('+e.image+')"\x3e'+r("medium")+"\x3c/div\x3e",f=e.caf?'\x3cdiv class\x3d"a-row a-spacing-top-large'+(e.customize?"":" a-spacing-large")+'"\x3e\n          \x3cdiv class\x3d"a-column a-span9"\x3e\n            \x3cstrong class\x3d"ssf-caf-toggle-label"\x3e'+
x.taf_custshare_caf_ing/ress+'\x3c/strong\x3e\n          \x3c/div\x3e\n          \x3cdiv class\x3d"a-column a-span3 a-text-right a-span-last"\x3e\n            \x3cdiv class\x3d"a-switch-row ssf-caf-toggle"\x3e\n          \x3cinput class\x3d"a-declarative a-switch-input" data-action\x3d"a-switch-input" name\x3d"caf" type\x3d"checkbox"\x3e\n          \x3clabel class\x3d"a-switch-label a-declarative" data-action\x3d"a-switch-label"\x3e\n            \x3cdiv class\x3d"a-switch a-declarative" data-action\x3d"a-switch"\x3e\n              \x3ca class\x3d"a-switch-control" style\x3d"transform: translateX(-1px) translateZ(0px);"\x3e\x3c/a\x3e\n            \x3c/div\x3e\n          \x3c/label\x3e\n        \x3c/div\x3e\n          \x3c/div\x3e\n        \x3c/div\x3e':
"",g='\x3cspan class\x3d"a-button a-button-primary a-spacing-top-small ssf-customize-share-btn"\x3e\n          \x3cspan class\x3d"a-button-inner"\x3e\n            \x3cinput class\x3d"a-button-input" type\x3d"button" aria-labelledby\x3d"ssf-customize-share-btn"\x3e\n            \x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"ssf-customize-share-btn"\x3e\n              '+e.shareLabel+"\n              "+r("small")+"\n            \x3c/span\x3e\n          \x3c/span\x3e\n        \x3c/span\x3e",
h=e.customize?d.getCustomizeBox(x):"";return'\x3cdiv class\x3d"a-padding-base ssf-customize-container-one"\x3e'+a+c+f+h+g+"\x3c/div\x3e"+(e.customize?'\x3cdiv class\x3d"a-padding-base ssf-customize-container-two a-hidden"\x3e'+b+c+f+'\x3cdiv class\x3d"a-row a-spacing-top-base a-padding-base ssf-tabs"\x3e\x3c/div\x3e'+g+"\x3c/div\x3e":"")}}}}});"use strict";r.when("jQuery","SocialShareWidget").register("SocialShareWidgetTiny",function(f,a){var e=a.SocialShareCore.Metrics;return{fetch:function(a){var c=
a.data,b=a.callback;if(!c.csrfToken||!c.gcmToken||!c.url)return e.logCounter("Tiny.Unavailable"),e.startTimer("Tiny"),b();f.ajax("/conversations/sharetinyurl",{type:"POST",contentType:"application/json;charset\x3dUTF-8",data:JSON.stringify(c),success:function(a){e.logCounter("Desktop.Tiny./response");e.stopTimer("Tiny");b(a.data&&a.data.url)},error:function(){e.logCounter("Desktop.Tiny.Error");e.stopTimer("Tiny");b()}})}}});"use strict";r.when("A","SocialShareWidget").register("SocialShareWidgetCustomize",
function(g,a){a=a.SocialShareCore;var e=g.$,d=a.Sha/resheet,c=a.Url,b=a.Metrics,m=a.Constants,h=b.getMetricName(g.$,m.customize);b.startTimer(h);var y=function(){},n=function(){},w={};try{(function(){var a={clear:function(){this.values={}},isEmpty:function(){return e.isEmptyObject(this.values)},values:{},unset:function(a){delete this.values[a.id]},set:function(a){this.values[a.id]=a},currentImage:"",productImageProperties:{width:0,height:0}},v=void 0,F=void 0;r.when("a-button").execute(function(a){return v=
a});r.when("SocialShareWidgetTiny").execute(function(a){return F=a});g.on("a:sheet:afterHide:ssf-customize-bottom-sheet",function(b){b.sheet.getContentContainer().remove();a.clear()});g.on("a:sheet:afterShow:ssf-customize-bottom-sheet",function(a){w.caf||(a=Math.round(f.innerHeight*(700>f.innerHeight?.2:.25)),e(".ssf-cus-img").css({height:a}))});n=function(a){var b=a.productImage,c=a.price,e=a.rating,d=a.text;d=d===p?"React to this item with an emoji":d;var l=a.caf,f=b.match(/([\w\d_+-]*)\.?[^\\\/]*$/i);
a=f[1];var g=b.match(/\.[0-9a-z]+$/i)[0];b=b.replace(f[0],"");f="._SR450,315_AC_SR450,180,0,C_SR450,"+(l?320:250)+",0,T";c=c?"_ZA"+encodeURIComponent(encodeURIComponent(c))+",20,180,1000,1000,Ember,13,0,0,0":"";e=e?"_PIStarRating"+e+",TopLeft,"+(l?16:290)+",205":"";d=l?"_ZA"+encodeURIComponent(encodeURIComponent(d))+",20,235,1000,500,Ember,13,0,0,0__PIcaf-emojis,TopLeft,12,260":"";return""+b+a+f+c+e+d+g};var B=function(a){e(".ssf-cus-img").css("background-image",'url("'+a+'")')},x=function(b){var c=
b.productImage;b.caf||(b=new Image,b.src=c,b.onload=function(){a.productImageProperties.width=this.width;a.productImageProperties.height=this.height})},z=function(){e(".ssf-cus-img").find(".a-spinner").removeClass("a-hidden")},C=function(){e(".ssf-cus-img").find(".a-spinner").addClass("a-hidden")},t=function(a){var b=a.shareData;a=a.channelRef;var c=b.shareUrl,d=b.socialLinks;d=d===p?{}:d;a=a?c.getReturnForChannel(a):c.return;return{csrfToken:b.csrfToken,gcmToken:b.gcmToken,url:a,originalUrl:d.shareframework||
b.url||a}},k=function(a,f,m,k,n){e(".ssf-customize-share-btn").find(".a-spinner").addClass("a-hidden");v(".ssf-customize-share-btn").enable();f();k&&(f=new URL(m.url),f.searchParams.append("cafId",k),f.searchParams.append("cafASIN",m.shareDataAttributes.asin),m.shareUrl=new c(f.toString(),m.refId));f=t({shareData:m});F.fetch({data:f,callback:function(c){m.tinyUrl=c;n&&n();c=g.extend({channelSelectCB:function(){k&&g.trigger("ssf:event:caf-share-complete-success",m)}},m);(new d(c)).launch(function(){g.delay(function(b){a(m)},
100);k?b.logCounter(h,"CAF.Sha/resheetOpen"):b.logCounter(h,"Sha/resheetOpen")})}})},G=function(a,c){var d=a.cafAapiCsrfToken,f=a.shareDataAttributes;a="https://"+a.aapiBaseUrl+"/custom/consultafriendcontracts/marketplaces/"+f.marketplaceId+"/consultafriend/feedback-request/"+f.asin;b.logCounter(h,"CAF.createCAFID.called");e.ajax({url:a,type:"POST",headers:{"Accept-Language":"en-US",Accept:'application/vnd.com..api+json; type\x3d"aapi.consultafriendcontracts.custom.consult-a-friend.feedback-request./response/v1"',
"x-api-csrf-token":d,"Content-Type":"application/x-www-form-urlencoded"},xhrFields:{withCredentials:!0},success:function(a){c(a.entity&&a.entity.cafId)},error:function(){b.logCounter(h,"CAF.createCAFID.failed");c()}})},L=function(a,c){var d=a.locale,g=a.shareDataAttributes;e.ajax({url:f.location.protocol+"//"+a.aapiBaseUrl+"/custom/socialshareapicontracts/marketplaces/"+g.marketplaceId+"/products/"+g.asin+"/shareframework/productshareableattributes?locale\x3d"+d+"\x26type\x3d"+a.productType,type:"GET",
headers:{"Accept-Language":d,Accept:'application/vnd.com..api+json; type\x3d"aapi.socialshareapicontracts.custom.ssapis.product.shareable.attributes./response/v1"',"x-api-csrf-token":a.shareAapiCsrfToken,"Content-Type":"application/x-www-form-urlencoded"},xhrFields:{withCredentials:!0},success:function(a){b.logCounter(h,"FetchTabsSuccess");c(O(a))},error:function(a){b.logCounter(h,"FetchTabsFail");c([])}})},O=function(a){return(a=a.entity)&&"SUCCEEDED"===a.status?a.tabs.map(function(a){var b=
{id:a.id,heading:a.shortDisplayName,text:a.longDisplayName,isQuote:!0};a.params&&(b.values=Object.values(a.params)[0],b.isQuote=!1);return b}):[]},M=function(a,c,d){var g=a.shareDataAttributes;e.ajax({url:f.location.protocol+"//"+a.aapiBaseUrl+"/custom/socialshareapicontracts/marketplaces/"+g.marketplaceId+"/products/"+g.asin+"/shareframework/generatecustomizedimage",type:"POST",data:c,headers:{"Accept-Language":a.locale,Accept:'application/vnd.com..api+json; type\x3d"aapi.socialshareapicontracts.custom.ssapis.product.generate.customized.image./response/v1"',
"x-api-csrf-token":a.shareAapiCsrfToken,"Content-Type":"application/x-www-form-urlencoded"},xhrFields:{withCredentials:!0},success:function(a){b.logCounter(h,"generateCustomizeImageSuccess");d(a)},error:function(a){b.logCounter(h,"generateCustomizeImageFail");d(a)}})},I=function(c,d){var g=c.shareAapiCsrfToken,l=c.aapiBaseUrl,m=c.locale,k=c.shareDataAttributes;c=k.marketplaceId;k=k.asin;if(a.isEmpty())return d({});var n=encodeURIComponent(a.currentImage);e.ajax({url:f.location.protocol+"//"+l+"/custom/socialshareapicontracts/marketplaces/"+
c+"/products/"+k+"/shareframework/externalizecustomizedimage?customizedImageUrl\x3d"+n,type:"PUT",headers:{"Accept-Language":m,Accept:'application/vnd.com..api+json; type\x3d"aapi.socialshareapicontracts.custom.ssapis.product.externalize.customized.image./response/v1"',"x-api-csrf-token":g,"Content-Type":"application/x-www-form-urlencoded"},xhrFields:{withCredentials:!0},success:function(a){d(a)},error:function(a){b.logCounter(h,"externalizeImageFail");d({})}})};y=function(d,f,t){w={productImage:d.productImage||
d.image,rating:d.starRating,caf:d.cafSwitch,text:d.t.taf_custshare_caf_recipientemoji};var l=function(){var b=a.values,c=b.BackgroundImageTab,e=b.DeviceCoverImageTab;b=b.BookQuotesTab;var f=a.productImageProperties,g=f.width;f=f.height;return{productImageUrl:d.productImage,starRating:d.starRating||"",numberOfReviews:d.numberOfReviews||"",backgroundImagePhysicalId:(c===p?{}:c).physicalId||"",deviceCoverImagePhysicalId:(e===p?{}:e).physicalId||"",bookQuote:(b===p?{}:b).value||"",productImageWidth:g===
p?"":g,productImageHeight:f===p?"":f}},q=function(){var b=a.values,c=b.BackgroundImageTab;c=c===p?{}:c;var e=b.DeviceCoverImageTab;e=e===p?{}:e;b=b.BookQuotesTab;b=(b===p?{}:b).value||"";return{backgroundImagePhysicalId:c.physicalId||"",deviceCoverImagePhysicalId:e.physicalId||"",hasQuote:0<b?m.TRUE:m.FALSE,isCustomizedExperienceEnabled:d.customize?m.TRUE:m.FALSE,isCustomized:c.physicalId||e.physicalId||b?m.TRUE:m.FALSE}};a.currentImage=n(w);B(n(w));x(w);e(".ssf-customize-share-btn").click(function(){v(".ssf-customize-share-btn").isEnabled()&&
(e(".ssf-customize-share-btn").find(".a-spinner").removeClass("a-hidden"),v(".ssf-customize-share-btn").disable(),w.caf?(b.logCounter(h,"CAF.shareClick"),b.startTimer("CAF.fetchCAFAndTinyURL"),G(d,function(a){k(f,t,d,a,function(){b.stopTimer("CAF.fetchCAFAndTinyURL")})})):function(){var a=q();b.logCounter(h,"shareClick");a.isCustomized&&b.logCounter(h,"shareClickCustomized");I(d,function(e){if((e=e.entity)&&e.physicalId){b.logCounter(h,"externalizeImageSuccess");var l=new URL(d.url);l.searchParams.append("cspi",
e.physicalId);d.shareUrl=new c(l.toString(),d.refId)}var n=d;e=n.shareDataAttributes;l=n.treatment;l=l===p?"":l;n=n.weblab;n=n===p?"":n;d=g.extend({customizeShareCSAData:a},d);b.logCSAEvent(m.CSA_HIT_TYPE.CUSTOMIZE_SHARE,{channel:m.EMPTY_STRING,refMarker:d.shareUrl.refMarker.click,shareDataAttributes:e,treatment:l,weblab:n,customizeShareCSAData:a});k(f,t,d)})}())});g.on("a:switch:caf:on",function(a){w.caf=!0;b.logCounter(h,"CAF.switchOn");B(n(w))});g.on("a:switch:caf:off",function(a){w.caf=!1;b.logCounter(h,
"CAF.switchOff");B(n(w))});e("#ssf-customize-share").click(function(){var a=this;v(this).isEnabled()&&(b.logCounter(h,"CustomizeButtonClick"),v(this).disable(),L(d,function(b){r.now("SocialShareWidgetCustomizeTemplate").execute(function(c){e(".ssf-tabs").html(c.getTabs(d,b));v(a).enable();b.forEach(function(a){var b=".ssf-tab-"+a.id+" .ssf-options-box";e(b).click(function(a){a=e(a.currentTarget).data("value");var c=e(this).hasClass("active");e(b).removeClass("active");c?y(a):(u(a),e(this).addClass("active"))})})});
e(".ssf-customize-container-one").addClass("a-hidden");e(".ssf-customize-container-two").removeClass("a-hidden").addClass("ssf-customize-transition")}))});var u=function(c){B();z();a.set(c);var e=l();b.logCounter(h,c.id+"Select");M(d,e,function(b){(b=b.entity)&&"SUCCEEDED"===b.status&&(b=b.customizedImage.url,a.currentImage=b,x(b),B(b),C())})},y=function(c){B();z();b.logCounter(h,c.id+"Unselect");a.unset(c);a.isEmpty()?(c=n(w),a.currentImage=c,B(c),C()):(c=l(),M(d,c,function(b){(b=b.entity)&&"SUCCEEDED"===
b.status&&(b=b.customizedImage.url,a.currentImage=b,x(b),B(b),C())}))};e(".ssf-back-btn").click(function(){b.logCounter(h,"BackButtonClick");e(".ssf-customize-container-two").addClass("a-hidden");e(".ssf-customize-container-one").removeClass("a-hidden").addClass("ssf-customize-transition-back")});r.when("a-switch").execute(function(a){e(".ssf-caf-toggle-label").click(function(){a.getSwitch(e(".ssf-caf-toggle")).toggle()})})}})()}catch(u){console.log(u),b.logCounter(h,"Error"),b.logFatal("Error loading Customize widget, Share Framework AUI: "+
u.toString())}finally{b.logCounter(h,"Render"),b.stopTimer(h)}return{init:y,getImage:n}});"use strict";r.when("A").register("SocialShareWidgetCustomizeTemplate",function(f){var a=function(a){return'\x3cdiv class\x3d"ssf-options-box-container"\x3e'+a.values.map(function(b){b=f.isPlainObject(b)?b:{value:b};var c={val:f.extend(b,{id:a.id}),background:b.url};a.isQuote&&(c=f.extend(c,{center:!0,width:150,content:b.value,background:p}));b=c.content;b=b===p?"":b;var d=c.width;d=d===p?100:d;var e=c.background,
g=c.center;g=g===p?!1:g;d='style\x3d"width: '+d+"px;background-image: url("+(e===p?"":e)+");background-size: "+d+"px "+d+'px;"';return'\x3cdiv class\x3d"a-box ssf-options-box" '+("data-value\x3d'"+JSON.stringify(c.val)+"'")+" "+d+"\x3e"+(g?'\x3cdiv class\x3d"a-box-inner a-text-center"\x3e'+b+"\x3c/div\x3e":b)+"\x3c/div\x3e"}).join("")+"\x3c/div\x3e"},e=function(a){var b=2<arguments.length&&arguments[2]!==p?arguments[2]:!1;return'\x3cli class\x3d"a-tab-heading '+(b?"a-active":"")+'" data-a-tab-name\x3d"ssf-tab-'+
a+'" role\x3d"p/resentation"\x3e\n              \x3ca href\x3d"#" role\x3d"tab" aria-selected\x3d"'+(b?"true":"false")+'" '+(b?"":'tabindex\x3d"-1"')+"\x3e"+(1<arguments.length&&arguments[1]!==p?arguments[1]:"")+"\x3c/a\x3e\n            \x3c/li\x3e"},d=function(a){return'\x3cdiv data-a-name\x3d"ssf-tab-'+a+'" class\x3d"ssf-tab-'+a+" a-box a-box-tab a-tab-content "+(3<arguments.length&&arguments[3]!==p&&arguments[3]?"":"a-hidden")+'" role\x3d"tabpanel" tabindex\x3d"0"\x3e\n              \x3ch4 class\x3d"a-text-normal a-spacing-base"\x3e'+
(2<arguments.length&&arguments[2]!==p?arguments[2]:"")+"\x3c/h4\x3e\n              "+(1<arguments.length&&arguments[1]!==p?arguments[1]:"")+"\n            \x3c/div\x3e"};return{getTabs:function(c,b){var f=c.popularHighlightStrings;if(!b.length)return"";var g="",p="",n=-1;b.forEach(function(b,c){b.isQuote&&(b.values=f);if(!b.values.length)return"";-1===n&&(n=c);c=c===n;g+=e(b.id,b.heading,c);p+=d(b.id,a(b),b.text,c)});return'\x3cdiv class\x3d"a-tab-container a-size-small"\x3e'+('\x3cul data-action\x3d"a-tabs" class\x3d"a-tabs a-declarative" role\x3d"tablist" data-a-tabs\x3d"{"name": "customize-tabs"}"\x3e\n        '+
g+"\x3c/ul\x3e"+p)+"\x3c/div\x3e"},getCustomizeBox:function(a){return'\x3cdiv class\x3d"a-box a-color-alternate-background a-spacing-top-large a-padding-base ssf-customize-box"\x3e\n      '+('\x3ch5 class\x3d"a-size-small a-spacing-micro"\x3e'+a.taf_custshare_customizelong+"\x3c/h5\x3e")+('\x3cp class\x3d"a-size-small a-color-secondary"\x3e'+a.taf_custshare_customizedesc+"\x3c/p\x3e")+('\x3cspan class\x3d"a-button a-button-small" id\x3d"ssf-customize-share"\x3e\n      \x3cspan class\x3d"a-button-inner"\x3e\n        \x3cbutton class\x3d"a-button-text" type\x3d"button"\x3e'+
a.taf_custshare_customizeshort+"\x3c/button\x3e\n      \x3c/span\x3e\n    \x3c/span\x3e")+"\n    \x3c/div\x3e"}}});"use strict";r.when("A","a-tooltip").register("SocialShareWidgetTooltip",function(f,a){var e=function(){var a=localStorage.getItem("caf_tooltip_viewed_timestamps_storage_key"),c=0,b=0,e=0;(a?JSON.parse(a):[]).forEach(function(a){var d=f.now();a=Math.floor(Math.max(d-a,0)/864E5);0===a&&b++;7>a&&e++;c++});return 6<=c||3<=e||2<=b?!1:!0};return{showCAFTooltip:function(d){var c=d.data("tooltip");
if(c&&c.enabled){try{localStorage.setItem("testOrSomething",1);localStorage.removeItem("testOrSomething");var b=!0}catch(m){b=!1}b&&e()&&(a.create(d,{inlineContent:'\x3cdiv style\x3d"max-width:275px; word-wrap:break-word;"\x3e '+c.tipText+" \x3c/div\x3e",position:"triggerHorizontal"}).show(),d=(d=localStorage.getItem("caf_tooltip_viewed_timestamps_storage_key"))?JSON.parse(d):[],d.push(Date.now()),localStorage.setItem("caf_tooltip_viewed_timestamps_storage_key",JSON.stringify(d)))}}}})});
/* ******** */
