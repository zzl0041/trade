(function(w){var t=window.UIPageJS||window.P,ka=t._namespace||t.attributeErrors,f=ka?ka("DetailPageImageBlockAssets",""):t;f.guardFatal?f.guardFatal(w)(f,window):f.execute(function(){w(f,window)})})(function(w,t,ka){w.register("postMetric",function(){return{postCountMetric:function(f){if("undefined"!==typeof f){var a=t.ue;if(a){var e=a.count(f)||0;a.count(f,e+1)}}},postTimeMetric:function(f,a){if("undefined"!==typeof f&&"undefined"!==typeof a){var e=t.ue;e&&e.count(f,a)}},emitNexusMetric:function(f){t.ue&&
ue.event&&ue.event(f,"VSEImageBlockEvents","vse.VSEImageBlockEvents.3",{ssd:!1})},buildNexusMetric:function(f,a,e,g,m,d,q,h){return{eventSource:"IBCarousel",placementContext:h,clientId:"VSE",userAgentData:navigator.userAgent,titleSessionId:"0",eventName:f,intPayload:a,videoAsin:e,videoAsinList:"",groupType:g,pageUrl:m,pageAsin:d,weblabIds:q}}}});"use strict";w.register("logFailedInteractionMetric",function(){return{isEnabled:!1}});w.register("postEarlyMetric",function(){return null});"use strict";
w.when("jQuery","ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(f,a,e,g){f=f.extend(!0,{},e,g);var m=new a(f);w.register("ImageBlockAPI",function(){return m.api});return m});"use strict";w.when("A","jQuery").execute(function(f,a){f.on("a:image:load:landingImage",function(){t.performance&&performance.now&&t.ue&&ue.count&&ue.count("DPLandingImageHigh/resDownloadTime",performance.now())});f.loadDynamicImage(a("#landingImage"))});"use strict";w.when("ImageBlockATF",
"atf").register("ImageBlockAiryLoader",function(f){function a(a){a&&(w.load.js(a),t.performance&&performance.now&&t.ue&&ue.count&&ue.count("DPAiryDownloadStartTime",t.parseInt(performance.now())))}function e(a){a&&w.load.css(a)}var g=f.airyConfig;g===ka?w.when("ImageBlockBTF").execute(function(f){g=f.airyConfig;a(g.jsUrl);e(g.cssUrl)}):(a(g.jsUrl),e(g.cssUrl))});"use strict";w.when("jQuery","ImageBlockModel","ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",function(f,
a,e,g,m){var d={};return function(q){var h=this;h.dispatch=function(a,e){var h=d[a];g.isDefined(h)&&f.each(h,function(a,d){d.call(t,e)})};h.register=function(a,e){g.isDefined(d[a])||(d[a]=[]);"function"===typeof e&&d[a].push(e)};h.model=new a(q,h);h.view=new e(q,h,h.model);h.api=new m(q,h,h.model);h.init=function(){h.model.init();h.view.init()};h.init()}});"use strict";w.when("A","imageBlockUtils").register("ImageBlockModel",function(f,a){function e(e,d,f,g,h,q){a.isDefined(e)&&(n.type=e);a.isDefined(d)&&
(n.index=d);a.isDefined(f)&&(n.thumbnailIndex=f);a.isDefined(g)&&(n.variant=g);a.isDefined(h)&&(n.color=h);n.shoppableScene=q||null}function g(a){e("image",0,0,"MAIN",a||h.landingAsinColor||h.defaultColor,null)}function m(a){a=a.data;K=f.copy(n);e(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}function d(a){m(a);a=f.copy(a);a.data=f.copy(n);r.dispatch("updateView",a)}function q(){K=f.copy(n);g(n.color)}var h,r,n={},K={},I,t;return function(a,F){r=F;h=a;r.register("updateSelection",
d);r.register("updateModel",m);r.register("/resetModel",q);this.init=function(){g()};this.getCurrentItem=function(){return f.copy(n)};this.getPreviousItem=function(){return f.copy(K)};this.setCurrentEvent=function(a){I=a};this.getCurrentEvent=function(){return I};this.setImmersiveViewModalInstance=function(a){t=a};this.getImmersiveViewModalInstance=function(){return t};this.updateTitle=function(a){h.title=a};this.setToPreviousItem=function(){e(K.type,K.index,K.thumbnailIndex,K.variant,K.color,K.shoppableScene)};
this.setToCurrentItem=function(a){e(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}}});"use strict";w.when("ImageBlockBTF","postMetric").register("ImageBlockInitViews",function(f,a){function e(a,e,g,h,r){function n(a){"click"===a.type&&h.postCountMetric("thumbClick");"click"===a.type&&b.overrideAltImageClickAction?k.dispatch("thumbActionClick",a):k.dispatch("updateSelection",a)}function K(a){b.useClickZoom||k.dispatch("imageClick",a)}function I(a){b.useClickZoom||k.dispatch("imageHover",
a)}function G(a){k.dispatch("button360Click",a)}function A(e){!g.isDefined(e)||"swatchClick"!==e.type&&"updatedData"!==e.type?(y.update(e),"swatchHover"!==e.type&&B.getPreviousItem().thumbnailIndex!==e.data.thumbnailIndex&&h.postCountMetric(e.data.type+"ThumbnailSelected"),a.trigger("image-block-thumbnail-selected",e.data)):(y.render(e.data.color,!1,e.onload),e={hasComponents:!0,components:[{name:"mainimage"},{name:"thumbnail"}]},"function"===typeof t.markFeatureRender&&t.markFeatureRender("imageblock",
e))}function F(a){k.dispatch("/resize",a)}function L(a){g.selectThumbnail(a,l)}function Q(){"function"===typeof t.markFeatureInteractive&&t.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["click"],alwaysInteractive:!0}]})}function P(){"function"===typeof t.markFeatureInteractive&&t.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["hover"],alwaysInteractive:!0},{name:"thumbnail",events:["click","hover"],alwaysInteractive:!0}]});
1===f.useIV?w.when("a-modal").execute(function(){Q()}):Q();b.disableHoverOnAltImages||a.declarative("thumb-action",["mouseenter","mouseleave"],n);a.declarative("thumb-action",["click"],n);a.declarative("main-image-click",["click"],K);a.declarative("main-image-click",["mouseenter","mouseleave"],I);a.declarative("button-360-click",["click"],G);a.on("/resize",F)}function O(a){var e=a.data,b;e&&"ing/ress"!==e.type&&"click"===a.type&&(b=a);return b}function N(a){var e=B.getCurrentItem(),b={type:"click"};
b.$declarativeParent=a;b.data=e;return b}var y,b,k,B,l;return function(a,f,g){y=this;b=a;k=f;B=g;l=e("#imageBlock #altImages ul");var h=e("#imageBlock .canvas"),q=e("#main-image-container"),c;y.subViews=[];for(f=0;f<r.length;f++)y.subViews.push(new r[f](a,g,y,k));y.render=function(a,b,k){var f=0;l.find(".item").remove();a=a||B.getCurrentItem().color;e.each(y.subViews,function(c,e){f=e.render(a,f,h,l,q,b,k)||f});var g=l.find(".a-button-selected").closest(".a-declarative");c=N(g)};y.init=function(){l=
e("#imageBlock #altImages ul");var a=l.find(".a-button-selected").closest(".a-declarative"),c=a.data("action"),a=a.data(c)||{};a.color=b.landingAsinColor||b.defaultColor;k.dispatch("updateModel",{data:a});y.render(a.color,!0);b.isDebug&&t.console&&console.log(b);k.register("updateView",A);k.register("selectThumbnail",L);P()};y.update=function(a){e.each(y.subViews,function(c,e){e.update(a)});b.usePeekHover&&("mouseleave"===a.type?k.dispatch("updateSelection",c):"click"===a.type&&(c=O(a)||c))}}}var g=
["A","jQuery","imageBlockUtils","postMetric"].concat(f.views);w.when.apply(w,g).register("ImageBlockView",function(){for(var a=arguments[0],d=arguments[1],f=arguments[2],g=arguments[3],r=[],n=4,t=arguments.length;n<t;n++)r.push(arguments[n]);return e(a,d,f,g,r)})});"use strict";w.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAltImageView",function(f,a,e,g,m,d,q){function h(c,b,p,d){if(!e.isjQueryObjDefined(c.find(".a-button-selected"))){var u=
C.getCurrentItem();if(!d||"chromeless-video"!==u.type||!l.autoplayVideo)if(d=0,"image"===u.type&&(d=Math.max(I(u.color,u.variant),0)),!(u.thumbnailIndex>=l.maxAlts&&0!=d)){var f=b+d;f>=p&&(d=0,f=b);b=e.getImageHash(u.color,d,l);-1!==b&&(z.dispatch("updateModel",{data:{index:d,thumbnailIndex:f,variant:b.variant,type:"image",shoppableScene:b.shoppableScene}}),b=c.find(".item").get(f),e.selectGivenThumbnail(a(b),c))}}}function r(c,b,p){if((2===l.unrolledImageBlockTreatment||3===l.unrolledImageBlockTreatment)&&
p)return c;var u=l.colorImages&&l.colorImages[b];b=c;2!==l.unrolledImageBlockTreatment&&3!==l.unrolledImageBlockTreatment||a(".thumbItemUnrolled").each(function(c){(!a(this)[0].classList.contains("thumbTypeimage")||c>=u.length||c>=l.maxAlts)&&a(this).remove()});e.isDefined(u)&&(a.each(u,function(b,p){if(c<l.maxAlts)if(2===l.unrolledImageBlockTreatment||3===l.unrolledImageBlockTreatment){c++;var d=a(".thumbItemUnrolled");d[b]?d[b].querySelector("img").src=p.thumb:a('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+
b+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+c+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+c+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+c+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+p.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".regularAltImageViewLayout"))}else e.createThumbnail({type:"image",
index:b,thumbnailIndex:c,variant:p.variant,shoppableScene:p.shoppableScene},p.thumb,x,"imageThumbnail"),c++}),d.isEnabled&&q.logAltImgRequestPlacedOnThumbnails(a,d,C),h(x,b,c,p));return c}function n(a,c){l.useIV&&e.isDefined(c.hi/res)&&a.css("cursor","pointer")}function K(c,b){if("image"===c.type){var p=a("#image-canvas-caption #canvasCaption"),d,u=l.staticStrings,f=l.colorImages,k=c.color,g=c.index;e.isShoppableScenesEnabled()&&c.shoppableScene?d=u.clickSceneTagsToShopProducts:b&&l.useIV?d=u.clickToExpand:
f[k]&&f[k][g].hi/res&&l.useHoverZoom?(d=l.useHoverZoomIpad?u.touchToZoom:l.useClickZoom?u.clickToZoom:u.rollOverToZoom,l.hoverZoomIndicator&&(d="\x3cimg src\x3d'"+l.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+d)):l.useIV&&(d=u.clickToExpand);p.html(d)}}function I(a,c){return e.getIndexForVariant(a,c,l)}function G(a,c){var e=c.thumbnailIndex,b=l.colorToAsin[c.color]&&l.colorToAsin[c.color].asin;if(!(u&&"altImageIdx"in u&&u.altImageIdx===e&&"asin"in u&&u.asin===b)){var p="#",d=a.find(".imgTagWrapper img").get(0);
d&&(p=d.src);var f=new Image;f.onload=function(){if(d){d.src=p;var c=d.width,a=d.height,u=d.naturalWidth,f=d.naturalHeight;try{var k=(Math.abs(c/u*f-a)/a).toFixed(2);.01<k&&(t.ue&&t.ue.count("imageBlock-PC-hi_/res",1),t.ueLogError&&(c=H?"Landing":"TwisterRef/resh",a={logLevel:"WARN",attribution:"imageBlock-PC-hi_/res"},t.ueLogError(2!==l.unrolledImageBlockTreatment&&3!==l.unrolledImageBlockTreatment||!isLanding?{message:"[ImageBlock Hi-/res: Size distortion at altImageIdx "+e+" ASIN:"+b+" PageState:"+
c+" Diff:"+k.toString()+"]"}:{message:"[ImageBlock Hi-/res: Size distortion at altImageIdx "+e+" ASIN:"+b+" Diff:"+k.toString()+"]"},a)))}catch(T){t.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_/res"},t.ueLogError(T,a))}}};f.src=p;u.altImageIdx=e;u.asin=b}}function A(c,b){var d="a-dynamic-image";if(!l.acEnabled){var u;a.each(c.main,function(c,a){e.isDefined(u)||(u=parseFloat(a[1]/a[0])<=parseFloat(l.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});d+=u}var f=e.getMaxDimensionsOfMainImage(c.main,
p,l),k=f[0],g=f[1],f=a("\x3cdiv\x3e\x3c/div\x3e"),k={"max-height":k,"max-width":g};f.addClass(d).css(k).attr({"data-old-hi/res":c.hi/res,"data-a-manual-replacement":"true",onload:b}).data("a-dynamic-image",c.main);return f}function F(a,e,b){var p="desktop-dp-atf-ib-shoppablescenes-tags-"+a;"function"==typeof uet&&uet("bb",p,{wb:1});b.attr("data-a-image-name","shoppable-scene:"+a);b=c.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");
b.addClass("celwidget").attr("cel_widget_id",p);b.children("span").css("display","inline-block");z.dispatch("initialize-shoppable-scene",{index:a,shoppableScene:e.shoppableScene,imageSource:e.hi/res||e.large||e.low/res,$tagPlaceholder:b.find(".mirai-scene-tag-placeholder"),$viewProductsButton:b.find(".mirai-scene-view-products-button")});"MutationObserver"in t&&(new MutationObserver(function(c,b){c.forEach(function(c){"childList"===c.type&&c.target.classList.contains("mirai-scene-image-block-tag-container")&&
1===c.addedNodes.length&&"IMG"===c.addedNodes[0].tagName&&""!==c.addedNodes[0].src&&(c=c.addedNodes[0],"function"!==typeof c.onload&&(c.onload=function(){f.trigger("shoppable-scene-image-loaded",{index:a,shoppableScene:e.shoppableScene})}),b.disconnect())})})).observe(b.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",p,{wb:1});return b}function L(a,b,p){p=A(a,p);a=e.isShoppableScenesEnabled()&&a.shoppableScene?F(b,a,p):c.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");
a.addClass("image item itemNo"+b+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":b+1});a.find(".placeHolder").replaceWith(p);c.find(".list").append(a);f.loadImageManually(p);return a}function Q(a){var c=p.css("height");null!==c&&a.find(".imgTagWrapper").css("height",c);a.addClass("selected");l.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(l.imgTagWrapperClasses)}function P(a){if(a.isUserGenerated){var c=
C.getPreviousItem(),b=a.variant;e.isDefined(b)&&c.thumbnailIndex!==a.thumbnailIndex&&(d.isEnabled&&q.logAltImgRequestServed(d),m.postCountMetric("ImageThumbnailSelectedVariant:"+b),0===b.indexOf("IG")&&(m.postCountMetric("IGImageSelectedVariant:"+b),m.postCountMetric("IGImageSelectedEvent:"+a.interaction)))}}function O(b,p,d,u){if((2===l.unrolledImageBlockTreatment||3===l.unrolledImageBlockTreatment)&&!u&&"unavailable"!==b.type)b=l.colorImages&&l.colorImages[d],a(".unrolledImg").each(function(c){a(this).remove()}),
e.isDefined(b)&&(a.each(b,function(c,b){if(c<l.maxAlts){var e=a(".unrolledImg");e[c]?a(".unrolledImg #unrolledImgNo"+c+" img").replaceWith('\x3cimg alt\x3d"" src\x3d"'+b.large+'" data-a-hi/res\x3d"'+b.hi/res+'" data-a-manual-replacement\x3d"true"\x3e'):c>=e.length&&a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(c+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+c+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+
c+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+b.large+'" data-a-hi/res\x3d"'+b.hi/res+'" data-a-manual-replacement\x3d"true"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"))}}),f.loadHi/resImage(document.querySelectorAll(".unrolledImg.imgMedia img")));else if("image"===b.type||"unavailable"===b.type||"lazy-loaded"===
b.type){e.isDefined(p)&&m.postCountMetric("mainImageUpdateOnTwisterVariationClick");d=e.getImageHash(b.color,b.index,l);if(-1===d)return p={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},e.lazyLoadingRequired(b,C,l)||(z.dispatch("updateModel",p),e.showUnavailable(b.color)),-1;u=c.find(".item.itemNo"+b.thumbnailIndex);e.isjQueryObjDefined(u)||(u=L(d,b.thumbnailIndex,p),G(u,b));Q(u);z.dispatch("loadMagnifier");K(b);n(u,d);P(b);f.trigger("dp:image-block:update",d)}}function N(a){var b=
Math.max(I(a.color,C.getCurrentItem().variant),0),b=e.getImageHash(a.color,b,l);if(-1===b)return e.lazyLoadingRequired(a,C,l)||e.showUnavailable(a.color),-1;a=c.find(".swatchHoverExp");var p=A(b);a.find(".imgTagWrapper").html(p);f.loadImageManually(p);m.postCountMetric("mainImageUpdateOnTwisterVariationHover");Q(a);f.trigger("dp:image-block:update",b)}function y(b,p){e.lazyLoadingRequired(b,C,l)||(a("#imageBlock").css("opacity","1"),c.css("opacity","1"),e.spinner(c,!1),c.find("li").removeClass("selected"),
a("#image-canvas-caption #canvasCaption").empty(),e.hideUnavailable(),p&&c.find(".list .item").remove())}function b(){var b=c.find(".item .imgTagWrapper"),d=e.getContainerHeight(p,l.holderRatio,l.holderMaxHeight);0<d&&(p.height(d),b.height(d));c.find("img.a-dynamic-image").each(function(){var c=a(this);c.data("a-manual-replacement")&&f.loadDynamicImage(this);var b=c.data("a-dynamic-image"),b=e.getMaxDimensionsOfMainImage(b,p,l);c.css({"max-height":b[0]+"px","max-width":b[1]+"px"})})}function k(a){K(C.getCurrentItem(),
"mouseenter"===a.type)}var B,l,C,z,J,M,x,c,p,u={},E,H=!0,S=null;f.on("triggerImageAjax",function(a){var c=C.getCurrentItem().color;l.colorImages[c]||(l.colorImages[c]=a);a={type:"updatedData",data:C.getCurrentItem()};z.dispatch("updateView",a);(c=l.colorToAsin[c])&&c.asin&&w.register(e.rankedImagesReadyEvent(c.asin))});return function(a,d,u,f){B=this;l=a;C=d;z=f;l.colorImages[l.landingAsinColor]=l.colorImages[l.defaultColor];B.render=function(a,b,d,u,f,k,g,h){c=d;x=u;p=f;H=k;E=r(b,a,k);k?0===b&&G(c.find(".item.itemNo0"),
C.getCurrentItem()):(b=C.getCurrentItem(),e.lazyLoadingRequired(b,C,l)&&z.dispatch("updateModel",{data:{type:"lazy-loaded"}}));y(C.getCurrentItem(),!k);2===l.unrolledImageBlockTreatment||3===l.unrolledImageBlockTreatment?"swatchClick"===h&&l&&l.colorImages?(S=l.colorImages[a],O(C.getCurrentItem(),g,a,k)):"updatedData"===h&&l&&l.colorImages&&l.colorImages[a]!==S&&(S=l.colorImages[a],O(C.getCurrentItem(),g,a,k)):O(C.getCurrentItem(),g,a,k);return E};e.isImageBlockGridViewHoverDelayEnabled()?B.update=
function(a){var c=a.data;C.setCurrentEvent(a);"ing/ress"!==c.type&&"swatchHover"!==a.type&&(C.setToPreviousItem(),"mouseenter"===a.type?(M&&clearTimeout(M),M=setTimeout(function(){C.setToCurrentItem(c);y(a.data,!1)},e.getHoveringDelayTimer())):"mouseleave"===a.type?M&&clearTimeout(M):"click"===a.type&&(C.setToCurrentItem(c),y(a.data,!1)));"swatchHover"===a.type?("ing/ress"!==c.type&&y(a.data,!1),c.color===C.getCurrentItem().color?O(C.getCurrentItem(),null,c.color,!0):a.captured||-1===N(c)||(a.captured=
!0)):"image"===c.type&&(c.interaction=a.type,c.isUserGenerated=!0,"mouseenter"===a.type?(m.postCountMetric("dpcc_imageThumbHovered_"+(c.thumbnailIndex+1)+"_"+E),J&&clearTimeout(J),J=setTimeout(function(){O(c,null,c.color,!0);l.usePeekHover||e.selectGivenThumbnail(a.$declarativeParent,x)},e.getHoveringDelayTimer())):"mouseleave"===a.type?J&&clearTimeout(J):"click"===a.type&&(O(c,null,c.color,!0),e.selectGivenThumbnail(a.$declarativeParent,x),m.postCountMetric("dpcc_imageThumbClicked_total"),m.postCountMetric("dpcc_imageThumbClicked_"+
(c.thumbnailIndex+1)+"_"+E)))}:B.update=function(a){var c=a.data;C.setCurrentEvent(a);"ing/ress"!==c.type&&y(a.data,!1);"swatchHover"===a.type?c.color===C.getCurrentItem().color?O(C.getCurrentItem()):a.captured||-1===N(c)||(a.captured=!0):"image"===c.type&&(c.interaction=a.type,c.isUserGenerated=!0,"mouseenter"===a.type&&m.postCountMetric("dpcc_imageThumbHovered_"+(c.thumbnailIndex+1)+"_"+E),O(c,null,c.color,!0),l.usePeekHover&&"click"!==a.type||(e.selectGivenThumbnail(a.$declarativeParent,x),"click"===
a.type&&(m.postCountMetric("dpcc_imageThumbClicked_total"),m.postCountMetric("dpcc_imageThumbClicked_"+(c.thumbnailIndex+1)+"_"+E))))};l.overrideAltImageClickAction&&e.addTag("clickEnabledOnAltImages");z.register("imageHover",k);z.register("/resize",b)}});"use strict";w.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAdditionalAltImageView",function(f,a,e,g,m,d,q){function h(c,b,d,f,g){if(!e.isjQueryObjDefined(c.find(".a-button-selected"))){var h=
B.getCurrentItem();if(!f||"chromeless-video"!==h.type||!k.autoplayVideo){f=0;"image"===h.type&&(f=Math.max(e.getIndexForVariant(h.color,h.variant,k),0));var q=0;e.isDefined(k.heroImage[h.color])&&(q=k.heroImage[h.color].length);g=f-(b>=k.maxAlts?k.maxAlts-g-q:0);b=0<=g?b+g:f+q;b>=d&&(f=0,b=q);d=e.getImageHash(h.color,f,k);-1!==d&&(l.dispatch("updateModel",{data:{index:f,thumbnailIndex:b,variant:d.variant,type:"image",shoppableScene:d.shoppableScene}}),d=c.find(".item").get(b),e.selectGivenThumbnail(a(d),
c))}}}function r(a){if(!k.useChildVideos)return e.lazyLoadingRequired(B.getCurrentItem(),B,k)?void 0:k.videos;if(k.colorToVideo[a])return k.colorToVideo[a];var b=k.colorToAsin[a];if(b&&b.asin){var d={};d.params={asin:b.asin,productGroupID:k.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:k.useChromelessVideoPlayer,isUDP:k.isUDP};k.isDPXFeatureEnabled||(d.success=function(a){videosOnTwisterRef/resh(a)},g.load(VIDEO_AJAX_ENDPOINT,d));return k.colorToVideo&&k.colorToVideo[a]}}function n(c,
b,f){if((2===k.unrolledImageBlockTreatment||3===k.unrolledImageBlockTreatment)&&f)return c;var g=r(b),l=e.isDefined(g)&&0<g.length&&k.alwaysIncludeVideo?1:0;b=k.colorImages&&k.colorImages[b];var g=c,y=0;e.isDefined(b)&&(a.each(b,function(b,d){if(y>=k.maxAlts-l&&c<k.maxAlts+k.additionalNumberOfImageAlts){if(2===k.unrolledImageBlockTreatment||3===k.unrolledImageBlockTreatment){var p=a(".thumbItemUnrolled");p[c]?p[c].querySelector("img").src=d.thumb:a('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+
b+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+(c+1)+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+(c+1)+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+(c+1)+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+d.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".regularAltImageViewLayout"))}else e.createThumbnail({type:"image",
index:b,thumbnailIndex:c,variant:d.variant,shoppableScene:d.shoppableScene},d.thumb,C,"imageThumbnail");c++}y++}),d.isEnabled&&q.logAltImgRequestPlacedOnThumbnails(a,d,B),h(C,g,c,f,l));return c}function K(a,b){k.useIV&&e.isDefined(b.hi/res)&&a.css("cursor","pointer")}function I(c,b){if("image"===c.type){var d=a("#image-canvas-caption #canvasCaption"),f,g=k.staticStrings,h=k.colorImages,l=c.color,q=c.index;e.isShoppableScenesEnabled()&&c.shoppableScene?f=g.clickSceneTagsToShopProducts:b&&k.useIV?f=
g.clickToExpand:h[l]&&h[l][q].hi/res&&k.useHoverZoom?(f=k.useHoverZoomIpad?g.touchToZoom:k.useClickZoom?g.clickToZoom:g.rollOverToZoom,k.hoverZoomIndicator&&(f="\x3cimg src\x3d'"+k.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+f)):k.useIV&&(f=g.clickToExpand);d.html(f)}}function G(a,b){var e=b.thumbnailIndex,d=k.colorToAsin[b.color]&&k.colorToAsin[b.color].asin;if(!(M&&"altImageIdx"in M&&M.altImageIdx===e&&"asin"in M&&M.asin===d)){var f="#",g=a.find(".imgTagWrapper img").get(0);g&&(f=g.src);var h=new Image;
h.onload=function(){if(g){g.src=f;var a=g.width,c=g.height,b=g.naturalWidth,p=g.naturalHeight;try{var k=(Math.abs(a/b*p-c)/c).toFixed(2);.01<k&&(t.ue&&t.ue.count("imageBlock-PC-hi_/res",1),t.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_/res"},t.ueLogError({message:"[ImageBlock Hi-/res: Size distortion at altImageIdx "+e+" ASIN:"+d+" Diff:"+k.toString()+"]"},a)))}catch(h){t.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_/res"},t.ueLogError(h,a))}}};h.src=f;M.altImageIdx=
e;M.asin=d}}function A(c,b){var d="a-dynamic-image";if(!k.acEnabled){var f;a.each(c.main,function(a,c){e.isDefined(f)||(f=parseFloat(c[1]/c[0])<=parseFloat(k.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});d+=f}var g=e.getMaxDimensionsOfMainImage(c.main,J,k),h=g[0],l=g[1],g=a("\x3cdiv\x3e\x3c/div\x3e"),h={"max-height":h,"max-width":l};g.addClass(d).css(h).attr({"data-old-hi/res":c.hi/res,"data-a-manual-replacement":"true",onload:b}).data("a-dynamic-image",c.main);return g}function F(a,
b,e){var d="desktop-dp-atf-ib-shoppablescenes-tags-"+a;"function"==typeof uet&&uet("bb",d,{wb:1});e.attr("data-a-image-name","shoppable-scene:"+a);e=z.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");e.addClass("celwidget").attr("cel_widget_id",d);e.children("span").css("display","inline-block");l.dispatch("initialize-shoppable-scene",{index:a,shoppableScene:b.shoppableScene,imageSource:b.hi/res||b.large||
b.low/res,$tagPlaceholder:e.find(".mirai-scene-tag-placeholder"),$viewProductsButton:e.find(".mirai-scene-view-products-button")});"MutationObserver"in t&&(new MutationObserver(function(e,d){e.forEach(function(e){"childList"===e.type&&e.target.classList.contains("mirai-scene-image-block-tag-container")&&1===e.addedNodes.length&&"IMG"===e.addedNodes[0].tagName&&""!==e.addedNodes[0].src&&(e=e.addedNodes[0],"function"!==typeof e.onload&&(e.onload=function(){f.trigger("shoppable-scene-image-loaded",{index:a,
shoppableScene:b.shoppableScene})}),d.disconnect())})})).observe(e.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",d,{wb:1});return e}function L(a,b,d){d=A(a,d);a=e.isShoppableScenesEnabled()&&a.shoppableScene?F(b,a,d):z.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");a.addClass("image item itemNo"+b+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational",
"data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":b+1});a.find(".placeHolder").replaceWith(d);z.find(".list").append(a);f.loadImageManually(d);return a}function Q(a){var b=J.css("height");null!==b&&a.find(".imgTagWrapper").css("height",b);a.addClass("selected");k.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(k.imgTagWrapperClasses)}function P(a){if(a.isUserGenerated){var b=B.getPreviousItem(),f=a.variant;e.isDefined(f)&&b.thumbnailIndex!==a.thumbnailIndex&&(d.isEnabled&&
q.logAltImgRequestServed(d),m.postCountMetric("ImageThumbnailSelectedVariant:"+f),0===f.indexOf("IG")&&(m.postCountMetric("IGImageSelectedVariant:"+f),m.postCountMetric("IGImageSelectedEvent:"+a.interaction)))}}function O(c,b,d,g){if((2===k.unrolledImageBlockTreatment||3===k.unrolledImageBlockTreatment)&&!g&&"unavailable"!==c.type){c=k.colorImages&&k.colorImages[d];b=a(".unrolledImg");d=r(d);var h=e.isDefined(d)&&0<d.length&&k.alwaysIncludeVideo?1:0;b.length>k.maxAlts&&b.each(function(c){c>=k.maxAlts&&
a(this).remove()});e.isDefined(c)&&a.each(c,function(c,b){c<k.maxAlts-h+k.additionalNumberOfImageAlts&&c>=k.maxAlts-h&&a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(c+h+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+(c+h)+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+
(c+h)+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+b.large+'" data-a-hi/res\x3d"'+b.hi/res+'"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"))})}else if("image"===c.type||"unavailable"===c.type||"lazy-loaded"===c.type){e.isDefined(b)&&m.postCountMetric("mainImageUpdateOnTwisterVariationClick");d=e.getImageHash(c.color,
c.index,k);if(-1===d)return b={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},e.lazyLoadingRequired(c,B,k)||(l.dispatch("updateModel",b),e.showUnavailable(c.color)),-1;g=z.find(".item.itemNo"+c.thumbnailIndex);e.isjQueryObjDefined(g)||(g=L(d,c.thumbnailIndex,b),G(g,c));Q(g);l.dispatch("loadMagnifier");I(c);K(g,d);P(c);f.trigger("dp:image-block:update",d)}}function N(){var c=z.find(".item .imgTagWrapper"),b=e.getContainerHeight(J,k.holderRatio,k.holderMaxHeight);0<b&&(J.height(b),c.height(b));
z.find("img.a-dynamic-image").each(function(){var c=a(this);c.data("a-manual-replacement")&&f.loadDynamicImage(this);var b=c.data("a-dynamic-image"),b=e.getMaxDimensionsOfMainImage(b,J,k);c.css({"max-height":b[0]+"px","max-width":b[1]+"px"})})}function y(a){I(B.getCurrentItem(),"mouseenter"===a.type)}var b,k,B,l,C,z,J,M={},x;f.on("triggerImageAjax",function(a){var b=B.getCurrentItem().color;k.colorImages[b]||(k.colorImages[b]=a);a={type:"updatedData",data:B.getCurrentItem()};l.dispatch("updateView",
a);(b=k.colorToAsin[b])&&b.asin&&w.register(e.rankedImagesReadyEvent(b.asin))});return function(c,d,f,g){b=this;k=c;B=d;l=g;k.colorImages[k.landingAsinColor]=k.colorImages[k.defaultColor];b.render=function(c,b,d,f,g,p,h){z=d;C=f;J=g;x=n(b,c,p);p?0===b&&G(z.find(".item.itemNo0"),B.getCurrentItem()):(b=B.getCurrentItem(),e.lazyLoadingRequired(b,B,k)&&l.dispatch("updateModel",{data:{type:"lazy-loaded"}}));b=B.getCurrentItem();d=!p;e.lazyLoadingRequired(b,B,k)||(a("#imageBlock").css("opacity","1"),z.css("opacity",
"1"),e.spinner(z,!1),z.find("li").removeClass("selected"),a("#image-canvas-caption #canvasCaption").empty(),e.hideUnavailable(),d&&z.find(".list .item").remove());O(B.getCurrentItem(),h,c,p);return x};b.update=function(a){};k.overrideAltImageClickAction&&e.addTag("clickEnabledOnAltImages");l.register("imageHover",y);l.register("/resize",N)}});"use strict";w.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockMagnifierView",function(f,
a,e,g,m,d){function q(a){Q?a.css("cursor","url('"+I.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in"))}function h(a){var d=a.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);a={};if(e.isDefined(d))for(var d=d[1].split("_"),f=0;f<d.length;f++){var g=d[f].match(/^([A-Z]+)(\d+(\.\d+)?)$/);e.isDefined(g)&&(a[g[1]]=parseInt(g[2],10))}return a}function r(n,r){function N(){var a;r.useClickZoom?(a=r.offsetInClickZoom,a=[Math.min(1,Math.max(0,
p[0]-(E[0]+a))/(E[2]-2*a)),Math.min(1,Math.max(0,p[1]-(E[1]+a))/(E[3]-2*a))]):a=c&&c.updatePosition();if(a&&x&&x.detailSize){var b=[x.detailSize[0]-x.rect.width,x.detailSize[1]-x.rect.height];f.capabilities.rtl?x.detailImage.get(0).style.right=-(a[0]*b[0])+"px":x.detailImage.get(0).style.left=-(a[0]*b[0])+"px";x.detailImage.get(0).style.top=-(a[1]*b[1])+"px"}}function y(a){return a.offsetParent().hasClass("a-dynamic-image-container")}function b(b){var c=w?b.originalEvent.touches[0]||b.originalEvent.changedTouches[0]:
"";p=w?[c.pageX,c.pageY]:[b.pageX,b.pageY];if(f.capabilities.rtl){var e=a(t).width();p=w?[e-c.pageX,c.pageY]:[e-b.pageX,b.pageY]}}function k(a){w&&a.preventDefault();b(a);r.useClickZoom?a=[E[0],E[1],E[0]+E[2],E[1]+E[3]]:(a=c?c.offset:n.offsetParent().offset(),a=I.acEnabled?[a.left,a.top,K.width()+a.left,K.height()+a.top]:[u[0]+a.left,u[1]+a.top,u[0]+u[2]+a.left,u[1]+u[3]+a.top]);p[0]<a[0]||p[1]<a[1]||p[0]>=a[2]||p[1]>=a[3]||I.acEnabled&&!y(n)?(r.fadeMagnifier?V||(V=!0,da=setTimeout(function(){B(!0)},
500)):r.useClickZoom||B(),D&&(D=!1,clearTimeout(ca))):(D||(D=!0,ca=setTimeout(function(){g.postCountMetric("dppc_hoverZoomOpened");m.isEnabled&&d.logHoverZoomRequestServed(m)},1E3)),r.fadeMagnifier&&V&&(V=!1,clearTimeout(da)),N())}function B(b){b&&z.supp/ressMagnifier(!0);if(G&&(x&&x.hide(),c&&(c.destroy(),c=null),G=!1,w?(n.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),a(document).trigger("disengaged.magnifier")):a(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),
A(),b))n.one("click.magnifier touchstart.magnifier",function(a){l(a,!0)})}function l(e,d){d&&z.supp/ressMagnifier(!1);if(!G&&!T&&(0===W&&(g.postCountMetric("dppc_hoverTime",new Date-(t.ue&&t.ue.t0||0)),W=1),L[U]||(g.postCountMetric("dppc_hoverMain"),L[U]=1),u=[n.position().left,n.position().top,n.width(),n.height()],U&&(b(e),x?x.refit().show():x=new fa,r.useClickZoom||(c=c||new Z),E=x.getWindowSize(),N()),G=!0,w?(n.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",k).bind("touchend.magnifier",
B),a(document).trigger("engaged.magnifier")):(I.acEnabled?K.unbind("mousemove.magnifier"):n.unbind("mousemove.magnifier"),a(document).trigger("engaged.magnifier").bind("mousemove.magnifier",k)),d)){var f=a("#zoomWindow");if(0<f.length)f.one("click.magnifier touchend.magnifier",function(a){B(!0)})}}function A(){r.useHoverZoom&&(w?n.bind("touchstart.magnifier touchmove.magnifier",l):I.acEnabled?y(n)&&K.bind("mousemove.magnifier",l):n.bind("mousemove.magnifier",l))}var z=this,K=n.offsetParent(),F={detailImageUrl:n.attr("data-old-hi/res"),
location:"over",locationElement:n,prelaod:"ready",zIndex:50,offsetInClickZoom:50};r=a.extend(F,r);r.adjustment=[10,0,-10,0];var x=null,c=null,p=null,u=null,E=null,H={"null":1,"":1,undefined:1},G=!1,T=!1,U=r.detailImageUrl,w=r.useHoverZoomIpad||0,W=0,L={},Z=function(){function b(a){var c=Math.round(Math.min(n.width(),x.rect.width/a));a=Math.round(Math.min(n.height(),x.rect.height/a));g.css({width:c,height:a});e=[c,a]}var c=this,e=[0,0],d=(x.detailSize&&x.detailSize[0]||5E8)/u[2],f=(x.detailSize&&x.detailSize[1]||
5E8)/u[3],d=f>d?f:d;a("#magnifierLens").remove();var g=a("\x3cdiv id\x3d'magnifierLens' /\x3e").css({position:"absolute"});r.generalImageUrls.zoomLensBackground&&g.css({backgroundImage:"url("+r.generalImageUrls.zoomLensBackground+")"});I.showMagnifierOnHover?q(g):g.css("cursor","pointer");c.updatePosition=function(){var a=[u[2]-e[0],u[3]-e[1]],b=0>=a[0]?.5:Math.max(0,Math.min(1,(p[0]-e[0]/2-u[0]-c.offset.left)/a[0])),d=0>=a[1]?.5:Math.max(0,Math.min(1,(p[1]-e[1]/2-u[1]-c.offset.top)/a[1])),f=u[0]+
Math.round(b*a[0]),a=u[1]+Math.round(d*a[1]);g.get(0).style.left=f+"px";g.get(0).style.top=a+"px";return[b,d]};c.destroy=function(){g.remove()};c.offset=n.offsetParent().offset();b(d);c.updatePosition();g.appendTo(n.parent());x.detailImage[0].complete||x.detailImage.load(function(){var a=x.detailImage.width()/u[2];b(a);c.updatePosition()})};Z.preload=function(){z.preload(r.generalImageUrls.lensBackgroundUrl)};var fa=function(){function b(){var c={};if("over"===r.location){var c=r.useClickZoom,g={},
k=a("#leftCol"),h=a("#centerCol"),l=a("#rightCol"),u=a("#hover-zoom-end"),q=a("#actionPanelContainer"),v=e.isjQueryObjDefined(k)?k.outerHeight():h.outerHeight();g.top=e.isjQueryObjDefined(k)?k.offset().top:h.offset().top;g.bottom=v+g.top;g.right=e.isjQueryObjDefined(l)?l.offset().left:q.offset().left;g.left=c?0:k.offset().left+k.outerWidth();e.isjQueryObjDefined(u)&&u.offset().top>g.bottom&&(g.bottom=u.offset().top);c=g}else"right"===r.location&&(c=n.offset(),c={left:c.left+n.outerWidth(),top:c.top,
right:c.left+n.outerWidth()+400,bottom:c.top+400});r.minHeightElement&&(c.bottom=Math.max(c.bottom,c.top+a(r.minHeightElement).outerHeight()));c.bottom=Math.min(c.bottom,a(t).scrollTop()+a(t).height());c.left+=f[0];c.top+=f[1];c.right+=f[2];c.bottom+=f[3];c.width=c.right-c.left;c.height=c.bottom-c.top;r.enhancedHoverOverlay&&e.isDefined(t.pageXOffset)&&(g=a(t).width(),c.width=g-c.left+t.pageXOffset-18,c.height-=14);p.css({left:c.left,top:c.top,width:c.width,height:c.height});d.rect=c;return d}function c(a){var b=
new Image;d.detailSize=[0,0];b.onload=function(){d.detailSize=[b.width,b.height];N()};b.src=a.attr("src");if(0<b.width&&0<b.height)d.detailSize=[b.width,b.height];else if(r.detailImageSize)d.detailSize=r.detailImageSize;else{a=h(b.src);var e=u[2]/u[3];a.SS||a.AA?(a=a.SS||a.AA,d.detailSize=[a,a]):a.SX?d.detailSize=[a.SX,Math.round(a.SX/e)]:a.SY?d.detailSize=[Math.round(a.SY*e),a.SY]:a.SL&&(d.detailSize=1<=e?[a.SL,Math.round(a.SL/e)]:[Math.round(a.SL*e),a.SL])}}var d=this,f=r.adjustment;a("#zoomWindow").remove();
var g={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:r.zIndex};r.enhancedHoverOverlay&&(g.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",g.border="1px solid #949494",g.borderColor="rgb(148,148,148)");var p=a("\x3cdiv id\x3d'zoomWindow' /\x3e").css(g);r.fadeMagnifier&&p.fadeIn(200);r.useClickZoom&&(Q?p.css("cursor",'url("'+r.zoomOutIcon+'"), auto'):(p.css("cursor","-webkit-zoom-out"),p.css("cursor","-moz-zoom-out"),p.css("cursor","zoom-out")));d.updateImage=function(b){b=a("\x3cimg id\x3d'detailImg' src\x3d'"+
b+"'/\x3e").css("position","absolute");d.detailImage&&d.detailImage.remove();p.append(b);a(document).trigger("updated.magnifier");d.detailImage=b;c(d.detailImage)};d.refit=function(){b();c(d.detailImage);return d};r.fadeMagnifier?(d.show=function(){p.fadeIn(200);return d},d.hide=function(){p.fadeOut(200);return d}):(d.show=function(){p.show();return d},d.hide=function(){p.hide();return d});d.destroy=function(){p.remove();return d};d.getWindowSize=function(){return[d.rect.left,d.rect.top,d.rect.width,
d.rect.height]};d.updateImage(U);b();p.appendTo(document.body)},V=!1,da,D=!1,ca;z.preload=function(c){c=a.makeArray(c);for(var b=c.length,d=0;d<b;d++)c[d]instanceof Array?z.preload(c[d]):"string"===typeof c[d]&&c[d]&&!H[c[d]]&&(H[c[d]]=new Image,H[c[d]].src=c[d])};z.changeImage=function(c,b){G&&B();U=b;n.attr("src",c);z.preload(c);u=[n.position().left,n.position().top,n.width(),n.height()];b&&("immediately"===r.preload?z.preload(b,!0):a(t).ready(function(){z.preload(b)}),x?x.updateImage(b):n.attr("data-old-hi/res",
b))};z.destroy=function(){I.acEnabled?K.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier"):n.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");a(document).unbind("mousemove.magnifier");c&&c.destroy();c=null;x&&x.destroy();x=null};z.detailImage=function(){return x.detailImage};z.supp/ressMagnifier=function(a){T=a};z.isEngaged=function(){return G};z.engageMagnifier=l;z.disengageMagnifier=B;n[0].complete?A():n.one("load",A);z.preload(n.attr("src"));
t.performance&&performance.now&&t.ue&&ue.count&&ue.count("MagnifierImageDownload",performance.now());if(r.preload){var ia=r.detailImageUrl,F=function(){z.preload(ia,!0);r.useClickZoom||Z.preload()},X=r.preload;X.constructor!==Array&&(X=[X]);for(var v=0;v<X.length;v++)if("immediately"===X[v])F();else if(a(t)[X[v]])a(t)[X[v]](F);else a(t).bind(X[v],F)}return z}function n(){if(I.useHoverZoom){var f={adjustment:[0,0,1,1],generalImageUrls:I.staticImages,location:"over",minHeightElement:"#imageBlock",preload:"ready",
zIndex:199,useHoverZoomIpad:I.useHoverZoomIpad,useHoverZoom:I.useHoverZoom,useClickZoom:I.useClickZoom,fadeMagnifier:I.fadeMagnifier,zoomOutIcon:I.staticImages.zoomOutCur,enhancedHoverOverlay:I.enhancedHoverOverlay||I.atfEnhancedHoverOverlay};F&&(F.destroy(),F=ka);var g=w.find(".image.item.selected:not(.mirai-shoppable-scene) img[data-old-hi/res]").not("[data-old-hi/res\x3d'']");e.isjQueryObjDefined(g)?I.useClickZoom?(g.one("click.loadmagnifier touchstart.loadmagnifier",function(a){F=new r(g,f);F.engageMagnifier(a,
!0)}),Q?g.css("cursor",'url("'+I.staticImages.zoomInCur+'"), auto'):(g.css("cursor","-webkit-zoom-in"),g.css("cursor","-moz-zoom-in"),g.css("cursor","zoom-in"))):F=new r(g,f):m.isEnabled&&d.logHoverZoomApplicability(a,m)}}var K,I,G,A,F,w,Q=navigator.userAgent.match(/msie|trident/i);return function(a,d,e,g){K=this;I=a;G=d;m.refToModel=G;A=g;K.render=function(a,d,e,g,f,h){w=e;F&&(F.destroy(),F=ka)};K.update=function(a){};A.register("loadMagnifier",n);A.register("/resize",n)}});"use strict";w.when("A",
"jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(f,a,e,g){function m(a,d,f){a=(a=f?f:e.getColorFromState(d.getState().hovered_variations,h))&&""!==a?a:h.defaultColor;n.dispatch("updateView",{type:"swatchHover",data:{color:a}});g.postCountMetric("swatchHover")}function d(a,d,f,q){a=(a=q?q:e.getColorFromState(d.getState().selected_variations,h))&&""!==a?a:h.defaultColor;a===r.getCurrentItem().color?"function"===typeof f&&f():(n.dispatch("updateSelection",{type:"swatchClick",
data:{color:a},onload:function(){var a={hasComponents:!0,components:[{name:"mainImage"}]};"function"===typeof t.markFeatureRender&&t.markFeatureRender("imageblock",a);f()}}),g.postCountMetric("swatchClick"))}var q,h,r,n;return function(a,e,g,t){q=this;h=a;r=e;n=t;f.on("image-block-twister-swatch-hover",m);f.on("image-block-twister-swatch-click",d);q.render=function(a,d,e,f,g){};q.update=function(a){}}});"use strict";w.when("A","jQuery","Airy","imageBlockUtils","ImageBlockLoader","postMetric","vse_ns_videoPlayer").register("ImageBlockVideoView",
function(f,a,e,g,m,d,q){function h(c,d,e,f){!b.autoplayVideo||fa||b.useChromelessVideoPlayer?!g.isjQueryObjDefined(c.find(".a-button-selected"))&&(e=k.getCurrentItem(),!f||b.prioritizeVideos||"chromeless-video"===e.type&&b.autoplayVideo)&&(f=g.getVideoHash(e.color,0,b),-1===f||e.thumbnailIndex>=b.maxAlts-1||(d+=0,B.dispatch("updateModel",{data:{index:0,thumbnailIndex:d,variant:f.variant,type:b.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),d=c.find(".item").get(d),g.selectGivenThumbnail(a(d),
c))):(g.selectGivenThumbnail(c.find("img:last"),c),g.fadeToThumbnail(c.find("img").length-1,J,c))}function r(a){var c=k.getCurrentItem().color;if(b.useChildVideos&&!b.colorToVideo[c]){var d=function(){if(a){b.colorToVideo[c]=a;var d={type:"updatedData",data:k.getCurrentItem()};B.dispatch("updateView",d)}};b.lazyLoadExperienceDisabled?d():w.when(g.rankedImagesReadyEvent(b.colorToAsin[c].asin)).execute(function(){d()})}}function n(a){if(!b.useChildVideos)return g.lazyLoadingRequired(k.getCurrentItem(),
k,b)?void 0:b.videos;if(b.colorToVideo[a])return b.colorToVideo[a];var c=b.colorToAsin[a];if(c&&c.asin){var d={};d.params={asin:c.asin,productGroupID:b.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:b.useChromelessVideoPlayer,isUDP:b.isUDP};b.isDPXFeatureEnabled||(d.success=function(a){r(a)},m.load("/gp/product/featu/res/apparel-main-image/videos.html",d));return b.colorToVideo&&b.colorToVideo[a]}}function K(a){x&&null===a&&2!==b.unrolledImageBlockTreatment&&3!==b.unrolledImageBlockTreatment&&
(x.hide(),C.parent().css("z-index",-1),z.hide())}function I(){B.dispatch("selectThumbnail",g.useTabbedImmersiveView(b)?1:0)}function G(c,b,f,p){return e.embed({isShowFirstFrameWhenReadyEnabled:!0,parentElement:c[0],streamingUrls:b.url,swfUrl:f.swfUrl,fo/resterMetadataParams:f.fo/resterMetadataParams,backgroundColor:"transparent",flashParams:{wmode:"transparent"},experiments:{supportChromelessPlayback:!0},bindings:{canplay:function(){var a=g.isjQueryObjDefined(c.find("video"))?"HTML5":"FLASH";d.postCountMetric("dppc_chromelessVideo:"+
a)},playing:function(){c.parent().css("z-index",8)},videounsupported:function(){I();d.postCountMetric("dppc_chromelessVideo:VIDEO_UNSUPPORTED")},error:function(){I();d.postCountMetric("dppc_chromelessVideo:ERROR")},ended:function(){x.seek(0)}},cuePoints:[{values:b.durationSeconds-1,type:"position",callback:function(b,d,e){b=e.durationSeconds-e.playheadTimeSeconds;c.parent().css("background-color","white").find(".airy-renderer-container").fadeTo(1E3*b,.1,function(){c.parent().css({"background-color":"transparent",
"z-index":-1});I();a(this).show().css("opacity",1)})}}]})}function A(d,e){if("chromeful-video"===d.type||"chromeless-video"===d.type||"unrolled-video-add"===e){var h=g.getVideoHash(d.color,d.index,b);if(-1===h)return-1;if("chromeful-video"===d.type)a:{var u=d.thumbnailIndex+1,q=J.width()/J.height(),v=parseInt(h.videoWidth,10),m=parseInt(h.videoHeight,10);g.updateAspectRatio(q,v,m,C);if(x&&"unrolled-video-add"!==e)x.show(),g.loadMediaIntoAiry(x,h,c,b.tabletWeb);else if(b.tabletWeb)x=E;else if(x=g.createAiryInstanceForChromefulNotUseTabbedImmersiveView(C,
h,c,null,b.autoplayVideo,J,z,l,u,b.useTabbedImmersiveView,S,H,T,e),"unrolled-video-add"===e){x.show();g.loadMediaIntoAiry(x,h,c,b.tabletWeb);break a}b:if(2!==b.unrolledImageBlockTreatment&&3!==b.unrolledImageBlockTreatment)if(g.useTabbedImmersiveView(b)){if(1<g.getVideosCount(k.getCurrentItem().color,b)){if(g.isDefined(M)){z.show();break b}M=a('\x3ca class\x3d"more-videos"\x3e\x3c/a\x3e').attr("href","#").text(b.staticStrings.watchMoreVideos);z.find("#videoCaption").append(M);f.declarative.create(M,
"videoIng/ressClick",p)}g.playVideoInImmersiveView(b,k.getCurrentItem().color)&&(f.declarative.create(C,"videoIng/ressClick",p),C.attr&&C.attr("data-ux-click",""),C.children().css("z-index","-1"),C.css("display","inline-block"))}else z.find("#videoCaption").text(b.staticStrings.playVideo),z.show();h=x;b.autoplayVideo&&h&&!fa&&(g.toggleVideoCaption(z),h.setVolume(0),h.show(),h.play(),fa=!0)}else if(x&&"unrolled-video-add"!==e)x.show(),g.loadMediaIntoAiry(x,h,c,b.tabletWeb),x.play(),z.show();else if(x=
G(C,h,c))"unrolled-video-add"===e&&(x.show(),g.loadMediaIntoAiry(x,h,c,b.tabletWeb)),x.play()}}function F(c,e,k){if((2===b.unrolledImageBlockTreatment||3===b.unrolledImageBlockTreatment)&&k)return c;var u=n(e);e=c;var q=a(".unrolledImg"),v=g.isDefined(u)&&0<u.length&&b.alwaysIncludeVideo?1:0;g.isDefined(u)&&0<u.length&&!b.alwaysIncludeVideo&&c===b.maxAlts&&d.postCountMetric("IBVideoDrop");q.length>b.maxAlts&&q.each(function(c){c>=b.maxAlts&&a(this).remove()});v&&c===b.maxAlts&&(2===b.unrolledImageBlockTreatment||
3==b.unrolledImageBlockTreatment?(a(".thumbItemUnrolled").last().remove(),a(".unrolledImg").last().remove()):l.find(".item:last").remove(),c--);g.isDefined(u)&&(a.each(u,function(e,f){if(c<b.maxAlts){if(2===b.unrolledImageBlockTreatment||3===b.unrolledImageBlockTreatment){var h=b.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";a('\x3cli class\x3d"thumbItemUnrolled thumbType'+h+" thumbIndex"+e+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+
c+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+c+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+c+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+f.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a("ul.regularAltImageViewLayout"));a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+
c+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+c+' unrolledImg videoMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d"" \x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e\x3cdiv id\x3d"unrolledImgNo'+c+'" class\x3d"videoIndex'+e+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"));
2===b.dp60VideoPosition&&L(a(".regularAltImageViewLayout"),b.dp60VideoPosition)}else{var h=b.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",k={type:h,index:e,thumbnailIndex:c,variant:f.variant};p={type:"video-ing/ress",index:e,thumbnailIndex:c,variant:f.variant};g.useTabbedImmersiveView(b)&&("chromeful-video"===h&&(V+=" videoBlockIng/ress  videoBlockDarkIng/ress",f.thumb=f.thumb.replace("_PKmb-play-button-overlay-thumb","")),b.altsOnLeft||(V+=" a-align-top"));g.isImageBlockGridViewDisplayEnabled()&&
(V+=" videoImageBlockGridView");g.createThumbnail(k,f.thumb,l,V);2===b.dp60VideoPosition&&L(l,b.dp60VideoPosition);if(g.useTabbedImmersiveView(b)){Q(l.find(".videoBlockIng/ress img"),b.videoIng/ressATFSlateThumbURL);var k=1<u.length?"multiple-videos":"one-video",q=1<u.length?u.length+" "+b.staticStrings.multipleVideos:b.staticStrings.singleVideo;q&&l.find(".videoBlockIng/ress").append(l.find("#videoCount_template").clone().text(q).attr("id","videoCount")).addClass(k)}k=d.buildNexusMetric("ib.thumbnailImp/ression",
c+1,f.mediaObjectId,f.groupType,S,H,T,U);d.emitNexusMetric(k);k=d.buildNexusMetric("ib.thumbnailRender",c+1,f.mediaObjectId,f.groupType,S,H,T,U);d.emitNexusMetric(k);Z||(Z=!0,d.postCountMetric("chromeless-video"===h?"dppc_chromelessVideoAvailable":"dppc_chromefulVideoAvailable"))}c++}if(g.useTabbedImmersiveView(b))return!1}),h(l,e,c,k),b.imageBlockRenderingStartTime&&d.postTimeMetric("vse_desktop_ib_video_ing/ress_enable_duration",f.now()-b.imageBlockRenderingStartTime));return c}function L(c,d){if(0!==
d)if(2===b.unrolledImageBlockTreatment||3===b.unrolledImageBlockTreatment){var e=b.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",f=c.children(".thumbTypeimage"),e=c.children(".thumbType"+e);f&&e&&f[d-1]&&a(f[d-1]).before(e[0]);e=a(".unrolledScrollBox .list-unrolled");f=e.children(".unrolledImg.imgMedia");e=e.children(".unrolledImg.videoMedia");f&&e&&f[d-1]&&a(f[d-1]).before(e[0]);a(".unrolledScrollBox .list-unrolled").children(".unrolledImg").each(function(c){for(var b=null,d=0;d<
this.classList.length;d++)this.classList[d].includes("itemNo")&&(b=d);null!==b&&a(this).removeClass(this.classList[b]).addClass("itemNo"+c);this.querySelectorAll("div")[1].id="unrolledImgNo"+c})}else f=c.children(".imageThumbnail"),e=c.children(".videoBlockIng/ress"),f&&e&&f[d-1]&&a(f[d-1]).before(e[0])}function Q(a,c){var b=a.attr("src");if(b&&c){a.attr("src",c);var d=new Image;d.onload=function(c){a.attr("src",b)};d.src=b}}function P(a){x&&x.pause();a.data=p;a.clickTimeStamp=a.$event.timeStamp;var c=
"a"===a.targetTag?"dpcc_videoIng/ressLink":"dpcc_videoIng/ressSlate";B.dispatch("imageClick",a);d.postTimeMetric("dpcc_vse_videoing/ressclick",a.$event.timeStamp);a=d.buildNexusMetric("ib.thumbnailClick",a.data.thumbnailIndex+1,b.videos[0].mediaObjectId,b.videos[0].groupType,S,H,T,U);d.emitNexusMetric(a);d.postCountMetric(c)}function O(a){E=a.player;E.hide=function(){E.pause();f.$("#main-video-container").find(".vse-player-container").hide()};E.show=function(){f.$("#main-video-container").find(".vse-player-container").show();
E.play()};E.getMediaSourceInfo=function(){return g.getMediaSourceInfo()}}function N(c,d,e,p,h,u){K(u);C=null!==u?a("#unrolledImgNo"+u.thumbnailIndex):p.find("#main-video-container");z=null!==u?"":C.parent().find("#video-canvas-caption");J=null!==u?a(".unrolledScrollBox"):a("#main-image-container");S=t.location.href;c=k.getCurrentItem().color;!0===h?H=b.mediaAsin:(H=b.colorToAsin[c]&&b.colorToAsin[c].asin,H=g.isDefined(H)?H:b.mediaAsin);b.useChromelessVideoPlayer||C.addClass("chromeful-container");
null!==u?A(u,"unrolled-video-add"):A(k.getCurrentItem(),"");g.useTabbedImmersiveView(b)&&f.declarative("videoIng/ressClick",["click"],P);c=k.getCurrentItem().color;h=g.getVideoHash(c,0,b);-1!==h&&b.tabletWeb&&(h=g.getNilgiriServiceAjaxRequest(b,c,h),q.get(f,"#main-video-container",h,function(){f.$("#main-video-container").find(".vse-player-container").hide()},function(){f.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()}))}var y,b,k,B,l,C,z,J,M,x,c,p,u,E,H,S,T,U,ba,W,ea,Z=!1,fa=!1,V=
"videoThumbnail";return function(e,h,q,m){y=this;b=e;k=h;B=m;c=b.airyConfig;T=b.contentWeblab&&b.contentWeblab+":"+b.contentWeblabTreatment;b.colorToVideo={};b.colorToVideo[b.landingAsinColor]=b.colorToVideo[b.defaultColor]=b.videos;b.tabletWeb?(ba="tablet",U="applicationType.ImageBlock.vse_ib_tablet_web"):f.capabilities.tablet?(ba="tablet",f.capabilities.isApp&&(U="applicationType.ImageBlock.vse_ib_tablet_app")):(ba="desktop",U="desktop_web.ImageBlock.vse_ib_iv");y.render=function(c,d,e,f,
g,p){var h=[];if(2===b.unrolledImageBlockTreatment||3===b.unrolledImageBlockTreatment){l=a("ul.regularAltImageViewLayout");u=F(d,c,p);h=[];d=a(".thumbItemUnrolled").filter(function(){return this.classList.contains("thumbTypechromeful-video")||this.classList.contains("thumbTypechromeless-video")});for(var k=0;k<d.length;k++){var q=d[k].classList.contains("thumbTypechromeful-video")?"chromeful-video":"chromeless-video",m=Number(d[k].classList[2].slice(10)),y=a(".thumbItemUnrolled").index(d[k]);h.push({color:c,
thumbnailIndex:y,type:q,varient:"MAIN",index:m})}for(k=0;k<h.length;k++)N(c,e,f,g,p,h[k])}else l=f,u=F(d,c,p),N(c,e,f,g,p,null);return u};g.isImageBlockGridViewHoverDelayEnabled()?y.update=function(a){var c=a.data;"ing/ress"===c.type||"swatchHover"===a.type||g.lazyLoadingRequired(c,k,b)||(k.setToPreviousItem(),"mouseenter"===a.type?(ea&&clearTimeout(ea),ea=setTimeout(function(){k.setToCurrentItem(c);K(null)},g.getHoveringDelayTimer())):"mouseleave"===a.type?ea&&clearTimeout(ea):"click"===a.type&&(k.setToCurrentItem(c),
K(null)));if("swatchHover"===a.type)"ing/ress"===c.type||g.lazyLoadingRequired(c,k,b)||K(null),c.color===k.getCurrentItem().color?A(k.getCurrentItem(),""):a.captured||g.lazyLoadingRequired(c,k,b)&&!g.lazyLoadOnHoverEnabled(b)&&A(k.getCurrentItem(),"");else if("chromeful-video"===c.type||"chromeless-video"===c.type){var e=g.getVideoHash(c.color,c.index,b);"mouseenter"===a.type?(d.postCountMetric("dpcc_videoThumbHovered_"+(c.thumbnailIndex+1)+"_"+u),"chromeless-video"===c.type&&(e=d.buildNexusMetric("ib.thumbnailHover",
c.thumbnailIndex+1,e.mediaObjectId,e.groupType,S,H,T,U),d.emitNexusMetric(e)),W&&clearTimeout(W),W=setTimeout(function(){A(c,"");!b.usePeekHover&&f.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")&&g.selectGivenThumbnail(a.$declarativeParent,l)},g.getHoveringDelayTimer())):"mouseleave"===a.type?W&&clearTimeout(W):"click"===a.type&&(A(c,""),f.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")&&(g.selectGivenThumbnail(a.$declarativeParent,l),e=d.buildNexusMetric("ib.thumbnailClick",
c.thumbnailIndex+1,e.mediaObjectId,e.groupType,S,H,T,U),(!g.useTabbedImmersiveView(b)&&"chromeless-video"===c.type||"tablet"==ba)&&d.emitNexusMetric(e),g.useTabbedImmersiveView(b)&&(d.emitNexusMetric(e),d.postCountMetric("dpcc_videoThumbClicked_"+(c.thumbnailIndex+1)+"_"+u),p.action="videoIng/ressClick",p.clickTimeStamp=a.$event.timeStamp,p.$event=a.$event,p.$currentTarget=a.$currentTarget,B.dispatch("videoIng/ressClick",p),d.postTimeMetric("dpcc_vse_videoing/ressclick",a.$event.timeStamp))))}}:y.update=
function(a){var c=a.data;"ing/ress"===c.type||g.lazyLoadingRequired(c,k,b)||K(null);if("swatchHover"===a.type)c.color===k.getCurrentItem().color?A(k.getCurrentItem(),""):a.captured||g.lazyLoadingRequired(c,k,b)&&!g.lazyLoadOnHoverEnabled(b)&&A(k.getCurrentItem(),"");else if("chromeful-video"===c.type||"chromeless-video"===c.type){var e=g.getVideoHash(c.color,c.index,b);if("mouseenter"===a.type&&(d.postCountMetric("dpcc_videoThumbHovered_"+(c.thumbnailIndex+1)+"_"+u),"chromeless-video"===c.type)){var h=
d.buildNexusMetric("ib.thumbnailHover",c.thumbnailIndex+1,e.mediaObjectId,e.groupType,S,H,T,U);d.emitNexusMetric(h)}A(c,"");b.usePeekHover&&"click"!==a.type||!f.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")||(g.selectGivenThumbnail(a.$declarativeParent,l),"click"===a.type&&(e=d.buildNexusMetric("ib.thumbnailClick",c.thumbnailIndex+1,e.mediaObjectId,e.groupType,S,H,T,U),(!g.useTabbedImmersiveView(b)&&"chromeless-video"===c.type||"tablet"==ba)&&d.emitNexusMetric(e),g.useTabbedImmersiveView(b)&&
(d.emitNexusMetric(e),d.postCountMetric("dpcc_videoThumbClicked_"+(c.thumbnailIndex+1)+"_"+u),p.action="videoIng/ressClick",p.clickTimeStamp=a.$event.timeStamp,p.$event=a.$event,p.$currentTarget=a.$currentTarget,B.dispatch("videoIng/ressClick",p),d.postTimeMetric("dpcc_vse_videoing/ressclick",a.$event.timeStamp))))}};if(b.isDPXFeatureEnabled)f.on("triggerVideoAjax",r);f.on("vsePlayer-imageblock_tablet",O)}});"use strict";w.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric",
"postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView",function(f,a,e,g,m,d,q,h){function r(a){return a.hi/res||a.large||a.main[a.main.length-1]}function n(){v.find("#ivTitle").click(function(){X.hide()})}function K(){R=Pa?{type:"360-spin"}:ca.getCurrentItem()}function I(){var a=v.find("#ivStage"),c=X.$container.find(".a-popover-wrapper"),b=c.find(".a-popover-inner"),c=c.height()-h.getDimension(b,"padding-top")-h.getDimension(b,"padding-bottom");v.css("height",c);var b=
v.find("#ivTitle").outerHeight(!0),d=v.find("#ivVariationSelection").outerHeight(!0),e=v.find("#ivMediaSelection").outerHeight(!0),f=v.find("#ivThumbs"),g=h.getDimension(f,"margin-top")+h.getDimension(f,"margin-bottom");f.css("height",c-b-d-e-g);v.find("#ivLargeImage").css("height",c);a.css("width",v.width()-h.getDimension(v,"padding-left")-h.getDimension(v,"padding-right")-v.find("#ivThumbColumn").width()-h.getDimension(a,"margin-left")-h.getDimension(a,"margin-right"))}function G(){v.find("#ivMediaSelect").change(function(){var c=
a(this).val();"all"===c?(v.find("#ivVideoList").hide(),v.find("#ivThumbs").show(),v.find(".ivThumbVideo").show(),"chromeful-video"===R.type&&v.find("#ivVideo_"+R.index).click()):"images"===c?(v.find("#ivVideoList").hide(),v.find("#ivThumbs").show(),v.find(".ivThumbVideo").hide(),"chromeful-video"===R.type&&(0===ga&&0===aa?v.find("#iv360").click():0===ga?v.find("#ivHeroImage_0").click():v.find("#ivImage_0").click())):"videos"===c&&(v.find("#ivVideoList").show(),v.find("#ivThumbs").hide(),"chromeful-video"!==
R.type?v.find("#ivVideoList_0").click():v.find("#ivVideoList_"+R.index).click())})}function A(){var a=v.find("#ivStage").find("#ivLargeImage"),c=a.width(),b=a.height(),d=a.find(".fullscreen");d.removeAttr("style");var e=d.width(),f=d.height();0<d.length&&(d[0].naturalWidth&&(e=d[0].naturalWidth),d[0].naturalHeight&&(f=d[0].naturalHeight));a.css("cursor","auto");var e=0===e?1:e,f=0===f?1:f,g=Math.min(c/e,b/f),p=f*g,h=e*g;1>g?(Qa?a.css("cursor","url('"+D.staticImages.zoomIn+"'), auto"):(a.css("cursor",
"-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),za=!0):za=!1;e=Math.min(h,e);f=Math.min(p-20,f);d.css({"margin-top":(b-f)/2,"margin-left":(c-e)/2,height:f,width:e});a.css("visibility","visible");Aa=!1}function F(a){var c=v.find("#ivLargeImage");c.css("visibility","hidden");c.empty();h.animateStageIn(c);c.append(a);A()}function L(){ha&&ha.pause();v.find("#ivLarge360").css("display","none");v.find("#ivLargeVideo").css("display","none");v.find("#ivLargeImage").css("display",
"none");k()}function Q(c){L();v.find("#ivLargeImage").css("display","block");var b;"hero-image"===c?e.isDefined(la)&&(b=r(la[R.index])):e.isDefined(ma)&&(b=r(ma[R.index]));if(e.isDefined(b)){v.find(".fullscreen").remove();var d=a("\x3cimg\x3e").attr("src",b).addClass("fullscreen"),f=v.find("#ivLargeImage");h.animateStageOut(f,function(){d.load(function(){F(d)});if(d[0].complete)F(d);else{f.empty();var c=(f.height()-104)/2,b=(f.width()-80)/2;a("\x3cimg\x3e").attr("src",D.staticImages.spinner).css({position:"relative",
top:c+"px",left:b+"px"}).appendTo(f)}})}}function P(){var a=parseInt(R.index,10)+1;a>=ja.length||v.find("#ivVideo_"+a).click()}function O(){var a;e.isDefined(ja)&&(a=ja[R.index]);if(e.isDefined(a)){L();var c=v.find("#ivLargeVideo").css("display","block");ha?(ha.isDetached()&&ha.attach(c[0]),e.loadMediaIntoAiry(ha,a,wa,D.tabletWeb),ha.show()):(ha=e.createAiryInstanceForChromeful(c,a,wa,"ImmersiveView"),wa.enableContinuousPlay&&ha.bind("ended",P));ha.play({isAsync:!0})}}function N(){K();var a;a="hero-image"===
R.type?v.find("#ivHeroImage_"+R.index):"image"===R.type?v.find("#ivImage_"+R.index):"chromeful-video"===R.type||"chromeless-video"===R.type?v.find("#ivVideo_"+R.index):"360-spin"===R.type?v.find("#iv360"):e.isDefined(la)?v.find("#ivHeroImage_"+R.index):v.find("#ivImage_"+R.index);e.isjQueryObjDefined(a)||(a=v.find("#ivImage_0"));y(a)}function y(a){v.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivThumbVideo")?(R.type="chromeful-video",R.index=a.attr("id").split("_")[1],
O()):a.hasClass("ivHeroImage")?(R.type="hero-image",R.index=a.attr("id").split("_")[1],Q(R.type)):a.hasClass("iv360Image")?(R.type="360-spin",R.index=0,b()):(R.type="image",R.index=a.attr("id").split("_")[1],Q(R.type))}function b(){L();v.find("#ivLarge360").css("display","block");J();var a=v.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});h.animateStageIn(a)},200);l();m.postCountMetric("dppc_click360");ta=Date.now()}function k(){0<ta&&(B("dppc_duration360",Date.now()-
ta),ta=0)}function B(a,c){t.ue&&t.ue.count(a,c)}function l(){if(0<qa){var a=v.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function C(c,b){if(qa<c.length){var d=a("\x3cimg /\x3e").css({display:"block",width:6*oa+"px",height:sa+"px"});d.hide();b.append(d);d.get(0).onload=function(){b.closest(document.documentElement).length&&(qa++,1===qa&&(l(),0<ta&&B("dppc_loadTime360",Date.now()-ta)),0<Ga&&B("dppc_perSpriteloadTime360",Date.now()-Ga),v.find("#iv360Spinner").hide(),
d.show(),xa=5*Y.imageLocations[Math.floor(ya/Y.imageLocations[0].length)][ya%Y.imageLocations[0].length],C(c,b))};d.attr("src",c[qa].replace(/(\._SP)\d+(,)\d+/,"$1"+ua+"$2"+va));Ga=Date.now()}}function z(a){if(e.isDefined(Y.spriteWidthSizes)&&0<Y.spriteWidthSizes.length){var c=Y.spriteWidthSizes,b=c.length,d=c[0],f=c[b-1];if(a<=d)return d;if(a>f)return f;for(d=0;d<b;d++)if(a>c[d]&&a<=c[d+1])return c[d+1]}else return a}function J(){var c=v.find("#ivLarge360");c.children("#image-360-sprites").length||
(c.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),c.css({"margin-left":0,"margin-top":0,width:c.parent().width(),height:c.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",D.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(c),Ha=!0,M())}function M(){if(e.isDefined(Y.spriteURLs)&&
e.isDefined(v)&&Ha&&!Ia){var b=v.find("#ivLarge360"),d=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});e.isDefined(Y.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",Y.staticImages.hint360).appendTo(d);a("\x3cdiv\x3e").css({"text-align":"center"}).text(D.staticStrings.dragToSpin).appendTo(d);d.appendTo(b);var d=Y.imageWidth,f=Y.imageHeight,g=b.parent().width(),h=b.parent().height(),
k=0,l=0;d/f>g/h?(ua=z(g),va=Math.round(f/d*ua),oa=Math.ceil(g),sa=Math.ceil(va/ua*g),l=(h-sa)/2):(va=z(h),ua=Math.round(d/f*va),sa=Math.ceil(h),oa=Math.ceil(ua/va*h),k=(g-oa)/2);b.css({"margin-left":k,"margin-top":l,width:oa+"px",height:sa+"px",overflow:"hidden",position:"relative"});b.children("#image-360-sprites").css("width",6*oa+"px");C(Y.spriteURLs,v.find("#image-360-sprites"),0);d=v.find("#ivLarge360");d.bind("mousedown",u);d.bind("touchstart",x);d.bind("touchmove",c);d.bind("touchend",p);a(document).bind("mousemove",
E);a(document).bind("mouseup",H);e.isDefined(D.staticImages.grab)&&b.css("cursor","url('"+D.staticImages.grab+"'), auto");Ia=!0}}function x(a){Ba=!0;Ja=a.originalEvent.targetTouches[0].clientX}function c(a){Ba&&(S(a.originalEvent.targetTouches[0].clientX-Ja),Ja=a.originalEvent.targetTouches[0].clientX)}function p(a){Ba&&(Ba=!1)}function u(a){Ca=!0;Ka=a.originalEvent.clientX;e.isDefined(D.staticImages.grabbing)&&(a=v.find("#ivLarge360"),a.css("cursor","url('"+D.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor",
"url('"+D.staticImages.grabbing+"'), auto"));return!1}function E(a){Ca&&(S(a.originalEvent.clientX-Ka),Ka=a.originalEvent.clientX)}function H(a){Ca&&(Ca=!1,e.isDefined(D.staticImages.grab)&&(a=v.find("#ivLarge360"),a.css("cursor","url('"+D.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function S(a){for(a=xa-=a/oa*180;0>a;)a+=360;for(;360<a;)a-=360;xa=a;var c;a=360;for(var b=0;b<qa;b++)for(var d=0;d<Y.imageLocations[b].length;d++){var f=Math.abs(xa-5*Y.imageLocations[b][d]);
f<a&&(a=f,c=b*Y.imageLocations[0].length+d)}c!==ya&&(a=Math.floor(c/Y.imageLocations[0].length),a!==Math.floor(ya/Y.imageLocations[0].length)&&(e.isDefined(La)||(La=document.createElement("canvas").getContext("2d")),b=v.find("#image-360-sprites").children(),La.drawImage(b[a],0,0)),a=v.find(".iv360Hint").not(".iv360HintFaded"),e.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));ya=c;a=c%Y.imageLocations[0].length*-1*oa;c=-1*Math.floor(c/Y.imageLocations[0].length)*sa;b=v.find("#ivLarge360").children("#image-360-sprites");
b.css("-webkit-transform","translate3d("+a+"px, "+c+"px, 0)");b.css("transform","translate3d("+a+"px, "+c+"px, 0)")}function T(){v.delegate(".ivThumb","click",function(){var c=a(this);y(c)});v.delegate(".ivThumbVideoListOuter","click",function(){v.find(".ivThumbVideoListOuter").removeClass("selected");var c=a(this);c.addClass("selected");R.type="chromeful-video";R.index=c.attr("id").split("_")[1];O()})}function U(){ha&&!ha.isDetached()&&(wa.volume=ha.getVolume(),ha.detach(),!document.all||t.atob||
document.addEventListener||(ha=null));v.find("#ivLargeImage").empty();k()}function ba(a,c){return 0<c?c/2:Math.min(0,Math.max(c,a))}function W(c){var b=ra.left-(c.pageX-Da[0])*Ea;f.capabilities.rtl&&(b=ra.left-(a(t).width()-c.pageX-Da[0])*Ea);c=ra.top-(c.pageY-Da[1])*Ea;b=ba(b,Fa.left);c=ba(c,Fa.top);v.find(".fullscreen").css({left:b,top:c})}function ea(){v.delegate("#ivLargeImage","click",function(a){if(Aa)A();else if(za){v.find(".fullscreen").removeAttr("style");if(za){var c=v.find("#ivLargeImage"),
b=c.find(".fullscreen");Qa?c.css("cursor","url('"+D.staticImages.zoomOut+"'), auto"):(c.css("cursor","-webkit-zoom-out"),c.css("cursor","-moz-zoom-out"),c.css("cursor","zoom-out"));Aa=!0;var d=v.find("#ivLargeImage");Fa.left=d.width()-b.width();Fa.top=d.height()-b.height();var d=c.height()/2,e=c.width()/2;Da=[c.offset().left+e,c.offset().top+d];ra.top=d-b.height()/2;ra.left=e-b.width()/2;b.css({position:"relative",left:ra.left,top:ra.top});Ea=Math.max(b.height()/c.height(),b.width()/c.width())}W(a)}});
v.delegate("#ivLargeImage","mousemove",function(a){Aa&&W(a)})}function Z(c){if(e.isImmersiveViewEnabled(D,ca.getCurrentItem().color))if(Ma){var b=c.$event.originalEvent;b.acknowledge&&b.acknowledge(c.$currentTarget[0]);Pa=e.isDefined(c)&&"button-360-click"===c.action;d.isEnabled&&q.logImmersiveViewRequestServed(d);m.postCountMetric("dppc_immersiveViewOpened");if(e.isDefined(X))X.show();else{c=a("#auiImmersiveViewDiv");var b=a(t).height()-150,g=a(t).width()-75;X=Ma.create(c,{name:"immersiveView",activate:"onclick",
width:g,height:b,popoverLabel:"ImmersiveView",hideHeader:!0});c.click()}if(Na){v=a("#ivMain");c=ca.getCurrentItem().color;ma=D.colorImages[c];la=D.heroImage[c];ja=D.useChildVideos?D.colorToVideo[c]:D.videos;Oa=V()&&D.spin360ColorEnabled[c];Y=V()?D.spin360ColorData[c]:ka;K();na=aa=pa=ga=0;e.isDefined(la)&&(aa=la.length);e.isDefined(ma)&&(ga=ma.length);e.isDefined(ja)&&(pa=ja.length);Oa&&(na=1);h.populateTitle(v.find("#ivTitle"),45,D);h.populateVariationSelection(v.find("#ivVariationSelection"));c=
v.find("#ivMediaSelect");0===ga+na||0===pa?(c.parent().hide(),v.find("#ivThumbs").addClass("noMediaSelection")):(c.empty(),a("\x3coption/\x3e").attr("value","all").prop("selected",!0).text(D.staticStrings.allMedia+" ("+(aa+ga+na+pa)+")").appendTo(c),a("\x3coption/\x3e").attr("value","images").text(D.staticStrings.images+" ("+(aa+ga+na)+")").appendTo(c),a("\x3coption/\x3e").attr("value","videos").text(D.staticStrings.videos+" ("+pa+")").appendTo(c),c.parent().show(),c.val("all"));c=v.find("#ivThumbs");
c.find(".ivRow").not(".placeholder").remove();for(var b=aa+ga+pa+na,p=g=0;g<b;)for(var k=c.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(c),u=0;3>u&&g<b;u++,g++,p++)if(p<aa){var l=la[g].thumb,y=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+g).appendTo(k);y.find(".ivThumbImage").css("background",'url("'+h.get/resizedThumbnailURL(l)+'") center no-repeat')}else if(p>=aa&&p<ga+aa)l=ma[g-aa].thumb,y=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id",
"ivImage_"+(g-aa)).appendTo(k),y.find(".ivThumbImage").css("background",'url("'+h.get/resizedThumbnailURL(l)+'") center no-repeat');else if(p>=aa+ga&&p<ga+aa+na)y=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(k),y.find(".ivThumbImage").css("background",'url("'+(e.isDefined(D.staticImages.icon360)?h.get/resizedThumbnailURL(D.staticImages.icon360,!0):"")+'") center no-repeat');else if(l=ja[g-ga-aa-na],y=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id",
"ivVideo_"+(g-ga-aa-na)).appendTo(k),y.find(".ivThumbImage").css("background",'url("'+l.thumbUrl+'") center no-repeat'),e.isDefined(l)){var r={position:"triggerTop"},n=v.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");n.find(".ivVideoPopoverTitle").text(l.title);n.find(".ivVideoPopoverDuration").text(l.durationTimestamp);r.inlineContent=n[0];f.declarative.create(y,"a-tooltip",r)}c=v.find("#ivVideoList");c.find(".ivThumbVideoListOuter").not(".placeholder").remove();
b=c.find(".placeholder");for(g=0;g<pa;g++)p=ja[g],k=b.clone().removeClass("placeholder").appendTo(c),k.attr("id","ivVideoList_"+g),k.find(".ivThumbImage").css("background",'url("'+p.thumbUrl+'") center no-repeat'),k.find(".ivThumbTitle").text(p.title),k.find(".ivThumbDuration").text(p.durationTimestamp);v.find("#ivLarge360").empty();qa=0;Ia=Ha=!1;wa=D.airyConfig;Na=!1;Ra()}}else t.performance&&performance.now&&t.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||
0)+1);else m.postCountMetric("immersiveViewNotExistsClickCount")}function fa(a){var c=D.colorToAsin[a],b={},d=500;if(c&&c.asin){b.params={asin:c.asin};var f="360"+c.asin,p=Date.now();b.success=function(c){B("dppc_asyncRequestTime360",Date.now()-p);c&&e.isDefined(c.spin360.spin360Model)?(e.ajaxState(f,"success"),D.spin360ColorData[a]=c.spin360.spin360Model,a===ca.getCurrentItem().color&&(Y=D.spin360ColorData[a],M())):b.error()};b.error=function(){m.postCountMetric("dppc_asyncFailed360");B("dppc_asyncRequestTime360",
Date.now()-p);d*=2;16E3>=d?setTimeout(function(){p=Date.now();g.load("/gp/product/featu/res/apparel-main-image/360.html",b)},d):e.ajaxState(f,"fail")};e.ajaxState(f)&&"fail"!==e.ajaxState(f)||(g.load("/gp/product/featu/res/apparel-main-image/360.html",b),e.ajaxState(f,"sent"))}}function V(){return e.isDefined(D.spin360ConfigEnabled)&&D.spin360ConfigEnabled}var da,D,ca,ia,X,v,la,ma,ja,aa,ga,pa,na,R,ha,wa,Y,Oa,oa,sa,va,ua,Ka,Ja,Pa=!1,Ha=!1,Ia=!1,xa=0,ya=0,ta=0,Ga=0,Ca=!1,Ba=!1,qa=0,La,Qa=navigator.userAgent.match(/msie|trident/i),
Na=!0,Aa=!1,za=!1,Fa={},ra={},Ea,Da,Ma;w.when("a-modal").execute(function(a){Ma=a});var Ra=f.once(function(){G();T();ea();f.on("a:popover:afterUpdatePosition:immersiveView",I);f.on("a:popover:afterShow:immersiveView",N);f.on("a:popover:afterHide:immersiveView",U);n()});return function(c,b,g,p){da=this;D=c;ca=b;d.refToModel=ca;ia=p;V()&&(D.spin360ColorData[D.landingAsinColor]=D.spin360ColorData[D.defaultColor],D.spin360ColorEnabled[D.landingAsinColor]=D.spin360ColorEnabled[D.defaultColor]);e.isDefined(D.staticImages.icon360)&&
a("#imageBlock #altImages ul").find(".360Ing/ressTemplate").find("img").attr("src",h.addStyleCodeToURL(D.staticImages.icon360,"_FMpng_RI_"));da.render=function(a,c,b,d,g,p){Na=!0;V()&&D.spin360ColorEnabled[a]&&!e.isDefined(D.spin360ColorData[a])&&(D.spin360ColorData[a]={},fa(a));e.isImmersiveViewEnabled(D,ca.getCurrentItem().color)&&V()&&D.spin360ColorEnabled[a]&&(c===D.maxAlts&&(a=d.find(".item.imageThumbnail"),b=d.find(".item.videoThumbnail"),e.isDefined(b)&&1<b.length?b.last().remove():a.last().remove(),
c--),a=d.find(".360Ing/ressTemplate").clone().removeClass("360Ing/ressTemplate").removeClass("aok-hidden").addClass("item"),f.declarative.create(a,"button-360-click"),d.append(a),c++,m.postCountMetric("dppc_display360"));return c};da.update=function(a){};e.isImmersiveViewEnabled(D,ca.getCurrentItem().color)||e.addTag("immersiveViewNotAvailable");ia.register("imageClick",Z);ia.register("button360Click",Z)}});"use strict";w.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric",
"postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockTabbedImmersiveView",function(f,a,e,g,m,d,q){function h(){var d=G.getImmersiveViewModalInstance().$container.find(".a-popover-wrapper"),b=d.find(".a-popover-inner"),d=d.height()-q.getDimension(b,"padding-top")-q.getDimension(b,"padding-bottom");a("#iv-tab-view-container").css("height",d);L=a("#iv-tab-view-container ul.iv-tab-views li").filter(function(){return"none"!==a(this).css("display")}).length;1<L?(a("#iv-tab-view-container ul.iv-tab-views li").parent().show(),
b=a("#iv-tab-view-container ul.iv-tab-views li").parent().height(),d-=b):a("#iv-tab-view-container ul.iv-tab-views li").parent().hide();a("#iv-tab-view-container .iv-tab-content").css("height",d);f.trigger("dp:image-block:immersive-view:/resize")}function r(){f.trigger("dp:image-block:immersive-view:/reset")}function n(h){if(e.isImmersiveViewEnabled(I,G.getCurrentItem().color))if(P){var b=h.$event.originalEvent;b.acknowledge&&b.acknowledge(h.$currentTarget[0]);m.isEnabled&&d.logImmersiveViewRequestServed(m);
g.postCountMetric("dppc_immersiveViewOpened");e.isDefined(h)&&("button-360-click"===h.action?a("#iv360TabHeading").click():"videoIng/ressClick"===h.action?(Q=h.clickTimeStamp,a("#ivVideosTabHeading").click()):"showroomIng/ressClick"===h.action?(Q=h.clickTimeStamp,a("#ivShowroomTabHeading").click()):a("#ivImagesTabHeading").click());b=G.getImmersiveViewModalInstance();if(e.isDefined(b))b.show();else{h=a("#auiImmersiveViewDiv");var b=Math.min(Math.max(a(t).height()-150,540),1080),k=Math.min(Math.max(a(t).width()-
75,990),1980),b=P.create(h,{name:"immersiveView",activate:"onclick",width:k,height:b,popoverLabel:"ImmersiveView",hideHeader:!0});G.setImmersiveViewModalInstance(b);h.click()}F&&(F=!1,O(),f.trigger("dp:image-block:immersive-view:init"))}else t.performance&&performance.now&&t.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else g.postCountMetric("immersiveViewNotExistsClickCount")}var K,I,G,A,F=!0,L=0,Q,P;w.when("a-modal").execute(function(a){P=
a});var O=f.once(function(){f.on("a:popover:afterUpdatePosition:immersiveView",h);f.on("a:popover:afterShow:immersiveView",h);f.on("a:popover:afterHide:immersiveView",r)}),N=f.once(function(){var d=a("#iv-tab-view-container ul.iv-tab-views li");d.bind("click",function(b){var e=d.filter(".iv-active");e.attr("id")!==a(this).attr("id")&&f.trigger("dp:ivTabs:"+e.find("a").attr("data-iv-tab-view")+":deselect",b);d.removeClass("iv-active");a(this).addClass("iv-active");a("#iv-tab-view-container .iv-tab-content").hide();
e=a(this).find("a").attr("data-iv-tab-view");a("#"+e).show();"ivVideosTab"===e&&(b.clickTimeStamp=Q||b.timeStamp);f.trigger("dp:ivTabs:"+e+":select",b);g.postCountMetric("dppc_"+e);return!1})});return function(a,b,d,f){K=this;I=a;G=b;m.refToModel=G;A=f;K.render=function(a,b,d,e,f,h){g.postCountMetric("dpcc_altThumbs_"+b);F=!0};K.update=function(a){};K.getTitle=function(){};K.getVariationSelectionInfo=function(){};N();e.isImmersiveViewEnabled(I,G.getCurrentItem().color)||e.addTag("immersiveViewNotAvailable");
A.register("imageClick",n);A.register("button360Click",n);e.useTabbedImmersiveView(I)&&(A.register("videoIng/ressClick",n),A.register("showroomIng/ressClick",n))}});"use strict";w.when("A").register("ImageBlockLoader",function(f){return{load:function(a,e){e=e||{};e.timeout=e.timeout||4E3;f.ajax(a,e)}}});"use strict";w.when("A","jQuery","Airy","postMetric","ImageBlockATF","ImageBlockBTF","logFailedInteractionMetric","postEarlyMetric","ShoppableSceneWeblabProvider").register("imageBlockUtils",function(f,
a,e,g,m,d,q,h,r){function n(a){return null!==a&&"undefined"!==typeof a}function K(c){var b=0;a.each(c,function(a,c){var d=parseInt(c[1],10);d>b&&(b=d)});return b}function I(c){var b=0;a.each(c,function(a,c){var d=parseInt(c[0],10);d>b&&(b=d)});return b}function w(a,b,d){b=b.width();if(d.naturalMainImageSize)return b;a=K(a);0<a&&(b=Math.min(b,a));return b}function A(a,b,d){b=b.height();if(d.naturalMainImageSize)return b;a=I(a);0<a&&(b=Math.min(b,a));return b}function F(c){var b;a.each(c,function(a,
c){n(b)||(b=c[1]/c[0])});return b||1}function L(c,b,d,f,h,k,l,q,m,r,n,y,B){var N=a.extend({},d.fo/resterMetadataParams);null!==f&&(N.method+="."+f);var t=[];b.disabledViewIds&&(t=b.disabledViewIds);return e.embed({parentElement:c[0],streamingUrls:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,swfUrl:d.swfUrl,fo/resterMetadataParams:N,backgroundColor:"black",flashParams:{wmode:"transparent"},slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl},
videoAds:d.videoAds,bindings:{play:function(){if("ImmersiveView"===f)C||(C=!0,g.postCountMetric("dppc_chromefulVideoPlayedIV"));else if(z||(z=!0,g.postCountMetric("dppc_chromefulVideoPlayedPV")),!r){var a=g.buildNexusMetric("ib.thumbnailClick",m,b.mediaObjectId,b.groupType,n,y,B);g.emitNexusMetric(a)}}},cuePoints:[{values:b.durationSeconds-1,type:"position",callback:function(a,c,b){h&&(Q(0,k,q),P(l))}}],disabledViewIds:t})}function Q(a,b,d){b.fadeTo(500,0,function(){O(a,d);b.fadeTo(500,1)})}function P(a){a&&
a.toggle()}function O(c,b){var d=b.find("img");n(d[c])&&a(d[c]).click()}function N(a,b){x[a]=b?b:x[a];return x[a]}function y(c,b,d){d=d||M;d=d.colorImages;if(1>d.length||!n(d[c])||!n(b))return-1;var e=-1;a.each(d[c],function(a,c){c.variant===b&&(e=a)});return e}function b(c,b,d){d=d||M;d=d.colorImages;return!(n(d)&&n(d[c])&&n(d[c][b])&&n(d[c][b].main))||1>a.map(d[c][b].main,function(a,c){return c}).length?-1:d[c][b]}function k(a,b,d,e){e.parent().css("z-index",2);0!==d&&0!==b&&(b/=d,a>b?e.css("width",
b/a*100+"%"):e.css("height",a/b*100+"%"))}function B(c,b){var d;if(d=c.useIV)d=c.colorImages&&c.colorImages[b]&&0<c.colorImages[b].length?!0:!1;q.isEnabled&&(q.IVApplicaple=d,h.logImmersiveViewApplicability(a,q));return d}function l(){return 0<a(".gridImageBlockViewLayoutIn2x4").length||0<a(".gridImageBlockViewLayoutIn2x5").length||0<a(".gridImageBlockViewLayoutIn1x7").length}var C,z,J,M=a.extend(!0,{},m,d),x={};return{isDefined:n,isDefinedAndEmpty:function(a){return n(a)&&"object"===typeof a&&0===
Object.keys(a).length},isUndefinedOrEmpty:function(a){return n(a)?"object"===typeof a&&0===Object.keys(a).length:!0},isDefinedAndNotEmpty:function(a){return n(a)?"object"===typeof a&&0<Object.keys(a).length:!1},isjQueryObjDefined:function(a){return 0!==a.length},getAspectRatio:F,getMaxHeightOfMainImage:A,getMaxWidthOfMainImage:w,getMaxDimensionsOfMainImage:function(a,b,d){if(d.acEnabled)return[b.height(),b.width()];var e=A(a,b,d);b=w(a,b,d);a=F(a);d=b/a;b=Math.min(b,e*a);e=Math.min(e,d);return[e,
b]},getContainerHeight:function(a,b,d){var e=a.get(0);a=0;if(n(e)){a=e.offsetWidth/b;a=Math.min(a,d);var f;b=M.mainImageHeightPartitions;d=M.mainImageMaxSizes;if(n(d)&&n(b)){for(var g=0,h=t.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,e=0;e<b.length;e++)h>b[e]&&(g=e+1);d.length>=g&&(f=d[g])}n(f)&&(a=Math.min(f[1],a))}return a},getColorFromState:function(c,b){if(c){b=b||M;var d="";a.each(b.visualDimensions,function(a,b){c[b]&&(d+=" "+c[b])});return d&&d.substring(1)}},
createThumbnail:function(a,b,d,e){var g=d.find(".template").clone().removeClass("template").addClass("item"),h=document.createElement("img");h.src=b;g.find(".placeHolder").replaceWith(h);(b=a.heroVideoVariant)&&"hero-image"===a.type&&a.variant===b&&g.addClass("heroImageThumbnail");n(e)&&g.addClass(e);l()&&g&&(e=document.createElement("div"),e.className="imageBlockThumbnailImageGrayOverlay",h.parentNode.insertBefore(e,h));f.declarative.create(g,"thumb-action",a);g.attr&&(g.attr("data-ux-click",""),
a.type&&a.type.match(/video/)?(g.attr("data-csa-c-type","uxElement"),g.attr("data-csa-c-element-type","navigational"),g.attr("data-csa-c-action","image-block-alt-image-clickToImmersiveVideos")):(g.attr("data-csa-c-type","uxElement"),g.attr("data-csa-c-element-type","navigational"),g.attr("data-csa-c-action","image-block-alt-image-hover")),g.attr("data-csa-c-posy",a.thumbnailIndex+1));d.append(g)},selectGivenThumbnail:function(a,b){var d=a.find(".a-button");b.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");
d.addClass("a-button-selected").addClass("a-button-focus")},createAiryInstanceForChromeful:function(a,b,d,e,f,g,h,k){L(a,b,d,e,f,g,h,k,0,1,"","","")},createAiryInstanceForChromefulNotUseTabbedImmersiveView:L,loadMediaIntoAiry:function(a,b,d,e){a&&a.getMediaSourceInfo()!==b.url&&(e?a.loadMedia?(J={mediaSourceInfo:[b.url],contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"},a.loadMedia(J)):a.play({videoUrl:b.url,mimeType:"video/mp4",contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"}):a.loadMedia?
a.loadMedia({mediaSourceInfo:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl}}):a.play({videoUrl:b.url,mimeType:"video/mp4",contentId:b.mediaObjectId}))},showUnavailable:function(c){c&&(a("#imageBlock .unvailableVariation").html(c),a("#imageBlock .variationUnavailable").show())},hideUnavailable:function(){a("#imageBlock .variationUnavailable").hide()},fadeToThumbnail:Q,toggleVideoCaption:P,
selectThumbnail:O,spinner:function(c,b){var d=a("#imageBlock .a-spinner").parent();0===d.length&&(d=a("\x3cdiv\x3e\x3c/div\x3e").append(a("\x3cspan\x3e\x3c/span\x3e").addClass("a-spinner").addClass("a-spinner-medium")),c.append(d),d.css({position:"absolute",left:"50%",top:"50%",transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)","z-index":"3",width:"48px",height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px","-moz-border-radius":"20px","border-radius":"100%"}));
b?d.show():d.hide();return d},rankedImagesReadyEvent:function(a){return"ranked-images-ready-for-"+a},ajaxState:N,getIndexForVariant:y,getImageHash:b,lazyLoadingRequired:function(a,d,e){d=Math.max(y(a.color,d.getCurrentItem().variant,e),0);d=-1!==b(a.color,d,e);a=e.colorToAsin[a.color]&&e.colorToAsin[a.color].asin;a=!a||"success"!==N(a);return!e.lazyLoadExperienceDisabled&&!d&&a},lazyLoadOnHoverEnabled:function(a){return!a.lazyLoadExperienceOnHoverDisabled},updateAspectRatio:k,repositionVideoBanner:function(a,
b,d,e){setTimeout(function(){var d=a.width()/a.height();k(d,16,9,b)},e||0)},getVideosCount:function(a,b){return b.useChildVideos&&b.colorToVideo[a]?b.colorToVideo[a].length:b.videos?b.videos.length:0},getVideoHash:function(a,b,d){if(d.useChildVideos){if(!n(d.colorToVideo))return-1;a=d.colorToVideo[a]}else a=d.videos;return n(a)&&n(a[b])&&n(a[b].url)?a[b]:-1},isImmersiveViewEnabled:B,playVideoInImmersiveView:function(a,b){return B(a,b)&&a.useTabbedImmersiveView},useTabbedImmersiveView:function(a){return a.useTabbedImmersiveView},
getMediaSourceInfo:function(){return n(J)?J.mediaSourceInfo[0]:""},getNilgiriServiceAjaxRequest:function(a,b,d){return{requester:"DetailPageTablet",marketplaceID:d.marketPlaceID,clientPrefix:"ImageBlock_tablet",locale:d.languageCode,page:"DetailPageTablet",placement:"ImageBlock",video:{videoURL:d.url,imageURL:d.slateUrl}}},addTag:function(a){t.ue&&t.ue.tag&&t.ue.tag(a)},isShoppableScenesEnabled:function(){return r.isEnabled&&0<a(".mirai-scene-image-block-template").length},isImageBlockGridViewDisplayEnabled:l,
isImageBlockGridViewHoverDelayEnabled:function(){return 0<a(".gridImageBlockViewLayoutIn2x4").length||0<a(".gridImageBlockViewLayoutIn2x5").length},getHoveringDelayTimer:function(){return 50}}});"use strict";w.when("A","jQuery","imageBlockUtils","ImageBlockHeroUtils").register("ImageBlockHeroImageView",function(f,a,e,g){function m(d,f,b,h){if(!e.isjQueryObjDefined(d.find(".a-button-selected"))){var m=F.getCurrentItem();if(!h||"chromeless-video"!==m.type||!A.autoplayVideo){h=0;if("hero-image"===m.type){h=
q(m.color,m.variant);if(-1===h)return;h=-1!==h?h:0}var l=f+h;l>=b&&(h=0,l=f);f=g.getHeroImageHash(A,m.color,h);-1!==f&&(L.dispatch("updateModel",{data:{index:h,thumbnailIndex:l,variant:f.variant,type:"hero-image"}}),f=d.find(".item").get(l),e.selectGivenThumbnail(a(f),d))}}}function d(d,f,b){if("hero-video"===F.getCurrentItem().type)return d;f=A.heroImage&&A.heroImage[f];var g=d;e.isDefined(f)&&(a.each(f,function(a,b){d<A.maxAlts&&(e.createThumbnail({type:"hero-image",index:a,thumbnailIndex:d,variant:b.variant},
b.thumb,Q,"imageThumbnail"),d++)}),m(Q,g,d,b));return d}function q(d,f){var b=A.heroImage;if(1>b.length||!e.isDefined(b[d])||!e.isDefined(f))return-1;var g=-1;a.each(b[d],function(a,b){b.variant===f&&(g=a)});return g}function h(){if(P.length&&A.repositionHeroImage){var a=g.getHeroDimParams(A,F.getCurrentItem()),d;e.isDefined(a)&&(d=e.isDefined(a.xPos)?a.xPos+"px "+a.yPos+"px ":"center "+a.yPos+"px ",P.css({"background-position":d,"background-size":a.width+"px "+a.height+"px ","max-width":a.width+
"px ","min-height":a.height+"px ",filter:"","-ms-filter":""}))}}function r(a,d,b,f){if(P.length&&a&&d){if("function"===typeof b||f){var h=new Image;h.onload=f?function(){P.css("background-image",'url("'+a+'")')}:b;h.src=a}b=d[1];var h=d[0],l;f||P.css({"background-image":'url("'+a+'")'});A.repositionHeroImage&&(d=g.getHeroDimParams(A,F.getCurrentItem(),d),e.isDefined(d)&&(b=d.width,h=d.height,l=e.isDefined(d.xPos)?d.xPos+"px "+d.yPos+"px ":"center "+d.yPos+"px "));P.css({"background-position":l,"background-size":b+
"px "+h+"px ","max-width":b+"px ","min-height":h+"px ",filter:"","-ms-filter":""})}}function n(d,e,b,f){d=g.getHeroImageHash(A,d,e);if(-1===d)return-1;e=a.map(d.main,function(a,b){return b})[0];r(e,d.main[e],b,f)}function t(a,d,b){if("hero-image"!==a.type)return-1;var e=q(a.color,F.getCurrentItem().variant),e=-1!==e?e:0;if(-1===g.getHeroImageHash(A,a.color,e))return-1;var f=F.getCurrentItem();a.thumbnailIndex=f.thumbnailIndex;a.type=f.type;a.variant=f.variant;a.index=e;I(a,d,b)}function I(a,d,b){var e=
g.getHeroImageHash(A,a.color,a.index),h;h=a&&O&&f.equals(a,O)?!0:!1;O||(O=a);if(!h&&a||d)n(a.color,a.index,d,b),O=a;P.removeClass("hide-background");f.trigger("dp:image-block:update",e)}var w,A,F,L,Q,P,O={};return function(f,g,b,k){w=this;A=f;F=g;L=k;A.heroImage[A.landingAsinColor]=A.heroImage[A.defaultColor];w.render=function(b,e,f,g,h,k,q){Q=g;P=a("#heroImage");b=d(e,b,k);t(F.getCurrentItem(),q,k);return b};w.update=function(a){var b=a.data;"ing/ress"!==b.type&&P.addClass("hide-background");"swatchHover"===
a.type?a.captured||(b.type=F.getCurrentItem().type,-1!==t(b)&&(a.captured=!0)):"hero-image"===b.type&&(I(b),"click"!==a.type&&A.usePeekHover||e.selectGivenThumbnail(a.$declarativeParent,Q))};L.register("/resize",h)}});"use strict";w.when("A","jQuery","imageBlockUtils").register("ImageBlockAltImageIng/ressView",function(f,a,e){var g,m,d,q;return function(a,r,n,t){g=this;m=a;d=t;g.render=function(a,d,h,r,n,t,w){q=r;g=this;h=m.maxAlts;r=d;n=m.colorImages[a]?m.colorImages[a].length:0;n+=e.getVideosCount(a,
m);a=m.heroImage[a];t=0;a&&(t=a.length);a=n+t;a>h&&(h=a-h,a=q.find(".altIng/ressTemplate").clone().removeClass("altIng/ressTemplate").removeClass("aok-hidden").addClass("item"),h+="+",r={type:"ing/ress",index:0,thumbnailIndex:d,variant:""},a.find("#altIng/ressText").append(h),f.declarative.create(a,"thumb-action",r),q.append(a),r=d++);return r};g.update=function(a){"ing/ress"===a.data.type&&"click"===a.type&&d.dispatch("imageClick",a)}}});"use strict";w.when("imageBlockUtils").register("ImageBlockState",
function(f){return function(a,e,g){this.getImageHash=function(e){var d=g.getCurrentItem();e=f.getIndexForVariant(d.color,e||"MAIN",a);return f.getImageHash(d.color,e,a)};this.onImageUpdateForTwister=function(a){e.register("updateSelection",function(d){"swatchClick"===d.type&&"function"===typeof a&&a()})}}});"use strict";w.when("jQuery","imageBlockUtils").register("ImageBlockHeroUtils",function(f,a){function e(a,e){var f;if(e.repositionHeroImage){f=a[1];var g=a[0];if(768>=(t.innerHeight||document.documentElement.clientHeight||
document.body.clientHeight))f*=.7,g*=.7;else{var m=((t.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,m=Math.max(Math.min(m,1),0);f*=.7+.3*m;g*=.7+.3*m}f=[f,g]}return f}function g(d,e,f){var g;if(f.repositionHeroImage){var m=t.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;f=f.heroFocalPoint;if(a.isDefined(f)){g=Math.max((m-Math.min(1500,d))/2,0);var w=Math.max((m-d)/2,0);g-=w;m=Math.max(Math.min(m,1500),1024);g=g+(m-420-23)/2-d/
e[1]*f}}return g}function m(d,e,g){d=d.heroImage;return!(a.isDefined(d)&&a.isDefined(d[e])&&a.isDefined(d[e][g])&&a.isDefined(d[e][g].main))||1>f.map(d[e][g].main,function(a,d){return d}).length?-1:d[e][g]}return{getHeroImageHash:m,getHeroDimParams:function(d,q,h){if(d.repositionHeroImage){if(!a.isDefined(h)){h=m(d,q.color,q.index);if(-1===h)return;q=f.map(h.main,function(a,d){return d})[0];h=h.main[q]}q=e(h,d);d=g(q[0],h,d);return{height:q[1],width:q[0],xPos:d,yPos:75}}}}});"use strict";w.when("postMetric").register("ImageBlockImmersiveViewShowroom",
function(f){function a(){this.render=function(){};this.update=function(){}}return function(e,g,m,d){var q=!1,h=new a;w.now("showroom-image-block-view").execute("showroom-image-block-view-decider",function(a){a!==ka&&(q=!0,h=new a(e,g,m,d))});e&&!0===e.showroomEnabled&&!1===q&&f.postCountMetric("showroom:atf:imageBlock:hiddenDueToAssetsNotP/resentInTime");return h}});"use strict";w.when("A","jQuery","imageBlockUtils").register("imageBlockImmersiveViewUtils",function(f,a,e){function g(a,g){var h=f.copy(a);
if(e.isDefined(a)&&a.length>g){try{for(var m=-1,n=0;n<a.length;n++){var t=a.charAt(n);if(" "===t||"."===t||"?"===t||";"===t||","===t||":"===t)m=n;if(n===g-4){h=a.substring(0,-1===m?n:m);break}}}catch(w){h=a.substring(0,g-3)}h+="..."}return h}function m(a,e){var f=a.lastIndexOf(".");return a="_"===a.charAt(f-1)?a.substring(0,f-1)+e+a.substring(f):a.substring(0,f)+"."+e+a.substring(f)}return{getDimension:function(a,e){var f=parseInt(a.css(e),10);return isNaN(f)?0:f},attachTabSelectHandler:function(a,
e){f.on("dp:ivTabs:"+a+":select",e)},attachTabDeselectHandler:function(a,e){f.on("dp:ivTabs:"+a+":deselect",e)},attachImmersiveView/resizeHandler:function(a){f.on("dp:image-block:immersive-view:/resize",a)},detachImmersiveView/resizeHandler:function(a){f.off("dp:image-block:immersive-view:/resize",a)},attachImmersiveView/resetHandler:function(a){f.on("a:popover:afterHide:immersiveView",a)},hideTabHeading:function(d){a("#"+d).hide()},unhideTabHeading:function(d){a("#"+d).show()},addStyleCodeToURL:m,get/resizedThumbnailURL:function(a,
e){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,"");var f="_AA50_";e&&(f+="FMpng_RI_");return m(a,f)},populateVariationSelection:function(d){if(e.isDefined(t.DetailPage)&&e.isDefined(t.DetailPage.StateController)){d.empty();var f=t.DetailPage.StateController.getState(),g=f.variation_label_order,m;for(m in g)if(g.hasOwnProperty(m)){var n=g[m],w=f.selected_variations[n],
n=f.variation_display_labels[n];w&&a("\x3cdiv/\x3e").addClass("ivVariations").text(n+":"+w).appendTo(d)}}},populateTitle:function(a,e,f){a.html(f.title);a.attr("title",a.text());a.html(g(f.title,e))},animateStageIn:function(a){a.animate({opacity:1},200)},animateStageOut:function(a,e){a.animate({opacity:.4},100,e)},logError:function(a,e,f,g){t.ueLogError&&t.ueLogError(g,{logLevel:a,attribution:e,message:f})}}});"use strict";w.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveViewImages",
function(f,a,e,g,m){function d(){m.populateTitle(b.find("#ivTitle"),160,N)}function q(){var a=y.getCurrentItem().color;B=N.colorImages[a];k=N.heroImage[a];l=C=0;e.isDefined(k)&&(l=k.length);e.isDefined(B)&&(C=B.length)}function h(a){return a.hi/res||a.large||a.main[a.main.length-1]}function r(){var a=b.find("#ivStage").find("#ivLargeImage"),d=a.width(),e=a.height(),f=a.find(".fullscreen");f.removeAttr("style");var g=f.width(),h=f.height();0<f.length&&(f[0].naturalWidth&&(g=f[0].naturalWidth),f[0].naturalHeight&&
(h=f[0].naturalHeight));a.css("cursor","auto");var g=0===g?1:g,h=0===h?1:h,k=Math.min(d/g,e/h),l=h*k,m=g*k;1>k?(J?a.css("cursor","url('"+N.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),c=!0):c=!1;g=Math.min(m,g);h=Math.min(l-20,h);f.css({"margin-top":(e-h)/2,"margin-left":(d-g)/2,height:h,width:g});a.css("visibility","visible");x=!1}function n(a){var c=b.find("#ivLargeImage");c.css("visibility","hidden");c.empty();m.animateStageIn(c);
c.append(a);r()}function t(c){b.find("#ivLargeImage").css("display","none");b.find("#ivLargeImage").css("display","block");var d;"hero-image"===c?e.isDefined(k)&&(d=h(k[z.index])):e.isDefined(B)&&(d=h(B[z.index]));if(e.isDefined(d)){b.find(".fullscreen").remove();var f=a("\x3cimg\x3e").attr("src",d).addClass("fullscreen"),g=b.find("#ivLargeImage");m.animateStageOut(g,function(){f.load(function(){n(f)});if(f[0].complete)n(f);else{g.empty();var b=(g.height()-104)/2,c=(g.width()-80)/2;a("\x3cimg\x3e").attr("src",
N.staticImages.spinner).css({position:"relative",top:b+"px",left:c+"px"}).appendTo(g)}})}}function w(a){b.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivHeroImage")?z.type="hero-image":z.type="image";z.index=a.attr("id").split("_")[1];t(z.type);g.postCountMetric("dpcc_iv_thumbCLick_"+(parseInt(z.index,10)+1)+"_"+(l+C))}function G(){b.delegate(".ivThumb","click",function(){var b=a(this);w(b)})}function A(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function F(a){var c=
u.top-(a.pageY-H[1])*E;a=A(u.left-(a.pageX-H[0])*E,p.left);c=A(c,p.top);b.find(".fullscreen").css({left:a,top:c})}function L(){b.delegate("#ivLargeImage","click",function(a){if(x)r();else if(c){b.find(".fullscreen").removeAttr("style");if(c){var d=b.find("#ivLargeImage"),e=d.find(".fullscreen");J?d.css("cursor","url('"+N.staticImages.zoomOut+"'), auto"):(d.css("cursor","-webkit-zoom-out"),d.css("cursor","-moz-zoom-out"),d.css("cursor","zoom-out"));x=!0;var f=b.find("#ivLargeImage");p.left=f.width()-
e.width();p.top=f.height()-e.height();var f=d.height()/2,h=d.width()/2;H=[d.offset().left+h,d.offset().top+f];u.top=f-e.height()/2;u.left=h-e.width()/2;e.css({position:"relative",left:u.left,top:u.top});E=Math.max(e.height()/d.height(),e.width()/d.width())}F(a);g.postCountMetric("dpcc_iv_largeImageCLick")}});b.delegate("#ivLargeImage","mousemove",function(a){x&&F(a)})}function Q(){b.find("#ivLargeImage").empty()}function P(c){if(M){b=a("#ivMain");q();z=y.getCurrentItem();d();m.populateVariationSelection(b.find("#ivVariationSelection"));
c=b.find("#ivThumbs");c.find(".ivRow").not(".placeholder").remove();for(var f=l+C,g=0,h=0;g<f;)for(var p=c.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(c),n=0;4>n&&g<f;n++,g++,h++)if(h<l){var r=k[g].thumb,u=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr({id:"ivHeroImage_"+g,"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-hero-image","data-csa-c-posy":g+1}).appendTo(p);
u.find(".ivThumbImage").css("background",'url("'+m.get/resizedThumbnailURL(r)+'") center no-repeat')}else h>=l&&h<C+l&&(r=B[g-l].thumb,u=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:"ivImage_"+(g-l),"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-alt-image","data-csa-c-posy":g-l+1}).appendTo(p),u.find(".ivThumbImage").css("background",'url("'+m.get/resizedThumbnailURL(r)+'") center no-repeat'));S();M=!1}else d();
c=a("#ivImagesTab").height();b.css("height",c);f=b.find("#ivTitle").outerHeight(!0);g=b.find("#ivVariationSelection").outerHeight(!0);h=b.find("#ivThumbs");p=m.getDimension(h,"margin-top")+m.getDimension(h,"margin-bottom");h.css("height",c-f-g-p);b.find("#ivLargeImage").css("height",c);c=b.find("#ivStage");f=b[0]&&b[0].getBoundingClientRect&&Math.floor(b[0].getBoundingClientRect().width)||b.width();c.css("width",f-m.getDimension(b,"padding-left")-m.getDimension(b,"padding-right")-b.find("#ivThumbColumn").width()-
m.getDimension(c,"margin-left")-m.getDimension(c,"margin-right"));z=y.getCurrentItem();c="hero-image"===z.type?b.find("#ivHeroImage_"+z.index):"image"===z.type?b.find("#ivImage_"+z.index):e.isDefined(k)?b.find("#ivHeroImage_"+z.index):b.find("#ivImage_"+z.index);e.isjQueryObjDefined(c)||(c=b.find("#ivImage_0"));w(c)}var O,N,y,b,k,B,l,C,z,J=navigator.userAgent.match(/msie|trident/i),M=!0,x=!1,c=!1,p={},u={},E,H,M=!0,S=f.once(function(){G();L();m.attachImmersiveView/resizeHandler(P);m.attachTabDeselectHandler("ivImagesTab",
Q)});return function(b,c,d,e){O=this;N=b;y=c;O.render=function(b,c,d,e,f,g){M=!0;q();0===l+C?m.hideTabHeading("ivImagesTabHeading"):m.unhideTabHeading("ivImagesTabHeading");1===l+C?a("#ivThumbs").hide():a("#ivThumbs").show()};O.update=function(a){};m.attachTabSelectHandler("ivImagesTab",P)}});"use strict";w.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils","vse_ns_preLoaderHook","vse_ns_lazyLoaderHook").register("ImageBlockImmersiveViewVideos",function(f,a,e,g,m,d,q){function h(){l.delegate(".ivThumb",
"click",function(){var b=a(this);l.find(".ivThumb").removeClass("selected");b.addClass("selected");b.hasClass("ivThumbVideo")&&(C.type="chromeful-video",C.index=b.attr("id").split("_")[1])})}function r(){if(Z){var b=a("#ivVideosTab").height();l.css("height",b);var c=l.find(".vse-lb-container");z=b-m.getDimension(c,"padding-top")-m.getDimension(c,"padding-bottom");c.css({"max-height":b,overflow:"hidden"});if(U){l.css({"max-width":Math.floor(1.77*z)});return}var b=l.find(".vse-player-container"),c=
l.find(".vse-video-action-strip"),d=l.find(".vse-lb-video-metadata"),e=Math.floor(z-m.getDimension(d,"height")-m.getDimension(c,"height")),f=Math.floor(1.77*e);b.css({"max-height":e,"max-width":f,marginLeft:"auto",marginRight:"auto"});d.css({"max-width":f,marginLeft:"auto",marginRight:"auto"});c.css({"max-width":f,marginLeft:"auto",marginRight:"auto"})}ba&&(b=l.find(".vse-vertical-scroll"),c=m.getDimension(b,"margin-top")+m.getDimension(b,"margin-bottom"),b.css("max-height",z-c))}function n(){w();
J&&J.pause();W=!1;S=!0;p=null;ea=!0;Z=!1}function w(){W=!1;J&&J.pause()}function I(c){p=c.clickTimeStamp?c.clickTimeStamp:f.now();e.isDefined(B)&&(B.eventTimestamp=p);W=!0;T&&(q.get(f,"#ivVideoBlock",k,X,v),l=a("#ivVideoBlock"),b.getCurrentItem(),C=b.getCurrentItem(),D(),P());r();T=!1;F()}function G(c){T&&(l=a("#ivVideoBlock"),b.getCurrentItem(),C=b.getCurrentItem(),D());W&&F();r()}function A(a){J=a.player;g.postTimeMetric("vse_ib_desktop_player_initialisation_duration",f.now()-da);y.imageBlockRenderingStartTime&&
g.postTimeMetric("vse_ib_desktop_time_to_player_interactive",f.now()-y.imageBlockRenderingStartTime);Z&&(P(),F())}function F(){if(J&&W&&(l.find(".vse-lb-container").animate({opacity:1},200),J.play(B),g.postCountMetric("dpcc_vse_videoBlock_video_played"),S)){var a=t.ue;a&&(a=a.count("dpcc_vse_videoing/ressclick"),a=(new Date).getTime()-a,g.postTimeMetric("dpcc_vse_vitff",a),S=!1)}}function L(){f.trigger("vse:detailpage-imageblock:page:lightBoxClosed")}function Q(a){M=a.popover.$popover;Z=!0;P()}function P(){if(Z&&
ea&&W&&J){M.addClass(f.$(M).find(".vse-lb-container").data("cssClass"));var a=B;fa&&(a=V,fa=!1);f.trigger("vse:detailpage-imageblock:page:lightBoxOpened",{lightBoxId:"ivVideoBlock",assetSpec:a});r();ea=!1}}function O(a){document.getElementsByClassName("videoBlockIng/ress")[0].click();V=a;fa=!0}var N,y,b,k,B,l,C,z,J,M,x,c,p,u,E,H,S=!0,T=!0,U=!1,ba=!1,W=!1,ea=!0,Z=!1,fa=!1,V,da=0,D=f.once(function(){h();m.attachImmersiveView/resizeHandler(G);m.attachTabDeselectHandler("ivVideosTab",w);m.attachImmersiveView/resetHandler(n)}),
ca=function(c,d,f){a("#ivVideoBlockSpinner").addClass("aok-hidden");g.postCountMetric("dpcc_vse_videoBlock_preload_failed_"+d.placement);c=b.getCurrentItem().color;c=e.getVideoHash(c,0,y);J||(J=e.createAiryInstanceForChromeful(a("#ivVideoBlock"),c,y.airyConfig,"ImmersiveView"));U=!0;a("#ivVideoBlock").css({"max-width":1.77*z,margin:"0 auto"});W&&U&&J.play({isAsync:!0})},ia=function(b,c,d){T||q.get(b,"#ivVideoBlock",k,X,v);a("#ivVideoBlockSpinner").addClass("aok-hidden")},X=function(a,b,c){ba=!0;r()},
v=function(a,b,c){g.postCountMetric("dpcc_vse_videoBlock_lazyload_failed_"+b.pageContext.placement+"_"+b.configuration.type)};return function(a,g,h,l){N=this;y=a;b=g;N.render=function(a,g,h,l,q,n){a=b.getCurrentItem().color;g=e.getVideoHash(a,0,y);!0===n?x=y.mediaAsin:(x=y.colorToAsin[a]&&y.colorToAsin[a].asin,x=e.isDefined(x)?x:y.mediaAsin);c=null!==y.vseVideoDataSourceTreatment&&"T1"===y.vseVideoDataSourceTreatment?"ASIN":"physicalID";u=y.contentWeblab;E=y.contentWeblabTreatment;H=y.parentAsin||
"";T=!0;-1===g?m.hideTabHeading("ivVideosTabHeading"):(m.unhideTabHeading("ivVideosTabHeading"),k={page:"DetailPage",placement:"ImageBlock",device:"Desktop",marketplaceID:g.marketPlaceID,locale:g.languageCode,product:{contentID:x,contentIDType:"ASIN",parentContentID:H,parentContentIDType:"ASIN"},video:{contentID:g.mediaObjectId,contentIDType:c,videoURL:g.url,imageURL:g.slateUrl},requestId:y.dpRequestId,weblabContext:[{name:u,assignment:E,ignoreForG2S2Key:!0}],metadata:{ProductTitle:y.title}},B={videoUrl:k.video.videoURL,
contentId:k.video.contentID,duration:0,vendorCode:"",eventTimestamp:e.isDefined(p)?p:f.now(),imageUrl:k.video.imageURL,productAsin:k.product.contentID,index:0},e.isDefinedAndNotEmpty(J)&&(J.destroy(),J=null),da=f.now(),d.get(f,"#ivVideoBlock",k,ia,ca))};N.update=function(a){};m.attachTabSelectHandler("ivVideosTab",I);f.on("vsePlayer-detailpage-imageblock",A);f.on("a:popover:afterShow:immersiveView",Q);f.on("a:popover:beforeHide:immersiveView",L);f.on("detailpage-imageblock-leave-pip",O)}});"use strict";
w.when("A","jQuery","imageBlockUtils","ImageBlockLoader","nexusLogger360","postMetric","imageBlockImmersiveViewUtils","hit-spin360-feature-data","hit-spin360-constants").register("ImageBlockImmersiveView360",function(f,a,e,g,m,d,q,h,r){function n(){var b=a("#iv360Tab").height();E.css("height",b);var c=E.find("#ivTitle360").outerHeight(!0),d=E.find("#ivVariationSelection360").outerHeight(!0),e=E.find("#ivThumbs360"),f=q.getDimension(e,"margin-top")+q.getDimension(e,"margin-bottom");e.css("height",
b-c-d-f);b=E.find("#ivStage360");c=E[0]&&E[0].getBoundingClientRect&&Math.floor(E[0].getBoundingClientRect().width)||E.width();b.css("width",c-q.getDimension(E,"padding-left")-q.getDimension(E,"padding-right")-E.find("#ivThumbColumn360").width()-q.getDimension(b,"margin-left")-q.getDimension(b,"margin-right"))}function t(){F();var a=E.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});q.animateStageIn(a)},200);w()}function w(){if(0<v){var a=E.find(".iv360Hint");a.removeClass("iv360HintFaded");
a.animate({opacity:1},200)}}function G(b,e){if(v<b.length){var f=a("\x3cimg /\x3e").css({display:"block",width:6*S+"px",height:T+"px"});f.hide();e.append(f);f.get(0).onload=function(){e.closest(document.documentElement).length&&(v++,1===v&&(w(),0<D&&(m.time("dppc_loadTime360",Date.now()-D,c.mediaAsin),d.postTimeMetric("dppc_loadTime360",Date.now()-D))),0<ca&&(m.time("dppc_perSpriteloadTime360",Date.now()-ca,c.mediaAsin),d.postTimeMetric("dppc_perSpriteloadTime360",Date.now()-ca)),E.find("#iv360Spinner").hide(),
f.show(),V=5*H.imageLocations[Math.floor(da/H.imageLocations[0].length)][da%H.imageLocations[0].length],G(b,e))};f.attr("src",b[v].replace(/(\._SP)\d+(,)\d+/,"$1"+ba+"$2"+U));ca=Date.now()}}function A(a){if(e.isDefined(H.spriteWidthSizes)&&0<H.spriteWidthSizes.length){var b=H.spriteWidthSizes,c=b.length,d=b[0],f=b[c-1];if(a<=d)return d;if(a>f)return f;for(d=0;d<c;d++)if(a>b[d]&&a<=b[d+1])return b[d+1]}else return a}function F(){var b=E.find("#ivLarge360");b.children("#image-360-sprites").length||
(b.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),b.css({"margin-left":0,"margin-top":0,width:b.parent().width(),height:b.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",c.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(b),Z=!0,L())}function L(){if(e.isDefined(H.spriteURLs)&&
e.isDefined(E)&&Z&&!fa){var d=E.find("#ivLarge360"),f=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});e.isDefined(H.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",H.staticImages.hint360).appendTo(f);a("\x3cdiv\x3e").css({"text-align":"center"}).text(c.staticStrings.dragToSpin).appendTo(f);f.appendTo(d);var f=H.imageWidth,g=H.imageHeight,h=d.parent().width(),k=d.parent().height(),
l=0,m=0;f/g>h/k?(ba=A(h),U=Math.round(g/f*ba),S=Math.ceil(h),T=Math.ceil(U/ba*h),m=(k-T)/2):(U=A(k),ba=Math.round(f/g*U),T=Math.ceil(k),S=Math.ceil(ba/U*k),l=(h-S)/2);d.css({"margin-left":l,"margin-top":m,width:S+"px",height:T+"px",overflow:"hidden",position:"relative"});d.children("#image-360-sprites").css("width",6*S+"px");G(H.spriteURLs,E.find("#image-360-sprites"),0);f=E.find("#ivLarge360");f.bind("mousedown",N);f.bind("touchstart",Q);f.bind("touchmove",P);f.bind("touchend",O);a(document).bind("mousemove",
y);a(document).bind("mouseup",b);e.isDefined(c.staticImages.grab)&&d.css("cursor","url('"+c.staticImages.grab+"'), auto");fa=!0}}function Q(a){X=!0;ea=a.originalEvent.targetTouches[0].clientX}function P(a){X&&(k(a.originalEvent.targetTouches[0].clientX-ea),ea=a.originalEvent.targetTouches[0].clientX)}function O(a){X&&(X=!1)}function N(a){ia=!0;W=a.originalEvent.clientX;e.isDefined(c.staticImages.grabbing)&&(a=E.find("#ivLarge360"),a.css("cursor","url('"+c.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor",
"url('"+c.staticImages.grabbing+"'), auto"));return!1}function y(a){ia&&(k(a.originalEvent.clientX-W),W=a.originalEvent.clientX)}function b(a){ia&&(ia=!1,e.isDefined(c.staticImages.grab)&&(a=E.find("#ivLarge360"),a.css("cursor","url('"+c.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function k(a){V-=a/S*180;ma&&(m.count("dppc_360dragToSpin",c.mediaAsin),d.postCountMetric("dppc_360dragToSpin"));ma=!1;for(a=V;0>a;)a+=360;for(;360<a;)a-=360;V=a;var b;a=360;for(var f=
0;f<v;f++)for(var g=0;g<H.imageLocations[f].length;g++){var h=Math.abs(V-5*H.imageLocations[f][g]);h<a&&(a=h,b=f*H.imageLocations[0].length+g)}b!==da&&(a=Math.floor(b/H.imageLocations[0].length),a!==Math.floor(da/H.imageLocations[0].length)&&(e.isDefined(la)||(la=document.createElement("canvas").getContext("2d")),f=E.find("#image-360-sprites").children(),la.drawImage(f[a],0,0)),a=E.find(".iv360Hint").not(".iv360HintFaded"),e.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));
da=b;a=b%H.imageLocations[0].length*-1*S;b=-1*Math.floor(b/H.imageLocations[0].length)*T;f=E.find("#ivLarge360").children("#image-360-sprites");f.css("-webkit-transform","translate3d("+a+"px, "+b+"px, 0)");f.css("transform","translate3d("+a+"px, "+b+"px, 0)")}function B(){if(aa){E=a("#ivMain360");var b=p.getCurrentItem().color;C()&&z(b);H=C()?c.spin360ColorData[b]:ka;q.populateTitle(E.find("#ivTitle360"),160,c);q.populateVariationSelection(E.find("#ivVariationSelection360"));E.find("#ivLarge360").empty();
v=0;fa=Z=!1;da=V=0;ga();aa=!1}0!==a("#iv360Tab").height()&&(q.detachImmersiveView/resizeHandler(B),n(),t(),D=Date.now(),ja=ma=!0,m.count("dppc_click360",c.mediaAsin),d.postCountMetric("dppc_click360"))}function l(a,b,f){a=c.colorToAsin[f];var k={},l=500;if(!a||!a.asin)if(f===c.defaultColor)a={asin:c.winningAsin};else return;k.params={asin:a.asin};var q="360"+a.asin,p=Date.now();k.success=function(a){m.time("dppc_asyncRequestTime360",Date.now()-p,c.mediaAsin);d.postTimeMetric("dppc_asyncRequestTime360",
Date.now()-p);a&&e.isDefined(a.spin360)?((a=a.spin360.spin360Model)&&h.setData(a),e.ajaxState(q,"success")):k.error()};k.error=function(){m.count("dppc_asyncFailedTransient360",c.mediaAsin);d.postCountMetric("dppc_asyncFailedTransient360");m.time("dppc_asyncRequestTime360",Date.now()-p,c.mediaAsin);d.postTimeMetric("dppc_asyncRequestTime360",Date.now()-p);l*=2;16E3>=l?setTimeout(function(){p=Date.now();g.load("/gp/product/featu/res/apparel-main-image/360.html",k)},l):(m.count("dppc_asyncFailed360",
c.mediaAsin),d.postCountMetric("dppc_asyncFailed360"),e.ajaxState(q,"fail"))};e.ajaxState(q)&&"fail"!==e.ajaxState(q)||(g.load("/gp/product/featu/res/apparel-main-image/360.html",k),e.ajaxState(q,"sent"))}function C(){return c&&e.isDefined(c.spin360ConfigEnabled)&&c.spin360ConfigEnabled}function z(a){return e.isDefinedAndNotEmpty(c.spin360ColorData[a])?!0:e.isDefined(c.spin360LazyLoadEnabled)&&c.spin360LazyLoadEnabled}function J(){ja&&(m.time("dppc_duration360",Date.now()-D,c.mediaAsin),d.postTimeMetric("dppc_duration360",
Date.now()-D),ja=!1)}function M(a){a=c.colorToAsin[a.color]&&c.colorToAsin[a.color].asin;a||(a=c.mediaAsin);return a}var x,c,p,u,E,H,S,T,U,ba,W,ea,Z=!1,fa=!1,V=0,da=0,D=0,ca=0,ia=!1,X=!1,v=0,la,ma=!0,ja=!1,aa=!0,ga=f.once(function(){q.attachImmersiveView/resizeHandler(B);q.attachImmersiveView/resizeHandler(n);q.attachImmersiveView/resetHandler(J);q.attachTabDeselectHandler("iv360Tab",J)});return function(b,g,k,n){x=this;c=b;p=g;u=n;b=c.landingAsinColor;g=c.defaultColor;e.isDefined(c.staticImages.icon360)&&
a("#imageBlock #altImages ul").find(".360Ing/ressTemplate").find("img").attr("src",q.addStyleCodeToURL(c.staticImages.icon360,"_FMpng_RI_"));C()&&(c.spin360ColorData||(c.spin360ColorData={}),b===g&&e.isDefinedAndEmpty(c.spin360ColorData[g])&&delete c.spin360ColorData[g]);f.on(r.TWISTER_DATA_EVENT,function(a){M(p.getCurrentItem())===a&&(H=h.getData(a),L(),a={type:"updatedData",data:p.getCurrentItem()},u.dispatch("updateView",a))});x.render=function(b,g,k,n,r,u){aa=!0;!C()||e.isDefinedAndEmpty(c.spin360ColorData[b])&&
!h.getData(M(p.getCurrentItem()))?q.hideTabHeading("iv360TabHeading"):(c.spin360ColorData[b]=h.getData(M(p.getCurrentItem())),e.isDefinedAndNotEmpty(c.spin360ColorData[b])?(a("#ivThumbs360").hide(),q.unhideTabHeading("iv360TabHeading"),e.isImmersiveViewEnabled(c,p.getCurrentItem().color)&&C()&&z(b)&&(g===c.maxAlts&&(b=n.find(".item.imageThumbnail"),g=n.find(".item.videoThumbnail"),e.isDefined(g)&&1<g.length?g.last().remove():b.last().remove()),b=n.find(".360Ing/ressTemplate").clone().removeClass("360Ing/ressTemplate").removeClass("aok-hidden").addClass("item"),
f.declarative.create(b,"button-360-click"),n.append(b),m.count("dppc_display360",c.mediaAsin),d.postCountMetric("dppc_display360"))):e.isDefined(c.spin360LazyLoadEnabled)&&c.spin360LazyLoadEnabled?(c.spin360ColorData[b]={},q.hideTabHeading("iv360TabHeading"),l(n,g,b)):q.hideTabHeading("iv360TabHeading"))};x.update=function(a){};q.attachTabSelectHandler("iv360Tab",B)}});w.register("nexusLogger360",function(){return{count:function(f,a){t.ue&&t.ue.event({asin:a,metricName:f,metricValue:1},"hit-360",
"hit360.clientEvent.3")},time:function(f,a,e){t.ue&&t.ue.event({asin:e,metricName:f,metricValue:a},"hit-360","hit360.clientEvent.3")}}});w.register("hit-spin360-constants",function(){return{TWISTER_DATA_EVENT:"spin360TwisterData"}});w.when("A","hit-spin360-constants").register("hit-spin360-feature-data",function(f,a){var e={};return{setData:function(g){var m=g.asin;e[m]||(e[m]=g,f.trigger(a.TWISTER_DATA_EVENT,m))},getData:function(a){return e[a]}}});"use strict";w.when("postMetric","imageBlockImmersiveViewUtils").execute("vse-ns-ajax-calls",
function(f,a){w.register("vse_ns_preLoaderHook",function(){function e(g,m){try{var d=g.A,q=g.block,h=g.request,r=g.handleFailure,n=g.handleSuccess,t=d.$;m--;var w=3-m-1,G=d.now();d.ajax("/vap/ew/componentbuilder",{params:h,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:h.timeout||5E3,withCredentials:!0,success:function(a){var e=d.now()-G;f.postTimeMetric("vse_preLoaderHook:success:",e);f.postCountMetric("vse_preLoaderHook:success:"+h.page+":"+h.placement+":"+
w);t(q).html(a);n(d,h,a)},error:function(a){f.postCountMetric("vse_preLoaderHook:error:"+h.page+":"+h.placement+":"+w);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<m?e(g,m):(f.postCountMetric("vse_preLoaderHook:error:",1),r(d,h,a))}})}catch(A){a.logError("FATAL","vse_ns_desktop","[vse_ns_preLoaderHook] ",A)}}return{get:function(a,f,d,q,h){e({A:a,block:f,request:d,handleFailure:h,handleSuccess:q},3)}}});w.register("vse_ns_lazyLoaderHook",function(){function e(g,m,d){try{var q=g.A,
h=g.context,r=g.handleFailure,n=g.handleSuccess;m.attr("data-configuration");var t=atob(m.attr("data-configuration")),w=JSON.parse(t),G={pageContext:h,configuration:w},A=q.now();d--;var F=3-d-1;q.ajax("/vap/ew/subcomponent/"+w.type,{params:G,paramsFormat:"json",method:"post",contentType:"application/json",timeout:h.timeout||5E3,withCredentials:!0,success:function(a){var d=q.now()-A;f.postTimeMetric("vse_lazyLoaderHook:success:",d);f.postCountMetric("vse_lazyLoaderHook:success:"+h.page+":"+h.placement+
":"+w.type+":"+F);m.html(a);n(q,G,a)},error:function(a){f.postCountMetric("vse_lazyLoaderHook:error:"+h.page+":"+h.placement+":"+w.type+":"+F);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<d?e(g,m,d):(f.postCountMetric("vse_lazyLoaderHook:error:",1),r(q,G,a))}})}catch(L){a.logError("FATAL","vse_ns_desktop","[vse_ns_lazyLoaderHook] ",L)}}return{get:function(a,f,d,q,h){var r=a.$;r(f+" div[data-configuration]").each(function(){e({A:a,context:d,handleFailure:h,handleSuccess:q},r(this),
3)})}}});w.register("vse_ns_videoPlayer",function(){function e(g,m,d){try{var q=g.A,h=g.block,r=g.request,n=g.handleFailure,t=g.handleSuccess,w=q.$;d--;var G=3-d-1,A=q.now();q.ajax("/vap/ew/subcomponent/vseplayer",{params:r,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:r.timeout||5E3,withCredentials:!0,success:function(a){var d=q.now()-A;f.postTimeMetric("vse_lightPlayerLoaderHook:success:",d);f.postCountMetric("vse_lightPlayerLoaderHook:success:"+r.page+
":"+r.placement+":"+G);w(h).html(a);t(q,r,a)},error:function(a){f.postCountMetric("vse_lightPlayerLoaderHook:error:"+r.page+":"+r.placement+":"+G);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<d?e(g,d):(f.postCountMetric("vse_lightPlayerLoaderHook:error:",1),n(q,r,a))}})}catch(F){a.logError("FATAL","vse_ns_lightPlayer","[vse_ns_lightPlayerLoaderHook] ",F)}}return{get:function(a,f,d,q,h){e({A:a,block:f,request:d,handleFailure:h,handleSuccess:q},3)}}})});"use strict";w.when("A","ImageBlockATF",
"ImageBlockBTF","imageBlockUtils","postMetric").execute(function(f,a,e,g,m){var d=[0,50,100,500,1E3,2E3,3E3,3500];(function(){var a=e.colorImages,f=0,r;for(r in a)a[r]&&a[r].length&&(f+=a[r].length);a="image_size_bucket:gt"+d[d.length-1];for(r=1;r<d.length;r++)if(f<=d[r]){a="image_size_bucket:"+d[r-1]+"-"+d[r];break}m.postCountMetric(a);g.addTag(a)})();(function(){var d=a.colorImages;d&&d.initial&&d.initial.length&&(d=d.initial.length,t.ue&&ue.count&&ue.count("altImageCount",d))})();(function(){var a=
e.lazyLoadExperienceDisabled;g.isDefined(e.lazyLoadExperienceDisabled)&&!a&&(m.postCountMetric("lazyLoadingExperienceOnTwisterUpdateEnabled"),g.addTag("lazyLoadingExperienceOnTwisterUpdateEnabled"))})()});w.when("A","get-/resource-time","postMetric","afterLoad").execute(function(f,a,e){var g=f.state("desktop-landing-image-data");g&&(g=f.values(g),a=a.get/resourceTimeByName("img",g),f.each(a,function(a){a&&(a./responseEnd!=ka&&e.postCountMetric("ibDesktopLandingImageDownloadTime",t.parseInt(a./responseEnd)),
a.transferSize!=ka&&(0===a.transferSize?e.postCountMetric("ibDesktopLandingImageCached",1):(e.postCountMetric("ibDesktopLandingImageSizeInBytes",t.parseInt(a.transferSize)),e.postCountMetric("ibDesktopLandingImageNotCached",1))))}))});w.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockShoppableSceneView",function(f,a,e,g){function m(d,e){var f=a("\x3cimg src\x3d'"+(e?A.staticImages.shoppableSceneDotHighlighted:A.staticImages.shoppableSceneDot)+"' alt\x3d''\x3e");f.css({display:e?
"none":"inline-block"});f.addClass("mirai-scene-tag").addClass(e?"active-tag":"inactive-tag");return f}function d(d){var e=a("\x3cspan\x3e");f.each(d.tags,function(d){var g=a("\x3cdiv\x3e").css({position:"absolute",left:100*d.left+"%",top:100*d.top+"%",height:"auto",width:"auto"});g.append(m(d,!1));g.append(m(d,!0));g.bind("mouseenter",function(){q(a(this).find(".mirai-scene-tag[style*\x3d'display: inline-block']"))});f.declarative.create(g,"scenes-show-details-tags-ib",{tagId:d.link});e.append(g)});
return e.children()}function q(a){a.addClass("mirai-scene-dot-pulsate");f.delay(function(){a.removeClass("mirai-scene-dot-pulsate")},4E3)}function h(a,d){a.css({display:"none"});d.css({display:"inline-block"})}function r(a,d,e){a.eq(e).css({display:"inline-block"});d.eq(e).css({display:"none"})}function n(a){w.when("mirai-multi-scene-view").execute("mirai-scene-protected-image-selection",function(){f.trigger("mirai:scene-details-change",{physicalId:a})})}function t(){var d=a("\x3cspan class\x3d'mirai-scene-view-products-button-content'\x3e"),
e=a("\x3cimg class\x3d'item-tag'\x3e").attr("src",A.staticImages.shoppableSceneViewProductsButton).addClass("item-tag"),f=a("\x3cspan class\x3d'mirai-scene-view-products-button-text'\x3e");f.html(A.staticStrings.shoppableSceneViewProductsButton);return d.append(e).append(f)[0].outerHTML}function I(a){function e(){a.$tagPlaceholder.replaceWith(n);var b=n.find(".mirai-scene-tag.active-tag"),d=n.find(".mirai-scene-tag.inactive-tag");r(b,d,0);q(n.find(".mirai-scene-tag[style*\x3d'display: inline-block']"));
L=!0;a.$viewProductsButton.removeClass("aok-hidden");"function"==typeof uex&&uex("ld","desktop-dp-atf-ib-shoppablescenes-tags-"+a.index,{wb:1});B=!0;g.postCountMetric("miraiShoppableScenes_imageLoadedCount")}if(a.shoppableScene){var m=a.$viewProductsButton.find(".a-button-text");if(0===m.children().length){m.append(t());f.declarative.create(a.$viewProductsButton,"scenes-show-details-view-products-ib",{tagId:a.shoppableScene.tags[0].link});var n=d(a.shoppableScene),y=n.find(".mirai-scene-tag.active-tag"),
b=n.find(".mirai-scene-tag.inactive-tag"),k=a.shoppableScene.physicalId,B=!1;f.on("mirai:index:change",function(a){a.scenePhysicalId===k&&(a=a.selectedIndices[0],h(y,b),r(y,b,a),q(n.find(".mirai-scene-tag[style*\x3d'display: inline-block']").eq(a)),L=!0)});f.on("mirai:scene-details-change",function(a){a.physicalId!==k||L||(h(y,b),r(y,b,0),q(n.find(".mirai-scene-tag[style*\x3d'display: inline-block']")),L=!0)});f.on("mirai:no-products-active",function(a){a.scenePhysicalId===k&&h(y,b)});f.on("mirai:set-first-product-active",
function(a){a.scenePhysicalId===k&&(h(y,b),r(y,b,0))});f.on("a:image:load:shoppable-scene:"+a.index,function(){B||(e(),g.postCountMetric("miraiShoppableScenes_imageLoadedViaAuiListenerCount"))});f.on("shoppable-scene-image-loaded",function(b){b.index!=a.index||B||(e(),g.postCountMetric("miraiShoppableScenes_imageLoadedViaMiraiListenerCount"))});w.when("mirai-multi-scene-view").execute("mirai-scene-protected-side-sheet-initialization",function(){f.trigger("mirai:scene-side-sheet-init",{icons:A.staticImages,
strings:A.staticStrings});f.trigger("mirai:scene-details-init",{scene:a.shoppableScene,imageSource:a.imageSource})})}}}var G,A,F,L=!1;return function(a,d,f,g){G=this;A=a;F=g;e.isShoppableScenesEnabled()?(F.register("initialize-shoppable-scene",I),G.render=function(a,b,d,e,f,g,h){},G.update=function(a){"mouseenter"===a.type&&(a.data.shoppableScene?n(a.data.shoppableScene.physicalId):L=!1)}):(a=function(){},G.render=a,G.update=a)}});w.now().register("ShoppableSceneWeblabProvider",function(){return{isEnabled:!0}})});
/* ******** */
(function(h){var d=window.UIPageJS||window.P,k=d._namespace||d.attributeErrors,b=k?k("DetailPageShowroomImageBlockAssets",""):d;b.guardFatal?b.guardFatal(h)(b,window):b.execute(function(){h(b,window)})})(function(h,d,k){h.when("A","imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-detail-page-rendering","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-view",function(b,e,m,f,q,a){function d(g){g.interaction===k.MOUSE_ENTER&&
g.type===q.SHOWROOM_THUMBNAIL_TYPE&&f.isShowroomMainImageHidden()&&a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER)}function c(c,b){var q=new Date;c.interaction=b.type;c.isUserGenerated=!0;if(e.isImageBlockGridViewHoverDelayEnabled()){if("mouseenter"===b.type&&m.isDataValidForAsin(u(c))&&(d(c),r&&clearTimeout(r),r=setTimeout(function(){var a=m.getDataForAsin(u(c)).imageData;f.updateMainImage(g,a,t);f.showShowroomMainImage(g);p.usePeekHover||e.selectGivenThumbnail(b.$declarativeParent,
n)},e.getHoveringDelayTimer())),"mouseleave"===b.type&&r&&clearTimeout(r),"click"===b.type){if(m.isDataValidForAsin(u(c))){var l=m.getDataForAsin(u(c)).imageData;f.updateMainImage(g,l,t);f.showShowroomMainImage(g)}e.selectGivenThumbnail(b.$declarativeParent,n);e.useTabbedImmersiveView(p)&&f.handleShowroomThumbnailClick(b)}}else m.isDataValidForAsin(u(c))&&(d(c),l=m.getDataForAsin(u(c)).imageData,f.updateMainImage(g,l,t),f.showShowroomMainImage(g)),p.usePeekHover&&"click"!==b.type||(e.selectGivenThumbnail(b.$declarativeParent,
n),"click"===b.type&&e.useTabbedImmersiveView(p)&&f.handleShowroomThumbnailClick(b));a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT,new Date-q)}function u(a){a=p.colorToAsin[a.color].asin;a||(a=p.mediaAsin);return a}var h=void 0,p=void 0,l=void 0,t=void 0,n=void 0,g=void 0,x=void 0,r=void 0,v=void 0,k={SWATCH_HOVER:"swatchHover",MOUSE_ENTER:"mouseenter"};return function(d,y,r,z){r=new Date;h=this;p=d;l=y;t=z;b.on(q.TWISTER_DATA_EVENT,function(a){u(l.getCurrentItem())===
a&&(a={type:"updatedData",data:l.getCurrentItem()},t.dispatch("updateView",a))});h.render=function(c,e,q,d,h,r){c=new Date;n=d;g=h.find("#main-showroom-container");g.parent().find("#showroom-canvas-caption");b.$("#main-image-container");try{var w=u(l.getCurrentItem());if(m.isDataValidForAsin(w)){var y=new Date,k=m.getDataForAsin(w);f.ref/resh(t,k.asin,k.defaultStageId);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN,new Date-y);if(!r){var B=new Date;f.updateMainImage(g,
k.imageData,t);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE,new Date-B)}var v=new Date;e=f.createThumbnail(p,d,e,k.imageData);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL,new Date-v);var z=new Date;b.$("#ivShowroomTabHeading").removeClass("aok-hidden");a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING,new Date-z);if(w!==x){var A=new Date;a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED);var C=
a.createShowroomAtfEvent(k.defaultStageId,w,a.EVENT_NAMES.IMAGEBLOCK_LOAD,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(C);x=w;a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT,new Date-A)}}else b.$("#ivShowroomTabHeading").addClass("aok-hidden")}catch(E){b.$("#ivShowroomTabHeading").addClass("aok-hidden")}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER,new Date-c);return e};h.update=function(b){var t=new Date;try{var n=b.data;l.setCurrentEvent(b);n.type===q.SHOWROOM_THUMBNAIL_TYPE?
c(n,b):n.type!==q.SHOWROOM_MAIN_IMAGE_TYPE&&(b.type===k.SWATCH_HOVER?n.color===l.getCurrentItem().color&&l.getCurrentItem().type===q.SHOWROOM_THUMBNAIL_TYPE?f.showShowroomMainImage(g):f.hideShowroomMainImage(g):e.isImageBlockGridViewHoverDelayEnabled()?(l.setToPreviousItem(),"mouseenter"===b.type&&(v&&clearTimeout(v),v=setTimeout(function(){l.setToCurrentItem(n);f.hideShowroomMainImage(g)},e.getHoveringDelayTimer())),"mouseleave"===b.type&&v&&clearTimeout(v),"click"===b.type&&(l.setToCurrentItem(n),
f.hideShowroomMainImage(g))):f.hideShowroomMainImage(g))}catch(D){}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE,new Date-t)};(d=document.getElementById("ivShowroomTabHeading"))&&d.addEventListener("click",function(b){a.addOne(a.COUNTER_NAMES.TAB_SELECT);b=m.getDataForAsin(x).defaultStageId;b=a.createShowroomAtfEvent(b,x,a.EVENT_NAMES.IMMERSIVE_VIEW_TAB_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(b)});a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE,new Date-r)}});
"use strict";h.register("showroom-image-block-constants",function(){return{SHOWROOM_THUMBNAIL_TYPE:"showroom-image",SHOWROOM_MAIN_IMAGE_TYPE:"showroom-main-image",TWISTER_DATA_EVENT:"showroomTwisterData",STRING_IDS:{MAIN_IMAGE_OVERLAY_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text",MAIN_IMAGE_OVERLAY_TEXT_T1:"showroom_dp_imageblock_atf_main_image_overlay_text_T1",MAIN_IMAGE_OVERLAY_TEXT_T2:"showroom_dp_imageblock_atf_main_image_overlay_text_T2",MAIN_IMAGE_OVERLAY_ICON_URL:"showroom_dp_imageblock_atf_main_image_overlay_icon_url"}}});
"use strict";h.when("A","jQuery","imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-detail-page-rendering",function(b,e,m,f,d,a){function q(b){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT);var n=a.createShowroomAtfEvent(p,h,a.EVENT_NAMES.IMAGEBLOCK_MAIN_IMAGE_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(n);c(b)}function c(a){a.action="showroomIng/ressClick";a.data=l;k.dispatch("showroomIng/ressClick",
a)}var h,k,p,l;return{createThumbnail:function(a,b,c,e){c===a.maxAlts&&(b.find(".item.imageThumbnail").last().remove(),c--);l={type:"showroomIng/ress",index:0,thumbnailIndex:c,variant:e.variant};m.createThumbnail({type:d.SHOWROOM_THUMBNAIL_TYPE,index:0,thumbnailIndex:c,variant:e.variant},e.thumb,b,"showroom-imageblock-thumbnail");c++;return c},updateMainImage:function(a,c){var g=a.find("#showroom-main-image");g.length?g.attr("src",c.hi/res):(g=e(('\x3cdiv id\x3d"showroom-main-image-container"\x3e                    \x3cimg src\x3d"'+
c.hi/res+'" id\x3d"showroom-main-image"/\x3e                \x3c/div\x3e').trim()),g.appendTo(a),b.declarative.create(a,"showroom-image-action",l),b.declarative("showroom-image-action",["click"],q),"T2"===f.getTreatment()?(g.addClass("t2"),c=a.find("#showroom-main-image-overlay-container-t2"),c.length||(c=f.getStringValue(d.STRING_IDS.MAIN_IMAGE_OVERLAY_TEXT),g=f.getStringValue(d.STRING_IDS.MAIN_IMAGE_OVERLAY_TEXT_T2),c=e(('\x3cdiv id\x3d"showroom-main-image-overlay-container-t2"\x3e                    \x3cdiv style\x3d"padding-bottom: 7px;width: 40%;"\x3e                        \x3cspan id\x3d"showroom-main-image-overlay-subtext"\x3e'+
c+'\x3c/span\x3e                    \x3c/div\x3e                    \x3cspan class\x3d"a-button a-button-base"\x3e                        \x3cspan class\x3d"a-button-inner"\x3e                            \x3cinput class\x3d"a-button-input"\x3e                            \x3cspan class\x3d"a-button-text" id\x3d"showroom-main-image-overlay-button"\x3e                                \x3cimg id\x3d"showroom-main-image-overlay-icon" src\x3d"https://m./res.com/images/G/01/showroom/icon-lightbulb._CB628497379_.png"/\x3e'+
g+"\n                            \x3c/span\x3e                        \x3c/span\x3e                    \x3c/span\x3e                \x3c/div\x3e").trim()),c.appendTo(a))):(c=a.find("#showroom-main-image-overlay-container-t1"),c.length||(c=f.getStringValue(d.STRING_IDS.MAIN_IMAGE_OVERLAY_TEXT_T1),g=f.getStringValue(d.STRING_IDS.MAIN_IMAGE_OVERLAY_ICON_URL),c=e('                \x3cdiv id\x3d"showroom-main-image-overlay-container-t1"\x3e                    \x3cimg id\x3d"showroom-main-image-overlay-icon" src\x3d"'+
(g?g:"")+'"/\x3e                    \x3cdiv\x3e                        \x3cspan id\x3d"showroom-main-image-overlay-text"\x3e'+c+"\x3c/span\x3e                    \x3c/div\x3e                \x3c/div\x3e                "),c.appendTo(a))))},hideShowroomMainImage:function(a){a.parent().css("z-index",-1);a.parent().addClass("aok-hidden")},showShowroomMainImage:function(a){a.parent().css("z-index",2);a.parent().removeClass("aok-hidden")},isShowroomMainImageHidden:function(){return e("#showroom-outer-container").hasClass("aok-hidden")},
handleShowroomIng/ressClick:c,handleShowroomThumbnailClick:function(b){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT);var e=a.createShowroomAtfEvent(p,h,a.EVENT_NAMES.IMAGEBLOCK_THUMBNAIL_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(e);c(b)},handleShowroomMainImageClick:q,ref/resh:function(a,c,b){k=a;h=c;p=b}}});"use strict";h.when("A").register("showroom-image-block-metrics",function(b){return{EVENT_NAMES:{IMAGEBLOCK_LOAD:"srm_atf_imageBlock_load",IMAGEBLOCK_THUMBNAIL_CLICK:"srm_atf_thumbnail_click",
IMAGEBLOCK_MAIN_IMAGE_CLICK:"srm_atf_main_image_click",IMMERSIVE_VIEW_TAB_CLICK:"srm_atf_iv_tab_click"},COUNTER_NAMES:{SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED:"showroom:atf:imageBlock:feature:render",SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER:"showroom:atf:imageBlock:thumbnail:hover",SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT:"showroom:atf:imageBlock:thumbnail:select",SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT:"showroom:atf:imageBlock:mainImage:select",SHOWROOM_IMAGEBLOCK_FAILED_TO_INITIALIZED_WEBLAB_TRIGGER:"showroom:atf:imageBlock:failedToInitializeWeblabTrigger",
TAB_SELECT:"showroom:atf:tab:select"},STATUS_TYPES:{SUCCESS:"success",ERROR:"error"},TIMER_NAMES:{SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE:"showroom:atf:imageBlock:latency:invoke",SHOWROOM_IMAGEBLOCK_LATENCY_LOAD:"showroom:atf:imageBlock:latency:load",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER:"showroom:atf:imageBlock:latency:render",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN:"showroom:atf:imageBlock:latency:render:getDataForAsin",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE:"showroom:atf:imageBlock:latency:render:updateMainImage",
SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:createThumbnail",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UTIL_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:utilCreateThumbnail",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING:"showroom:atf:imageBlock:latency:render:unhideTabHeading",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT:"showroom:atf:imageBlock:latency:render:logEvent",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE:"showroom:atf:imageBlock:latency:update",
SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT:"showroom:atf:imageBlock:latency:update:handleThumbnailEvent"},addOne:function(b){try{if(d.ue&&b){var e=(d.ue.count(b)||0)+1;d.ue.count(b,e)}}catch(f){}},logValue:function(b,m){try{d.ue&&b&&"number"===typeof m&&d.ue.count(b,m)}catch(f){}},createShowroomAtfEvent:function(e,d,f,h){var a={};a.showroomId=e;a.asin=d;a.eventType=f;a.status=h;a.device=b.capabilities?b.capabilities.isApp?"App":b.capabilities.mobile?"mobile":b.capabilities.tablet?
"tablet":"desktop":"";a.userAgent=navigator?navigator.userAgent:"";a.producerId="showroom_atf";a.schemaId="com..showroom.ing/ress.clientEvent.3";return a},logShowroomAtfEvent:function(b){try{d.ue&&d.ue.event&&b&&d.ue.event(b,"showroom_atf","com..showroom.ing/ress.clientEvent.3")}catch(m){}}}});"use strict";h.when("A","showroom-image-block-constants").register("showroom-lite-atf-feature-data",function(b,d){function e(){return h[a]}function f(a){return a in h}var h={},a,k="T1";return{setData:function(c){c&&
c.asin&&c.imageDomain&&c.defaultCollageUrl&&c.defaultStageId&&Array.isArray(c.itemMainImagePhysicalIds)&&(a=c.asin,c.experimentTreatment&&(k=c.experimentTreatment),f(c.asin)||(h[c.asin]=c,b.trigger(d.TWISTER_DATA_EVENT,c.asin)))},getDataForCurrentAsin:e,getDataForAsin:function(a){return h[a]},getStringValue:function(a){return e().displayStrings?e().displayStrings[a]:""},getTreatment:function(){return k},isDataValidForAsin:f}})});
/* ******** */
