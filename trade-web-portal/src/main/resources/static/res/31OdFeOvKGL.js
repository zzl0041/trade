'use strict';mix_d("SBXGwentPHDCards__multi-brand-detail-creative-desktop:multi-brand-detail-creative-desktop__3MTwCWCu","exports @c/dom @c/aui-utils tslib @c/pagemarker @c/logger @c/metrics @c/aui-feature-detect @c/browser-operations @p/a-ajax".split(" "),function(R,L,ka,G,la,ma,na,oa,pa,qa){function A(a){return a&&"object"===typeof a&&"default"in a?a:{"default":a}}function w(a,b){return function(c){c=n(a,c);return b?b(c):c}}var M=A(L),S=A(ka),ra=A(la),sa=A(ma),T=A(na),ta=A(oa),ua=A(pa),va=A(qa),
B,C,I;(function(a){a.Cornerstone="CORNERSTONE";a.Axiom="AXIOM"})(I||(I={}));var wa=(B={},B.e="basebe.ClientErrors.4",B.i="basebe.Imp/ressions.5",B.c="basebe.Clicks.4",B.s="basebe.Swipes.4",B.v="basebe.Viewabilities.4",B.vc="basebe.VisualCompleteness.6",B),xa=(C={},C.e="basebe.ClientErrors.4",C.i="basebe.Imp/ressions.6",C.c="basebe.Clicks.5",C.s="basebe.Swipes.5",C.v="basebe.Viewabilities.5",C.vc="basebe.VisualCompleteness.7",C),U=function(a,b){return"matches"in a?a.matches(b):"msMatchesSelector"in a?
a.msMatchesSelector(b):"webkitMatchesSelector"in a?a.webkitMatchesSelector(b):0<=r(b,t().body).indexOf(a)},p=function(a,b){b=b||M["default"].cardRoot;return!a||U(b,a)?b:b.querySelector(a)},r=function(a,b){return Array.prototype.slice.call((b||M["default"].cardRoot).querySelectorAll(a))},n=function(a,b){return(b=p("["+a+"]",b))?b.getAttribute(a):null},N=function(a,b){for(;b&&b!==M["default"].cardRoot;){if(U(b,a))return b;b=b.parentElement}return null},V=function(a,b){return(b=N("["+a+"]",b))?b.getAttribute(a):
null},W=function(a){if(a)return a=a.getBoundingClientRect(),{left:a.left,right:a.right,top:a.top,bottom:a.bottom};a=t().defaultView;return{left:0,top:0,right:a.innerWidth,bottom:a.innerHeight}},t=function(){return p().ownerDocument},D=function(a,b){sa["default"].log(a,"ERROR",b||"SBX_GWENT")},X=function(a){var b;a=/\?([^#]+)/.exec(a);if(!a)return[];a=a[1].split("&");var c=null;try{for(var d=G.__values(a),e=d.next();!e.done;e=d.next()){var f=e.value;if(0===f.indexOf("ref_=")){c=f;break}}}catch(k){var g=
{error:k}}finally{try{e&&!e.done&&(b=d.return)&&b.call(d)}finally{if(g)throw g.error;}}return c?(g=c.split("=").pop()||"")?g.split("_"):[]:[]},Y=function(a,b,c){var d={};if(5<c.length){d.el=c.pop()||null;a:{var e;try{for(var f=G.__values(c),g=f.next();!g.done;g=f.next()){var k=g.value;if(/^\d+$/.test(k)){var m=k;break a}}}catch(l){var h={error:l}}finally{try{g&&!g.done&&(e=f.return)&&e.call(f)}finally{if(h)throw h.error;}}m=null}d.index=m;d.asin=V("data-asin",b);d.type=V("data-avar",b)}a.c(d,b)},
ya=function(a,b){var c=X(b.href);Y(a,b,c)},za=function(a,b){var c=t().defaultView,d=function(e){2!==e.button&&(ya(a,b),e.metaKey||e.altKey||e.shiftKey||e.ctrlKey||1===e.button||"_blank"===b.target||(e.preventDefault(),c.setTimeout(function(){c.open(b.href,b.target||"_top")},50)))};b.addEventListener("click",d);b.addEventListener("auxclick",d)},Aa=function(a,b){r("[href]",b).filter(function(c){return!c.classList.contains("a-carousel-button")}).forEach(function(c){za(a,c)});r(".-follow",b).forEach(function(c){c.addEventListener("click",
function(){var d=X("?&ref_="+c.getAttribute("data-ref"));Y(a,c,d)})})},Ba=w("data-card-metrics-id",function(a){return(a||"").split("_")[0]}),Ca=w("data-var"),Da=w("data-mrkt"),Ea=w("data-nm",function(a){return"true"===a}),Fa=w("data-rid"),Ga=w("data-cid"),Ha=w("data-iid"),Ia=w("data-wl",function(a){return a?a.split(","):[]}),Ja=w("data-slot"),Ka=w("data-ts"),La=function(a){return{id:n("data-asin",a),prime:!!p(".a-icon-prime",a),price:!!p(".a-price",a),savings:!!p('.a-price[data-a-strike="true"]',
a),rating:n("data-rt",a),badge:n("data-deal",a)}},Ma=function(a,b){var c=null,d=null;a.addEventListener("touchstart",function(e){c=e.touches[0].pageX});a.addEventListener("touchmove",function(e){null===c&&(c=e.touches[0].pageX);d=e.touches[0].pageX});a.addEventListener("touchend",function(){null!==c&&null!==d&&b(d-c);c=d=null})},Na=function(a){if(ta["default"].isSupported("touch")){var b=function(c){var d=Math.abs(c);30<d&&a.s({direction:0>c?"left":"right",length:d})};r("[data-track-swipe]").forEach(function(c){return Ma(c,
b)})}},Oa=function(a,b){var c=t().defaultView,d,e=function(){d||(d=c.setTimeout(a,b))};e.cancel=function(){c.clearTimeout(d);d=0};return e},Pa=function(a,b){void 0===b&&(b=0);return function(){S["default"].delay(a,b)}},Z=function(a,b,c){var d=(c||{}).ms||25,e=(c||{}).el||t().defaultView,f=S["default"].throttle(b,d);e.addEventListener(a,f);return function(){e.removeEventListener(a,f)}},O=function(a,b){return Z("/resize",a,b)},aa=function(a,b){return Z("scroll",a,b)},ba=function(a,b,c){return 0<=a?Math.min(c-
a,b-a):0<b?Math.min(Math.min(b,c),b-a):0},Qa=function(a,b){var c=function(){var f=b?b:p(),g=d,k=f.getBoundingClientRect();if(f=k.width*k.height){var m=k.top,h=k.bottom,l=k.left,q=k.right,v=t().defaultView;k=v.innerHeight;l=ba(l,q,v.innerWidth);m=ba(m,h,k);.5<=l*m/f?g():g.cancel()}},d=Oa(function(){e();a.v(null,b)},1E3),e=aa(c);c()},Ra=function(a,b){var c=Date.now();b=r("img",b);var d=b.length,e=0,f=function(){++e===d&&a.vc({delay:Date.now()-c})};b.forEach(function(g){null!==n("data-lazy",g)&&null!==
n("data-src",g)?g.addEventListener("load",function(){g.src===g.dataset.src&&f()}):g.complete?f():g.addEventListener("load",f)})},Sa=function(a,b){var c=a.anonymizedRequestId,d=a.campaignId,e=a.idType;a=a.slotName;void 0===b&&(b=!1);var f=b?xa:wa,g={anonymizedRequestId:c,campaignId:d,slotName:a};b&&(g.idType=e);var k=function(m,h){try{var l=T["default"],q=l.event,v=G.__assign({},g);if(h)for(var x in h)Object.prototype.hasOwnProperty.call(h,x)&&(v[x]=h[x]);q.call(l,v,"base-be",f[m],{ssd:!0})}catch(E){D(E)}};
return{i:k.bind(null,"i"),v:k.bind(null,"v"),vc:k.bind(null,"vc"),c:k.bind(null,"c"),s:k.bind(null,"s"),e:function(m){k("e",m&&{name:m.name,message:m.message,stack:m.stack})}}},ca=function(a){var b=Ga(a),c=Fa();var d=14===(null===b||void 0===b?void 0:b.length)?I.Axiom:I.Cornerstone;b=Sa({anonymizedRequestId:c,campaignId:b,idType:d,slotName:Ja()},Ea(a));c=b.i;d=[].map.call(r("[data-asin]",a),La);var e=Ba(),f=Ca(a),g=Da(a),k=Ka(a),m=t().defaultView;c.call(b,{asins:d,creativeType:e,creativeVariation:f,
market:g,version:k,viewport:m.innerWidth+"x"+m.innerHeight,weblabs:Ia(a)});Aa(b,a);Ra(b,a);Qa(b,a);Na(b)},P=function(a,b){void 0===b&&(b=1);T["default"].count("sbxGwentClient"+a,b)},y={log:function(a){var b=t().defaultView;var c=Ha();(b=c&&b.sbxGwentClient&&"number"===typeof b.sbxGwentClient[c]?Date.now()-b.sbxGwentClient[c]:null)?P(a,b):P("NoPageTime")}},Ta=function(a){var b=a.url,c=a.onSuccess,d=a.onError;b||d();va["default"].get(b,{success:function(e){e&&"ok"===e.status?c(e):d()},error:d,abort:d})},
Q;(Q||(Q={})).adFeedbackHandler="adFeedbackHandler";var Ua=function(a,b,c,d,e){try{var f=JSON.parse(a);return e+"?pl="+encodeURIComponent(JSON.stringify({adCreativeMetaData:{adCreativeId:f[0],adId:b,adImp/ressionId:f[1],adNetwork:"aax",adProgramId:1010,adCreativeDetails:[{campaignId:c}]},adPlacementMetaData:{adElementId:f[2],pageType:f[3],pageUrl:f[4],searchTerms:f[5],slotName:d}}))}catch(g){return null}},Va=function(a){var b=ua["default"].setup().define,c=!!n("data-ad-feedback-clicks"),d=!!n("data-ad-feedback-simulate"),
e=a||"AdFeedbackSuccess",f="AdFeedbackPlaceholderClick",g=!1;c&&b(Q.adFeedbackHandler,"click",function(){y.log(f);"AdFeedbackPlaceholderClick"===f&&(g=!0)});a=n("data-ad-feedback");b=n("data-ad-feedback-url")||"/gp/aq-feedback/lazyLoad/handler/af-link-handler.html";if(a){c=n("data-slot");var k=n("data-aid"),m=n("data-cid");a=Ua(a,k,m,c,b);Ta({url:a,onSuccess:function(h){var l=h.html;var q=p('[data-id="afb-content"]');q&&l?(q.innerHTML=l,l=q):l=null;if(h=h.script)q=t().createElement("script"),q.type=
"text/javascript",q.innerHTML=h,p().appendChild(q);y.log(e);f="AdFeedbackLinkClick";l&&g&&d&&((h=p("a",l))?(h.click(),h=!0):h=!1,y.log(h?"AdFeedbackSimulateClickSuccess":"AdFeedbackSimulateClickFail"))},onError:function(){y.log("AdFeedbackFallback");g&&d&&y.log("AdFeedbackSimulateClickFail")}})}},da=function(){r('[data-id="cta"]').forEach(function(a){if(a.parentElement){var b=p('[data-id*="cta-fallback"]',a.parentElement),c=p(".a-truncate",a),d=p(".a-truncate-full",a);c&&d&&(d.clientHeight>c.clientHeight&&
b?(b.style.display="block",a.parentElement.removeChild(a)):(b=a.parentElement.getAttribute("aria-hidden"),b&&"false"!==b||(b=a.getAttribute("data-label")||d.innerHTML,a.parentElement.setAttribute("aria-label",b)),(c=p('[data-id*="cta-chevron"]',a))&&!d.hasAttribute("data-chevron")&&(d.setAttribute("data-chevron","true"),a=d.innerHTML.split(" "),b=a.pop(),c=c.innerHTML,d.innerHTML="<span>"+a.join(" ")+" </span><span>"+b+"&nbsp;"+c+"</span>")))}})},Wa=function(a){var b=n("data-src",a)||"",c=n("data-srcset",
a)||"",d=a.cloneNode();d.removeAttribute("data-src");d.removeAttribute("data-srcset");d.removeAttribute("data-lazy");d.srcset=c;d.src=b;a.parentNode&&a.parentNode.insertBefore(d,a);d.onload=function(){a.style.opacity="0";y.log("LazyLoaded")}},ea=function(a){var b=n("data-src",a)||"",c=n("data-srcset",a)||"",d=n("data-alt",a)||"",e=n("data-cssclass",a)||"",f=document.createElement("img");f.setAttribute("srcset",c);f.setAttribute("src",b);f.setAttribute("alt",d);f.setAttribute("class",e);a.parentNode&&
a.parentNode.insertBefore(f,a);f.onload=function(){return y.log("LazyLoaded")}},Xa=function(){try{r('img[data-lazy="true"]').forEach(Wa),"complete"===document.readyState||"interactive"===document.readyState?r('div[data-lazy="true"]').forEach(ea):document.addEventListener("DOMContentLoaded",function(){return r('div[data-lazy="true"]').forEach(ea)})}catch(a){D(a)}},Ya=function(a,b){return function(){var c,d=r("[data-pixel]"),e=0;try{for(var f=G.__values(d),g=f.next();!g.done;g=f.next()){var k=g.value,
m=a,h=W(k),l=W(m),q=h.left,v;if(!(v=q>=l.left&&q<=l.right)){var x=h.right;v=x>=l.left&&x<=l.right}if(v){var E=k.getAttribute("data-pixel");E&&E.length&&((new Image).src=E);k.removeAttribute("data-pixel");++e}}}catch(u){var J={error:u}}finally{try{g&&!g.done&&(c=f.return)&&c.call(f)}finally{if(J)throw J.error;}}e===d.length&&b()}},Za=function(a,b){var c=Ya(a,function(){d();e();"function"===typeof b&&b()}),d=aa(c,{el:a}),e=O(c);c();return c},$a=function(){var a=t(),b=a.createElement("script");b.type=
"text/javascript";b.async=!0;b.defer=!0;b.src="https://d39x00gckxu2jb.cloudfront.net/follow/assets/follow_button_v2.js";(a=a.getElementsByTagName("script")[0])&&a.parentNode&&a.parentNode.insertBefore(b,a)},ab=function(){},fa=function(a){a.setAttribute("disabled","disabled");if(a=N(".a-button",a))a.classList.add("a-button-disabled"),a.classList.remove("a-button-focus")},ha=function(a){a.removeAttribute("disabled");(a=N(".a-button",a))&&a.classList.remove("a-button-disabled")},ia=function(a,b){var c=
Pa(b,350);a.addEventListener("click",c);return function(){a.removeEventListener("click",c)}},db=function(a,b,c){var d=p('[data-id="track"]'),e=p('[data-button="prev"]'),f=p('[data-button="next"]'),g=12;if(!d||!e||!f)return ab;var k=!!t().querySelector('[dir="rtl"]'),m=0,h=0,l=2,q=c&&c.isLifestyle,v=function(){var u=c&&c.minWidth||350,K=c&&c.maxWidth||600,bb=q?[[0,0],[2*u,1],[900,2],[1500,3],[1900,4]]:[[0,0],[2*u,1],[1220,2],[1820,3],[2250,4]],cb=c&&c.borderWidth||0,ja=t().defaultView,H=parseInt(ja.getComputedStyle(d).width,
10);l=(bb.find(function(F){return F[0]>H})||[H,4])[1]||0;if(!(1>l)){var z=Math.floor(H/l)+2*cb-24;g=12;z>K&&(z=K,g=(H-z*l)/(2*l));z<u&&(z=u,g=(H-z*l)/(2*l));Array.from(d.children).forEach(function(F){F.style.width=z+"px";F.style.minWidth=z+"px";F.style.maxWidth=z+"px";F.style.marginLeft=g+"px";F.style.marginRight=g+"px"});d.children&&d.children[0]&&(m=parseInt(ja.getComputedStyle(d.children[0]).width,10))}},x=function(u){v();u>d.children.length-l&&(u=h=d.children.length-l);d.style.transform="translateX("+
(k?"":"-")+u*(m+2*g)+"px)";ha(e);ha(f);h===d.children.length-l&&fa(f);0===h&&fa(e)};a=function(u){var K="next"===u?1:-1;return function(){h+=K;x(h)}};O(function(){return x(h)});f.addEventListener("click",a("next"));e.addEventListener("click",a("prev"));var E=ia(f,b),J=ia(e,b);x(h);return function(){E();J()}};L=function(a){return function(){return G.__awaiter(void 0,void 0,void 0,function(){var b,c,d,e,f;return G.__generator(this,function(g){switch(g.label){case 0:y.log("Loaded");b=a||{};c=b.loadAdFeedback;
d=b.onLoad;e=b.onInit;f=b.isMobile;e&&e();try{c&&Va()}catch(h){D(h)}return[4,ra["default"].pageReady];case 1:g.sent();y.log("Ready");try{var k=p(".sbx-no-js",void 0);k&&k.classList.remove("sbx-no-js");try{var m=r("[data-cid]");m.length?m.forEach(ca):ca()}catch(h){D(h)}try{da(),O(da)}catch(h){D(h)}Xa();d&&d();g=f;if(void 0!==g&&!window.sbxGwentClientDPR)try{window.sbxGwentClientDPR=!0,P((g?"Mobile":"Desktop")+"DPR"+(4>=Math.round(2*window.devicePixelRatio)/2?Math.round(2*window.devicePixelRatio)/2:
"4+"))}catch(h){D(h)}}catch(h){D(h)}return[2]}})})}}({loadAdFeedback:!0,onLoad:function(){var a=p('[data-id="carousel"]');if(a){var b=function(){},c=Za(a,function(){b()});p('[data-enhanced-mbc="true"]')&&(b=db(a,c,{minWidth:351,borderWidth:1}),c());$a()}}});R._operationNames=[];R.card=L});
