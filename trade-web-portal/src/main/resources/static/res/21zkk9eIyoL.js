(function(d){var c=window.UIPageJS||window.P,w=c._namespace||c.attributeErrors,a=w?w("HuddlesChatboxJS",""):c;a.guardFatal?a.guardFatal(d)(a,window):a.execute(function(){d(a,window)})})(function(d,c,w){d.when("A","huddles-core","ready").register("huddles-chatbox-interaction-2.0",function(a,b){function e(){if(n.width()&&n.offset()){var a=n.width();return a+n.offset().left-d.width()>.9*a?f.css("right",g):f.css("right",g+a)}a=parseInt(t.css("padding-right"),10);return f.css("right",g+a)}function u(){if(0!==
q.length&&null!==q.position()){var a=d.height(),b=Math.max(0,q.position().top+q.height()-d.scrollTop());300>a-b?m.height(0):m.height(Math.min(500,a-b)-v.outerHeight())}}function k(){u();e()}var d=a.$(c),t=a.$("body"),q=a.$("#navbar, #navWrapper, .header-contents-container").first(),n=a.$("#nav-flyout-ewc"),f=a.$(".huddles-chatbox"),m=a.$(".huddles-chatbox__content"),v=a.$(".huddles-chatbox__toolbar"),r=a.$(".huddles-chatbox__toolbar-minimize"),g=parseInt(f.css("right"),10);setInterval(e,3E3);d./resize(a.debounce(k,
100));d.scroll(a.debounce(u,100));return{minimizeChatbox:function(b){f.show();b?(m.hide(),r.addClass("huddles-chatbox__vertical-flip")):a.slideUp(m,200,"ease-out",function(){r.addClass("huddles-chatbox__vertical-flip")})},maximizeChatbox:function(){},/restoreChatbox:function(b){m.show();k();b?(f.show(),r.removeClass("huddles-chatbox__vertical-flip")):a.slideDown(f,200,"ease-out",function(){r.removeClass("huddles-chatbox__vertical-flip")})},closeChatbox:function(){a.slideUp(f,200,"ease-out")}}});"use strict";
d.when("A","ready").register("huddles-chatbox-storage-2.0",function(a){function b(){try{return u&&"sessionStorage"in c&&null!==c.sessionStorage&&sessionStorage}catch(a){return!1}}var e="huddle-chatbox"+c.location.pathname,u=!1;return{enableSessionStorage:function(){u=!0},getChatboxState:function(){if(b())return JSON.parse(sessionStorage.getItem(e))||{};u&&d.log("sessionStorage not available","WARN");return{}},setChatboxState:function(a){b()&&sessionStorage.setItem(e,JSON.stringify(a))},DISPLAY_CODE:{MINIMIZED:"MINIMIZED",
MAXIMIZED:"MAXIMIZED",NORMAL:"NORMAL"}}});"use strict";d.when("A","ready").register("huddles-chatbox-metrics-2.0",function(a){return{logCounter:function(a,d){c.ue&&c.ue.count&&(a="HuddlesChatbox."+a,c.ue.count(a,(c.ue.count(a)||0)+(d||1)))}}});"use strict";d.register("huddles-chatbox-feature-config-2.0",function(){return{chatbox:!0}});"use strict";d.when("A","huddles-chatbox-feature-config-2.0","ready").register("huddles-init-2.0",function(a,b){function e(a){var b=c.ue.sn||c.ue_sn;return b&&b.substring(b.length-
a.length,b.length)===a}return{initialize:function(){if(!c.ue||"PackageProg/ressTracker"!==c.ue_pty||e(".com"))c.HuddlesChatboxConfig?d.log("Chatbox config already registered","WARN"):b.chatbox&&(c.HuddlesChatboxConfig={},a.get("/conversations/chatbox-config",{params:{originalUrl:encodeURIComponent(c.location.href),pty:c.ue_pty},timeout:4E4,success:function(b){var e;if(b.chatboxSupported){if(a.objectIsEmpty(b.endpointConfig)||a.objectIsEmpty(b.startupArgs)){d.log("Invalid Huddles chatbox config",
"ERROR");c.HuddlesChatboxConfig=null;return}e={chatboxSupported:!0,chatboxEndpointConfig:b.endpointConfig,chatboxStartupArgs:a.$.extend({},b.startupArgs,{renderContext:{isRemote:!0}}),enableSessionStorage:b.enableSessionStorage}}else e={chatboxSupported:!1},d.log("Chatbox functionality supp/ressed","WARN");d.declare("huddles-chatbox-config-2.0",e);c.HuddlesChatboxConfig=e;b.chatboxContainer&&a.$(b.chatboxContainer).appendTo("body")},error:function(a,b,e){c.HuddlesChatboxConfig=null;d.log("Failed to get Huddles chatbox config. "+
b+": "+e,"ERROR")}}))}}});d.when("A","huddles-core","huddles-chatbox-interaction-2.0","huddles-chatbox-storage-2.0","huddles-chatbox-metrics-2.0","huddles-chatbox-config-2.0","ready").register("huddles-chatbox-2.0",function(a,b,e,c,k,x){function t(a){g[h||"INBOX"]=a;c.setChatboxState(g)}function q(l){var c=l.displayCode||p.NORMAL,d=a.$.extend({},m,l);l.showEmbedded&&l.container?(l.container instanceof a.$&&(l.container=l.container.get(0)),b.startHuddleApp(l.container,v,d),k.logCounter("Rendered.Embedded")):
(c===p.MINIMIZED?e.minimizeChatbox(!0):(l=document.querySelector(".huddles-chatbox__content"),b.startHuddleApp(l,v,d),c===p.MAXIMIZED?(e./restoreChatbox(!0),e.maximizeChatbox()):e./restoreChatbox()),g={},t(c),k.logCounter("Rendered."+c))}function n(a){h=null;q(a||{})}function f(a){if(!a||!a.huddleId)return d.log("Required render parameter huddleId missing for renderHuddleChat","FATAL"),!1;h=a.huddleId;q(a)}var m=x.chatboxStartupArgs,v=x.chatboxEndpointConfig,r=[];x.enableSessionStorage&&c.enableSessionStorage();
(function(){b.subscribeToHuddlesStore&&b.subscribeToHuddlesStore(function(a,b){function c(a,b){if(a&&a.messages&&a.messages.get(b)&&a.messages.get(b).displayMessages)return a.messages.get(b).displayMessages}function d(a,b){return b.filter(function(b){return a.filters.slotFilter(b.slot)})}var e;b&&b.huddle&&b.huddle.get(h)&&b.huddle.get(h).jid&&(e=b.huddle.get(h).jid);b=c(b,e);var g=c(a,e),f=[];b&&0<b.size&&g===w?f=b:b&&g&&b.size>g.size&&(f=b.filter(function(a){return!g.has(a.ID)}));(f=f.filter(function(a){return a&&
a.campfireMessage&&!a.campfireMessage.wasSentByUs}))&&0<f.size&&r.forEach(function(a){var b=d(a,f);0<b.size&&a.handler(b.size)})})})();var g=c.getChatboxState(),p=c.DISPLAY_CODE,h;a.objectIsEmpty(g)||a.each(g,function(a,b){"INBOX"===b?n({showEmbedded:!1,displayCode:a}):f({huddleId:b,showEmbedded:!1,displayCode:a})});return{renderInbox:n,renderHuddleChat:f,/restoreChatbox:function(){if(!h||!g[h]||g[h]===p.MINIMIZED){var c={};h&&(c.huddleId=h);var c=a.$.extend({},m,c),d=document.querySelector(".huddles-chatbox__content");
b.startHuddleApp(d,v,c)}e./restoreChatbox();t(p.NORMAL);k.logCounter("/restored")},closeChatbox:function(d){d?(d instanceof a.$&&(d=d.get(0)),b.closeHuddleApp(d),k.logCounter("Closed.Embedded")):(e.closeChatbox(),d=document.querySelector(".huddles-chatbox__content"),b.closeHuddleApp(d),g={},c.setChatboxState(g),k.logCounter("Closed"))},minimizeChatbox:function(){e.minimizeChatbox();var a=document.querySelector(".huddles-chatbox__content");b.closeHuddleApp(a);t(p.MINIMIZED);k.logCounter("Minimized")},
maximizeChatbox:function(){e.maximizeChatbox();t(p.MINIMIZED);k.logCounter("Maximized")},subscribeToMessageReceived:function(a){r.push(a)},setPersonaName:b.setPersonaName,deprecated_watchPartyEvent:b.deprecated_watchPartyEvent}});"use strict";d.when("A","huddles-chatbox-2.0","ready").execute(function(a,b){a.declarative("minimizeChatbox","click",function(c){a.$(".huddles-chatbox__content").is(":visible")?b.minimizeChatbox():b./restoreChatbox()});a.declarative("closeChatbox","click",function(a){b.closeChatbox()})})});
/* ******** */
(function(e){var f=window.UIPageJS||window.P,x=f._namespace||f.attributeErrors,b=x?x("FloatingActionButtonWidgetAssetsCommon",""):f;b.guardFatal?b.guardFatal(e)(b,window):b.execute(function(){e(b,window)})})(function(e,f,x){e.register("s-fab-unread-badging-flag",function(){return{enabled:1}});e.register("s-fab-hover-hint-flag",function(){return{enabled:1}});e.when("A","ready").register("s-fab-controller",function(){var b=null,a=null;return{registerComponent:function(m){b=m;a&&a()},setOnComponentRegistered:function(m){a=
m;b&&a()},registerOnOpenHandler:function(a){b.registerOnOpenHandler(a)},registerOnCloseHandler:function(a){b.registerOnCloseHandler(a)},registerOnControlCloseHandler:function(a){b.registerOnControlCloseHandler(a)},registerHoverHandler:function(){b.registerHoverHandler()},isOpen:function(){return b.isOpen()},isVisible:function(){return b.isVisible()},setUnreadMessageCount:function(a){return b.setUnreadMessageCount(a)},expandContentPane:function(){b.expandContentPane()},minimizeContentPane:function(){b.minimizeContentPane()},
showComponent:function(){b.showComponent()},hoverHintEnabled:function(){return b.hoverHintEnabled()},showHoverHint:function(){b.showHoverHint()},getElements:function(){return b.elements}}});e.when("A","s-fab-constants","s-fab-utilities","s-fab-controller","ready").register("s-fab-component-registration",function(b,a,m,c){var e=b.$;return{setup:function(b,f,v){function l(){d.$floatingActionButtonContent.width(Math.ceil(d.$floatingActionButton[0].getBoundingClientRect().width))}function n(b){b===a.CONTENT_VISIBLE?
d.$floatingActionButtonHoverHintContainer.removeClass(a.AUI_HIDDEN_CLASS):d.$floatingActionButtonHoverHintContainer.addClass(a.AUI_HIDDEN_CLASS)}function r(){return v.hoverHintEnabled&&d.$floatingActionButtonHoverHintContainer.length}function w(){d.$floatingActionButtonHoverHintClose.unbind("click");d.$floatingActionButtonHoverHintClose.click(function(){g.hoverHintHasBeenClosed=!0;n(a.CONTENT_HIDDEN)})}function t(b){b===a.CONTENT_VISIBLE?d.$floatingActionButtonContentWrapper.removeClass(a.AUI_HIDDEN_CLASS):
d.$floatingActionButtonContentWrapper.addClass(a.AUI_HIDDEN_CLASS)}function k(b){var c;d.$floatingActionButtonInteractionIcon.removeClass(a.OPEN_IMAGE_CLASS);d.$floatingActionButtonInteractionIcon.removeClass(a.CLOSE_IMAGE_CLASS);d.$floatingActionButtonInteractionIcon.addClass(b);try{c=m.extractContentURL(d.$floatingActionButtonInteractionIcon.css("content")),d.$floatingActionButtonInteractionIcon.attr("src",c)}catch(e){m.metrics.addOne(a.METRICS.COUNTERS.IMAGE_SRC_SET_FAILURE)}}function y(){a.CONTAINER_OPEN===
a.CONTAINER_OPEN&&l();t(a.CONTENT_VISIBLE);n(a.CONTENT_HIDDEN);k(a.CLOSE_IMAGE_CLASS)}function z(){a.CONTAINER_CLOSED===a.CONTAINER_OPEN&&l();t(a.CONTENT_HIDDEN);k(a.OPEN_IMAGE_CLASS)}function p(){return!d.$floatingActionButtonContentWrapper.hasClass(a.AUI_HIDDEN_CLASS)}function A(){d.$floatingActionButtonHoverHintContainer.width(d.$floatingActionButton[0].getBoundingClientRect().width);n(a.CONTENT_VISIBLE)}function B(){g.hasBeenClicked||m.metrics.addOne(a.METRICS.COUNTERS.INITIAL_FAB_CLICK);g.hasBeenClicked=
!0;if(g.onOpenHandler)g.onOpenHandler();y()}b=e(b.elem()).parent();var d={$floatingActionButton:b.find(a.FAB_BUTTON_SELECTOR),$floatingActionButtonMain:b.find(a.FAB_BUTTON_MAIN_SELECTOR),$floatingActionButtonContainer:b.find(f),$floatingActionButtonControl:b.find(a.FAB_BUTTON_CONTROL_SELECTOR),$floatingActionButtonContent:b.find(a.FAB_CONTENT_SELECTOR),$floatingActionButtonContentWrapper:b.find(a.FAB_CONTENT_WRAPPER_SELECTOR),$floatingActionButtonInteractionIcon:b.find(a.FAB_INTERACTION_ICON),$floatingActionButtonUnreadMessagesBadge:b.find(a.FAB_UNREAD_MESSAGES_BADGE),
$floatingActionButtonUnreadMessagesCount:b.find(a.FAB_UNREAD_MESSAGES_VALUE),$floatingActionButtonHoverHintContainer:b.find(a.FAB_HOVER_HINT_CONTAINER),$floatingActionButtonHoverHintClose:b.find(a.FAB_HOVER_HINT_CLOSE_BUTTON),$floatingActionButtonWrapper:b.find(a.FAB_WRAPPER_SELECTOR),$rightCol:e(a.RIGHT_COL_SELECTOR)},g={maxUnreadMessagesCount:99,onOpenHandler:null,onCloseHandler:null,onControlCloseHandler:null,hasBeenClicked:!1,hoverHintHasBeenClosed:!1};m.metrics.addOne(a.METRICS.COUNTERS.FAB_COMPONENT_REGISTRATION);
d.$floatingActionButtonControl.unbind("click");d.$floatingActionButtonControl.click(function(){if(!p())B();else if(g.onControlCloseHandler)g.onControlCloseHandler()});d.$floatingActionButtonMain.unbind("click");d.$floatingActionButtonMain.click(function(){if(p()){if(z(),g.onCloseHandler)g.onCloseHandler()}else B()});r()&&w();d.$rightCol.length&&d.$floatingActionButtonWrapper.css("margin-right",Math.ceil(d.$rightCol[0].getBoundingClientRect().width));c.registerComponent({registerOnOpenHandler:function(a){g.onOpenHandler=
a;if(p())g.onOpenHandler()},registerOnCloseHandler:function(a){g.onCloseHandler=a;if(!p())g.onCloseHandler()},registerOnControlCloseHandler:function(a){g.onControlCloseHandler=a},registerHoverHandler:function(){d.$floatingActionButtonContainer.mouseenter(function(){p()||g.hoverHintHasBeenClosed||g.hasBeenClicked||A()}).mouseleave(function(){n(a.CONTENT_HIDDEN)})},isOpen:p,isVisible:function(){return!d.$floatingActionButtonContainer.hasClass(a.AUI_HIDDEN_CLASS)},setUnreadMessageCount:function(a){a&&
0<a?(d.$floatingActionButtonUnreadMessagesCount.text(Math.min(g.maxUnreadMessagesCount,a)),d.$floatingActionButtonUnreadMessagesBadge.css("opacity","1")):d.$floatingActionButtonUnreadMessagesBadge.css("opacity","0")},expandContentPane:y,minimizeContentPane:z,showComponent:function(){d.$floatingActionButtonContainer.removeClass(a.AUI_HIDDEN_CLASS);l()},hoverHintEnabled:r,showHoverHint:A,elements:{$button:d.$floatingActionButton,$container:d.$floatingActionButtonContainer,$contentContainer:d.$floatingActionButtonContent}})}}});
e.when("ready").register("s-fab-constants",function(){return{COMPONENT_NAME:"s-floating-action-button",CLOSE_IMAGE_CLASS:"s-floating-action-button-close-image",OPEN_IMAGE_CLASS:"s-floating-action-button-open-image",FAB_CONTAINER_SELECTOR:"#s-fab-container",FAB_BUTTON_SELECTOR:".s-fab-button",FAB_BUTTON_MAIN_SELECTOR:".s-fab-button-content-main-container",FAB_BUTTON_CONTROL_SELECTOR:".s-fab-button-content-control-container",FAB_CONTENT_SELECTOR:".s-floating-action-button-content",FAB_CONTENT_WRAPPER_SELECTOR:".s-floating-action-button-content-wrapper",
FAB_EMPTY_SELECTOR:"#s-fab-empty",FAB_INTERACTION_ICON:".s-fab-button-image-right",FAB_USE_CASE_SELECTOR:"#fab_useCase",FAB_WRAPPER_SELECTOR:".s-fab-sticky-wrapper",CONTAINER_OPEN:"CONTAINER_OPEN",CONTAINER_CLOSED:"CONTAINER_CLOSED",FAB_UNREAD_MESSAGES_BADGE:".s-fab-button-badge-right-container",FAB_UNREAD_MESSAGES_VALUE:".s-fab-button-badge-right-value",FAB_HOVER_HINT_CONTAINER:".s-fab-hover-hint",FAB_HOVER_HINT_CLOSE_BUTTON:".s-fab-hover-hint-close-image",RIGHT_COL_SELECTOR:"#rightCol",CONTENT_VISIBLE:"CONTENT_VISIBLE",
CONTENT_HIDDEN:"CONTENT_HIDDEN",AUI_HIDDEN_CLASS:"aok-hidden",METRICS:{COUNTERS:{INITIAL_FAB_CLICK:"s-fab-ifc",IMAGE_SRC_SET_FAILURE:"s-fab-issf",FAB_COMPONENT_REGISTRATION:"s-fab-fcr",FAB_RENDER_FAILURE:"s-fab-frf"}}}});e.when("ready").register("fab-page-type",function(){return f.ue_pty});e.when("ready").register("s-fab-utilities",function(){return{buildQueryString:function(b){var a,m=[];for(a in b)m.push(encodeURIComponent(a)+"\x3d"+encodeURIComponent(b[a]));return"?"+m.join("\x26")},buildSignInURL:function(){var b=
{"openid.assoc_handle":{".com":"usflex",".co.uk":"gbflex",".de":"deflex",".fr":"frflex",".es":"esflex",".in":"inflex",".it":"itflex",".co.jp":"jpflex",".ca":"caflex"}[f.location.hostname.replace(/.+?(?=)/,"")],"openid.claimed_id":"http://specs.openid.net/auth/2.0/identifier_select","openid.identity":"http://specs.openid.net/auth/2.0/identifier_select","openid.mode":"checkid_setup","openid.ns":"http://specs.openid.net/auth/2.0","openid.pape.max_auth_age":0,
"openid.return_to":f.location.href};return"/ap/signin"+this.buildQueryString(b)},extractContentURL:function(b){var a=/url\("(.*)"\)/mg.exec(b);try{return a[1]}catch(m){throw Error("Failed to parse url from content ("+b+").");}},metrics:{timer:function(b,a){f.ue&&f.ue.count&&f.ue.count(b,new Date-a)},addOne:function(b){f.ue&&f.ue.count&&f.ue.count(b,1)}}}});e.when("ready").register("s-live-chat-constants",function(){return{COMPONENT_NAME:"s-fab-component-livechatsupport",FAB_CONTAINER_SELECTOR:"#s-fab-container-livechatsupport",
UNAUTHORIZED_ERROR:401,NOT_FOUND_ERROR:404,HUDDLE_ID_GET_OR_CREATE_FETCH_ENDPOINT:"/prepurchase/chat",HUDDLE_ID_GET_EXISTING_FETCH_ENDPOINT:"/prepurchase/chat/existing",/resOLVE_CHAT_ENDPOINT:"/prepurchase/chat//resolve",NEW_HUDDLE:"NEW_HUDDLE",EXISTING_HUDDLE:"EXISTING_HUDDLE",HUDDLES_THEME:{chat_view__background:"#f5ffff",chat_view__gradient:"#e2e9e9",chat_header__background:"#1196AB",message__background__outgoing:"#007185",my_component__border:"#555555",announcement__background:"unset",announcement__align_items:"flex-start"},
QUERY_PARAMETERS:{ASIN:"asin",PRIME:"isPrime",POSTAL_CODE:"postalCode",SEARCH_QUERY:"searchQuery",TITLE:"title",REFERRING_PAGE:"referringPage",CETECH_LIVE_CHAT_PREQUALIFIERS_443376:"CETECH_LIVE_CHAT_PREQUALIFIERS_443376"},SELECTORS:{ASIN:"#fab_asin",IS_PRIME:"#fab_isPrimeCustomer",POSTAL_CODE:"#fab_customerZipCode",SEARCH_QUERY:"#fab_searchQuery",TITLE:"#fab_title"},METRICS:{TIMERS:{FETCH_HUDDLE_FETCH_TIME:"s-fab-lcs-ft"},COUNTERS:{FAB_RENDER_FAILURE:"s-fab-lcs-frf",FETCH_HUDDLE_ID_NOT_OK:"s-fab-lcs-fin",
FETCH_HUDDLE_ID_NOT_FOUND:"s-fab-lcs-finf",FETCH_HUDDLE_ID_OK:"s-fab-lcs-fio",FETCH_HUDDLE_ID_NOT_AUTHORIZED:"s-fab-lcs-fina",FETCH_HUDDLE_ID_THROTTLED:"s-fab-lcs-fit",FETCH_HUDDLE_ID_THROTTLED_WHILE_VISIBLE:"s-fab-lcs-fitv",/resOLVE_OK:"s-fab-lcs-frok",/resOLVE_NOT_OK:"s-fab-lcs-frnok"}}}});e.declare("s-fab-live-chat-flags",{hoverHintEnabled:!0,statusBadgeEnabled:!0});e.when("huddles-init-2.0","s-fab-component-livechatsupport","load").execute(function(b){b.initialize();e.when("A","s-fab-controller",
"s-live-chat-constants","s-fab-live-chat-flags","s-fab-utilities","huddles-chatbox-2.0","s-live-chat-weblabs","load","ready").register("s-prepurchase-chat",function(a,b,c,e,h,u,v){var l=0;b.setOnComponentRegistered(function(){function n(){l=0;b.setUnreadMessageCount(l)}function r(e){var f=e.onError,k=e.onSuccess,l=e.onComplete;e=e.type===c.NEW_HUDDLE?c.HUDDLE_ID_GET_OR_CREATE_FETCH_ENDPOINT:c.HUDDLE_ID_GET_EXISTING_FETCH_ENDPOINT;w=new Date;a.ajax(e+t,{method:"get",success:function(a){var d=a.huddle_id;
h.metrics.timer(c.METRICS.TIMERS.FETCH_HUDDLE_FETCH_TIME,w);d?(h.metrics.addOne(c.METRICS.COUNTERS.FETCH_HUDDLE_ID_OK),u.renderHuddleChat({huddleId:d,showEmbedded:!0,container:b.getElements().$contentContainer,theme:c.HUDDLES_THEME}),k&&k(a),l&&l()):b.isVisible()?(h.metrics.addOne(c.METRICS.COUNTERS.FETCH_HUDDLE_ID_THROTTLED_WHILE_VISIBLE),f&&f()):h.metrics.addOne(c.METRICS.COUNTERS.FETCH_HUDDLE_ID_THROTTLED)},error:function(a){a.http.status===c.UNAUTHORIZED_ERROR?h.metrics.addOne(c.METRICS.COUNTERS.FETCH_HUDDLE_ID_NOT_AUTHORIZED):
a.http.status===c.NOT_FOUND_ERROR?h.metrics.addOne(c.METRICS.COUNTERS.FETCH_HUDDLE_ID_NOT_FOUND):h.metrics.addOne(c.METRICS.COUNTERS.FETCH_HUDDLE_ID_NOT_OK);f&&f(a.http.status);l&&l()}})}var w,t="",k={};u.subscribeToMessageReceived&&u.subscribeToMessageReceived({handler:function(a){!b.isOpen()&&e.statusBadgeEnabled&&(l+=a,b.setUnreadMessageCount(l))},filters:{slotFilter:function(a){return"MESSAGE"===a}}});k[c.QUERY_PARAMETERS.ASIN]=a.$(c.SELECTORS.ASIN).val()||"";k[c.QUERY_PARAMETERS.PRIME]=a.$(c.SELECTORS.IS_PRIME).val()||
"";k[c.QUERY_PARAMETERS.POSTAL_CODE]=a.$(c.SELECTORS.POSTAL_CODE).val()||"";k[c.QUERY_PARAMETERS.SEARCH_QUERY]=a.$(c.SELECTORS.SEARCH_QUERY).val()||"";k[c.QUERY_PARAMETERS.TITLE]=a.$(c.SELECTORS.TITLE).val()||"";k[c.QUERY_PARAMETERS.REFERRING_PAGE]=btoa(document.referrer);k[c.QUERY_PARAMETERS.CETECH_LIVE_CHAT_PREQUALIFIERS_443376]=v.CETECH_LIVE_CHAT_PREQUALIFIERS_443376_TREATMENT;try{u.closeChatbox()}catch(y){}t=h.buildQueryString(k);r({type:c.EXISTING_HUDDLE,onSuccess:function(a){a.engaged&&b.expandContentPane();
b.registerOnOpenHandler(n)},onError:function(){b.registerOnOpenHandler(function(){r({type:c.NEW_HUDDLE,onSuccess:function(){b.registerOnOpenHandler(n);f.ue&&ue.trigger&&ue.trigger(c.QUERY_PARAMETERS.CETECH_LIVE_CHAT_PREQUALIFIERS_443376,v.CETECH_LIVE_CHAT_PREQUALIFIERS_443376_TREATMENT)},onError:function(a){a&&a===c.UNAUTHORIZED_ERROR&&(a=h.buildSignInURL(),f.location.href=a)}})})},onComplete:function(){b.showComponent();b.hoverHintEnabled()&&!b.isOpen()&&b.showHoverHint()}});b.registerOnControlCloseHandler(function(){a.ajax(c./resOLVE_CHAT_ENDPOINT,
{method:"get",success:function(){h.metrics.addOne(c.METRICS.COUNTERS./resOLVE_OK)},error:function(a){a.http.status===c.NOT_FOUND_ERROR?b.minimizeContentPane():h.metrics.addOne(c.METRICS.COUNTERS./resOLVE_NOT_OK)}})})})})});e.when("A","s-fab-component-registration","s-fab-live-chat-flags","fab-page-type","ready").register("s-fab-register-component-for-selector",function(b,a,f,c){return function(q){var h=function(){a.setup({elem:function(){return q}},q,f)};"Detail"===c&&(h(),e.register("s-fab-component-livechatsupport"),
b.on("a:pageUpdate",b.debounce(function(){h()},750)))}});e.when("A","s-fab-register-component-for-selector","s-fab-constants","s-fab-utilities").register("s-fab-validate-and-register-component",function(b,a,f,c){return function(q,h){b.$(q).length&&(b.$(f.FAB_EMPTY_SELECTOR).length?(c.metrics.addOne(h.COUNTERS.FAB_RENDER_FAILURE),e.register("s-fab-component-render-failure")):a(q))}});e.when("s-fab-validate-and-register-component","s-live-chat-constants").execute(function(b,a){b(a.FAB_CONTAINER_SELECTOR,
a.METRICS)});e.when("s-fab-validate-and-register-component","s-fab-constants").execute(function(b,a){b(a.FAB_CONTAINER_SELECTOR,a.METRICS)});e.when("ready").register("s-live-chat-weblabs",function(){return{CETECH_LIVE_CHAT_PREQUALIFIERS_443376_TREATMENT:"C"}})});
/* ******** */
